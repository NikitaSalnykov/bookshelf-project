!function(){function e(e,n,t,o){Object.defineProperty(e,n,{get:t,set:o,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in a){var n=a[e];delete a[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){a[e]=n},t.parcelRequired7c6=r),r.register("iE7OH",(function(n,t){var o,a;e(n.exports,"register",(function(){return o}),(function(e){return o=e})),e(n.exports,"resolve",(function(){return a}),(function(e){return a=e}));var r={};o=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)r[n[t]]=e[n[t]]},a=function(e){var n=r[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),r.register("aNJCr",(function(n,t){var o;e(n.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var a={};function r(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var n=a[e];return n||(n=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),a[e]=n),n}})),r("iE7OH").register(JSON.parse('{"jSFKT":"shopping-list.1ba3f5fa.js","ee16w":"sprite.898ff988.svg","7i35a":"empty-desktop-tablet@1x.017eaa98.png","hJCae":"empty-desktop-tablet@2x.55899084.png","lDRN9":"empty-mobile@1x.0a4ea4b8.png","2sEqO":"empty-mobile@2x.d86ac43c.png","2Jedz":"amazon-icon1x.a7ec3af8.png","ehEdb":"amazon-icon2x.20dbc182.png","1zLvb":"applebook-icon1x.a9f158e0.png","bk9Lk":"applebook-icon2x.cdd3fb2c.png","kMOzt":"bookshop-icon1x.eb5fbc1e.png","ku5Dq":"bookshop-icon2x.7a15867f.png","5UbS1":"index.3a35f18a.css","cfiU8":"index.f1ee8895.js"}')),r("xpKCW"),r("9VC5X");var i={};i=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("ee16w");var s={};s=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("7i35a");var l={};l=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("hJCae");var c={};c=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("lDRN9");var d={};d=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("2sEqO");var u={};u=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("2Jedz");var p={};p=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("ehEdb");var m={};m=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("1zLvb");var g={};g=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("bk9Lk");var f={};f=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("kMOzt");var _={};_=r("aNJCr").getBundleURL("jSFKT")+r("iE7OH").resolve("ku5Dq");var h=r("1VFfL");const v=document.querySelector(".js-shopping-cart"),b=document.querySelector(".js-cart-list"),H=document.getElementById("pagination"),x="storage-data";let E,S,k,R,w=1;function y(){const e=JSON.parse(localStorage.getItem(x));if(e&&0!==e.length){!function(e){const t=new(n(h))(H,{totalItems:e,itemsPerPage:S,visiblePages:k,centerAlign:!0,page:w});t.on("afterMove",(e=>{w=e.page;return L(JSON.parse(localStorage.getItem(x)),w),w}))}(e.length),L(e,w)}else F()}function F(){const e=`\n    <div class="cart-empty">\n      <p class="cart-empty__text">\n        This page is empty, add some books and proceed to order.\n      </p>\n      <picture>\n        <source\n          srcset="\n            ${n(s)} 1x,\n            ${n(l)} 2x\n          "\n          media="(min-width: 768px)"\n        />\n        <img\n          srcset="\n            ${n(c)} 1x,\n            ${n(d)} 2x\n            "\n          src="${n(c)}"\n          alt="Empty cart"\n          loading="lazy"\n          class="cart-empty__img"\n        />\n      </picture>\n    </div>`;v.innerHTML=e}function L(e,t){const o=(t-1)*S,a=o+S,r=e.slice(o,a).map((({id:e,book_image:t,title:o,author:a,marketAmazon:r,marketAppleBooks:s,marketBookshop:l,list_name:c})=>`\n      <li class="cart__item card js-card" data-book-id="${e}">\n        <picture>\n          <img\n            loading="lazy"\n            src="${t||"./images/placeholders/very-small-placeholder.png"}"\n            alt="${o}"\n            class="card__img"\n            width="110"\n            height="142"\n          />\n        </picture>\n        <div class="card__content">\n          <h3 class="card__title">${o.trim()}</h3>\n          <p class="card__category">${c.trim()}</p>\n          <p class="card__description">\n            Lorem, ipsum dolor sit amet consectetur adipisicing elit.\n            Temporibus, architecto voluptate sint debitis ab fugit\n            laudantium nostrum dolore quisquam? Laboriosam nulla eum a,\n            quo, molestiae sed error possimus expedita veniam maiores\n            nam maxime provident quod blanditiis cum voluptate. A\n            provident corrupti dignissimos ullam. Porro architecto\n            maiores est ullam sed. Cum.\n            Temporibus, architecto voluptate sint debitis ab fugit\n            laudantium nostrum dolore quisquam? Laboriosam nulla eum a,\n            quo, molestiae sed error possimus expedita veniam maiores\n            nam maxime provident quod blanditiis cum voluptate. A\n            provident corrupti dignissimos ullam. Porro architecto\n            maiores est ullam sed. Cum.\n          </p>\n          <div class="card__footer">\n            <p class="card__author">${a.trim()}</p>\n            <ul class="card__shops list">\n              <li class="shop">\n                <a\n                  href="${r}"\n                  target="_blank"\n                  rel="noopener nofollow"\n                >\n                  <img class="shop__image--amazon"\n                    loading="lazy"\n                    width="28"\n                    height="28"\n                    srcset="\n                      ${n(u)} 1x,\n                      ${n(p)} 2x\n                    "\n                    src="${n(u)}"\n                    alt="amazon.com"\n                /></a>\n              </li>\n              <li class="shop">\n                <a\n                  href="${s}"\n                  target="_blank"\n                  rel="noopener nofollow"\n                >\n                  <img class="shop__image--apple"\n                    loading="lazy"\n                    width="28"\n                    height="28"\n                    srcset="\n                      ${n(m)} 1x,\n                      ${n(g)} 2x\n                    "\n                    src="${n(m)}"\n                    alt="books.apple.com"\n                /></a>\n              </li>\n              <li class="shop">\n                <a\n                  href="${l}"\n                  target="_blank"\n                  rel="noopener nofollow"\n                >\n                  <img class="shop__image--bookshop"\n                    loading="lazy"\n                    width="28"\n                    height="28"\n                    srcset="\n                      ${n(f)} 1x,\n                      ${n(_)} 2x\n                    "\n                    src="${n(f)}"\n                    alt="bookshop.org"\n                /></a>\n              </li>\n            </ul>\n          </div>\n          <button\n            aria-label="delete" class="card__delete button js-card__delete"\n            type="button"\n          >\n            <svg class="icon-delete" width="22" height="22">\n              <use x="1%" href="${n(i)}#icon-bin"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`)).join("");b.innerHTML=r}b.addEventListener("click",(function(e){if(e.target.classList.contains("js-card__delete")){const n=e.target.closest(".js-card"),t=n.dataset.bookId,o=JSON.parse(localStorage.getItem(x)).filter((e=>e.id!==t));localStorage.setItem(x,JSON.stringify(o)),o.length||(n.remove(),F());const a=Math.ceil(o.length/S);a>=w?(n.remove(),y()):(E=a,w=a,n.remove(),y())}})),window.addEventListener("resize",(function(){const e=window.innerWidth;e<768?(k=1,S=4,clearTimeout(R),R=setTimeout((function(){y()}),200)):e>=768&&(S=3,k=3,clearTimeout(R),R=setTimeout((function(){y()}),200))})),document.addEventListener("DOMContentLoaded",(function(){const e=window.innerWidth;e<768?(k=1,S=4,y()):e>=768&&(S=3,k=3,y())})),y()}();
//# sourceMappingURL=shopping-list.1ba3f5fa.js.map
