{"mappings":"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","sources":["src/index.js","src/js/sidebarCategories.js","src/js/modal.js","src/js/add-to-cart.js","src/js/scrollup.js"],"sourcesContent":["import './js/checkAuth.js';\nimport './js/markup.js';\n\nimport './js/sidebarCategories.js';\nimport './js/support.js'\n\n// import './js/firebase/firebase-test.js';\n\nimport './js/theme.js';\nimport './js/sign.js';\nimport './js/LogOut.js';\nimport './js/API.js';\nimport './js/modal.js';\nimport './js/scrollup.js';\nimport './js/mobil-menu.js'\nimport './js/switcherActive'\n\n","import {\n  markupUpSideCategories,\n  markupAllCategories,\n  markupCategorieItem,\n  markupCategorieItemMore,\n} from './markup.js';\nimport {loader} from './loader.js';\nimport { title } from 'process';\n\nconst sideCategoriesList = document.querySelector('.js_side_categories_list');\nconst titleCategorie = document.querySelector('.title_categories')\nexport const booksView = document.querySelector('.js_books_view');\n\nasync function createMarkupCategories() {\n  const mark = await markupUpSideCategories();\n  sideCategoriesList.insertAdjacentHTML('beforeend', mark);\n}\ncreateMarkupCategories();\n\nasync function createMarkupHero() {\n  titleCategorie.textContent = ''\n  booksView.innerHTML = loader();\n  const mark = await markupAllCategories();\n  booksView.innerHTML = mark;\n}\ncreateMarkupHero();\n\nasync function createMarkupCategorieItem(target) {\n  titleCategorie.textContent = ''\n  booksView.innerHTML = loader();\n  const mark = await markupCategorieItem(target);\n  booksView.innerHTML = mark;\n}\n\n\nsideCategoriesList.addEventListener('click', onClick);\n\nasync function onClick(e) {\n  e.preventDefault();\n  let target = e.target.textContent;\n\n  if (!(e.target.tagName === 'A')) {\n    return;\n  }\n  if (target === 'All categories') {\n    createMarkupHero();\n  } else {\n    createMarkupCategorieItem(target);\n  }\n  [...e.currentTarget.children].map(el =>\n    el.classList.remove('selected-category')\n  );\n  e.target.parentNode.classList.add('selected-category');\n}\n\n// Load More\nbooksView.addEventListener('click', onSeeMore);\nasync function onSeeMore(e) {\n  let targetBtn = e.target.classList.contains('load-more-books');\n  if (!targetBtn) {\n    return;\n  }\n  let fetchtitle = e.target.closest('.category-books').firstChild.textContent;\n  await createMarkupCategorieItemMore(fetchtitle);\n  e.target.classList.add('no-btn');\n  [...e.target.previousSibling.children].map(el =>\n    el.classList.remove('hidden')\n  );\n}\n\nasync function createMarkupCategorieItemMore(target) {\n  const listBooks = document.querySelectorAll('.list-books');\n  const categorie = [...listBooks].filter(el => el.dataset.category === target);\n  const mark = await markupCategorieItemMore(target);\n  categorie[0].innerHTML = mark;\n}\n","import {\n  markupModal,\n} from './markup.js';\nimport { onClick,checkBook } from './add-to-cart.js';\nimport { booksView } from './sidebarCategories.js';\nconst overlay = document.querySelector('#overlay-modal');\nconst closeButton = document.querySelector('.js-modal-close');\nconst modalBook = document.querySelector('.modal-book');\n// const modalShoppingList = document.querySelector('.js-cart-list')\nconst newModal = document.querySelector('.new-modal')\n\nlet bookId = ''\n\nfunction closeModal() {\n  modalBook.classList.remove('active');\n  overlay.classList.remove('active');\n  document.body.style.overflow = '';\n\n  closeButton.removeEventListener('click', closeModal);\n  overlay.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', handleKeyPress);\n}\n\nfunction handleKeyPress(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nexport async function createMarkupModal(bookId) {\n  const mark = await markupModal(bookId);\n  newModal.innerHTML = mark;\n  const addBook = document.querySelector('.add-book-button')\n  checkBook(addBook)\n  addBook.addEventListener('click',onClick)\n}\n\nbooksView.addEventListener('click', onBook);\n\nasync function onBook(e) {\n  try {\n    bookId = e.target.closest('.outlineli').dataset.id;\n  } catch (error) {\n    return;\n  }\n  if (!bookId) {\n    return;\n  }\n\n  await createMarkupModal(bookId);\n  createMarkupModal(bookId)\n  const buttonAdd = document.querySelector('.js-btn-add')\n  const textAfterButton = document.querySelector('.under-remove-btn-text')\n\n  async function addClass() {\n    modalBook.classList.add('active');\n    overlay.classList.add('active');\n    document.body.style.overflow = 'hidden';\n\n    closeButton.addEventListener('click', closeModal);\n    overlay.addEventListener('click', closeModal);\n    document.addEventListener('keydown', handleKeyPress);\n    closeButton.removeEventListener('click', onBook);\n    overlay.removeEventListener('click', onBook);\n  }\n  addClass();\n}\n\n\n\n\n","import { load } from './storage';\nimport Firebase from \"./firebase/firebase.js\";\n\nconst dataBase = new Firebase;\n\nconst getUserId =()=> {\n    return load('UserData').userID;\n}\n\nfunction onClick(event) {\n    event.preventDefault()\n    const button = event.target;\n    const bookId = button.dataset.id;\n    \n    if (button.textContent=== `remove from the shopping list`) {\n        dataBase.firebaseRemoveBookFromList(getUserId(), bookId);\n        button.textContent = `Add to shopping list`;\n        return;\n    }\n    dataBase.firebaseAddBookToList(getUserId(), bookId)\n     dataBase.onAuthStateChanged(function (user) {\n      if (user) {\n        const userId = user.uid;\n          dataBase.firebaseSelectBooksFromList(userId).then(function (result) {\n          if (result===false) {\n              return;\n          } else if(result.includes(bookId)) {\n              button.textContent = `remove from the shopping list`\n              }\n        }).catch(function (error) {\n          console.error('Помилка :', error);\n        });\n      }\n    \n    }   \n    );\n    \n}\n\nconst checkBook = (btn) => {\n    dataBase.onAuthStateChanged(function (user) {\n        const bookId = btn.dataset.id\n      if (user) {\n        const userId = user.uid;\n          dataBase.firebaseSelectBooksFromList(userId).then(function (result) {\n          if (result===false) {\n              return;\n          } else if(result.includes(bookId)) {\n              btn.textContent = `remove from the shopping list`\n              }\n        }).catch(function (error) {\n          console.error('Помилка :', error);\n        });\n      }\n    \n    }   \n    );\n}\n\n\nexport { onClick,checkBook };","let scrollButton = document.getElementById('scroll-up');\nlet scrollIcon = document.getElementById('scroll-svg');\nscrollButton.style.display = 'none';\nscrollIcon.style.display = 'none';\n\nwindow.addEventListener('scroll', function () {\n\n    if (window.scrollY > 500) {\n        scrollButton.style.display = 'block';\n        scrollIcon.style.display = 'block';\n    } else {\n        scrollButton.style.display = 'none';\n        scrollIcon.style.display = 'none';\n    }\n});\n\n\nscrollButton.addEventListener('click', () => {\n    window.scrollTo({\n    top: 0,\n    behavior: 'smooth'\n    })\n})\n\n"],"names":["parcelRequire","$1KhuP","$bf871bba99a6fdef$var$sideCategoriesList","document","querySelector","$bf871bba99a6fdef$var$titleCategorie","$bf871bba99a6fdef$export$e48a6d30edcb68e4","async","$bf871bba99a6fdef$var$createMarkupHero","textContent","innerHTML","$kvC6y","loader","mark","markupAllCategories","markupUpSideCategories","insertAdjacentHTML","$bf871bba99a6fdef$var$createMarkupCategories","addEventListener","e","preventDefault","target","tagName","markupCategorieItem","$bf871bba99a6fdef$var$createMarkupCategorieItem","currentTarget","children","map","el","classList","remove","parentNode","add","contains","fetchtitle","closest","firstChild","categorie","querySelectorAll","filter","dataset","category","markupCategorieItemMore","$bf871bba99a6fdef$var$createMarkupCategorieItemMore","previousSibling","$jzQFI","$6a57b61027616c58$var$dataBase","default","$6a57b61027616c58$var$getUserId","load","userID","$6a57b61027616c58$export$1d5a917feb871989","event","button","bookId","id","firebaseRemoveBookFromList","firebaseAddBookToList","onAuthStateChanged","user","userId","uid","firebaseSelectBooksFromList","then","result","includes","catch","error","console","$6a57b61027616c58$export$99c4e92396025736","btn","$40873ecf3c18e122$var$overlay","$40873ecf3c18e122$var$closeButton","$40873ecf3c18e122$var$modalBook","$40873ecf3c18e122$var$newModal","$40873ecf3c18e122$var$bookId","$40873ecf3c18e122$var$closeModal","body","style","overflow","removeEventListener","$40873ecf3c18e122$var$handleKeyPress","key","$40873ecf3c18e122$export$800eaa8b597dc39b","bookId1","markupModal","addBook","$40873ecf3c18e122$var$onBook","addClass","$5d2dc1ebb7f85121$var$scrollButton","getElementById","$5d2dc1ebb7f85121$var$scrollIcon","display","window","scrollY","scrollTo","top","behavior"],"version":3,"file":"index.9d78c35a.js.map"}