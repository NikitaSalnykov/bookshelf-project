let e,t,i,n,r,s,a,o,l,c,d,u,h,p,f;function m(e){return e&&e.__esModule?e.default:e}var g,v,y,_,w,b,x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function k(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}var C={},T={},I=x.parcelRequired7c6;function S(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function E(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach(i=>{void 0===e[i]?e[i]=t[i]:S(t[i])&&S(e[i])&&Object.keys(t[i]).length>0&&E(e[i],t[i])})}null==I&&((I=function(e){if(e in C)return C[e].exports;if(e in T){var t=T[e];delete T[e];var i={id:e,exports:{}};return C[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){T[e]=t},x.parcelRequired7c6=I);const N={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function P(){let e="undefined"!=typeof document?document:{};return E(e,N),e}const R={document:N,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function A(){let e="undefined"!=typeof window?window:{};return E(e,R),e}function O(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function L(){return Date.now()}function M(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function D(){let e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){let n=i<0||arguments.length<=i?void 0:arguments[i];if(null!=n&&("undefined"!=typeof window&&void 0!==window.HTMLElement?!(n instanceof HTMLElement):!n||1!==n.nodeType&&11!==n.nodeType)){let i=Object.keys(Object(n)).filter(e=>0>t.indexOf(e));for(let t=0,r=i.length;t<r;t+=1){let r=i[t],s=Object.getOwnPropertyDescriptor(n,r);void 0!==s&&s.enumerable&&(M(e[r])&&M(n[r])?n[r].__swiper__?e[r]=n[r]:D(e[r],n[r]):!M(e[r])&&M(n[r])?(e[r]={},n[r].__swiper__?e[r]=n[r]:D(e[r],n[r])):e[r]=n[r])}}}return e}function F(e,t,i){e.style.setProperty(t,i)}function z(e){let t,{swiper:i,targetPosition:n,side:r}=e,s=A(),a=-i.translate,o=null,l=i.params.speed;i.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(i.cssModeFrameID);let c=n>a?"next":"prev",d=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{t=new Date().getTime(),null===o&&(o=t);let e=Math.max(Math.min((t-o)/l,1),0),c=a+(.5-Math.cos(e*Math.PI)/2)*(n-a);if(d(c,n)&&(c=n),i.wrapperEl.scrollTo({[r]:c}),d(c,n)){i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.scrollSnapType="",setTimeout(()=>{i.wrapperEl.style.overflow="",i.wrapperEl.scrollTo({[r]:c})}),s.cancelAnimationFrame(i.cssModeFrameID);return}i.cssModeFrameID=s.requestAnimationFrame(u)};u()}function W(e,t){return void 0===t&&(t=""),[...e.children].filter(e=>e.matches(t))}function U(e,t){let i=A();return i.getComputedStyle(e,null).getPropertyValue(t)}function B(e){let t,i=e;if(i){for(t=0;null!==(i=i.previousSibling);)1===i.nodeType&&(t+=1);return t}}function j(e,t,i){let n=A();return i?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function q(){return e||(e=function(){let e=A(),t=P();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),e}const H=(e,t)=>{if(!e||e.destroyed||!e.params)return;let i=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(i){let t=i.querySelector(`.${e.params.lazyPreloaderClass}`);t&&t.remove()}},V=(e,t)=>{if(!e.slides[t])return;let i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},G=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext,i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);let n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){let i=[r-t];i.push(...Array.from({length:t}).map((e,t)=>r+n+t)),e.slides.forEach((t,n)=>{i.includes(t.column)&&V(e,n)});return}let s=r+n-1;if(e.params.rewind||e.params.loop)for(let n=r-t;n<=s+t;n+=1){let t=(n%i+i)%i;(t<r||t>s)&&V(e,t)}else for(let n=Math.max(r-t,0);n<=Math.min(s+t,i-1);n+=1)n!==r&&(n>s||n<r)&&V(e,n)};function $(e){let{swiper:t,runCallbacks:i,direction:n,step:r}=e,{activeIndex:s,previousIndex:a}=t,o=n;if(o||(o=s>a?"next":s<a?"prev":"reset"),t.emit(`transition${r}`),i&&s!==a){if("reset"===o){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),"next"===o?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function X(e){let t=P(),i=A(),n=this.touchEventsData;n.evCache.push(e);let{params:r,touches:s,enabled:a}=this;if(!a||!r.simulateTouch&&"mouse"===e.pointerType||this.animating&&r.preventInteractionOnTransition)return;!this.animating&&r.cssMode&&r.loop&&this.loopFix();let o=e;o.originalEvent&&(o=o.originalEvent);let l=o.target;if("wrapper"===r.touchEventsTarget&&!this.wrapperEl.contains(l)||"which"in o&&3===o.which||"button"in o&&o.button>0||n.isTouched&&n.isMoved)return;let c=!!r.noSwipingClass&&""!==r.noSwipingClass,d=e.composedPath?e.composedPath():e.path;c&&o.target&&o.target.shadowRoot&&d&&(l=d[0]);let u=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,h=!!(o.target&&o.target.shadowRoot);if(r.noSwiping&&(h?function(e,t){return void 0===t&&(t=this),function t(i){if(!i||i===P()||i===A())return null;i.assignedSlot&&(i=i.assignedSlot);let n=i.closest(e);return n||i.getRootNode?n||t(i.getRootNode().host):null}(t)}(u,l):l.closest(u))){this.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;s.currentX=o.pageX,s.currentY=o.pageY;let p=s.currentX,f=s.currentY,m=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,g=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(m&&(p<=g||p>=i.innerWidth-g)){if("prevent"!==m)return;e.preventDefault()}Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=f,n.touchStartTime=L(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1);let v=!0;l.matches(n.focusableElements)&&(v=!1,"SELECT"===l.nodeName&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==l&&t.activeElement.blur();let y=v&&this.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!l.isContentEditable&&o.preventDefault(),r.freeMode&&r.freeMode.enabled&&this.freeMode&&this.animating&&!r.cssMode&&this.freeMode.onTouchStart(),this.emit("touchStart",o)}function K(e){let t;let i=P(),n=this.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:o}=this;if(!o||!r.simulateTouch&&"mouse"===e.pointerType)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&this.emit("touchMoveOpposite",l);return}let c=n.evCache.findIndex(e=>e.pointerId===l.pointerId);c>=0&&(n.evCache[c]=l);let d=n.evCache.length>1?n.evCache[0]:l,u=d.pageX,h=d.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=h;return}if(!this.allowTouchMove){l.target.matches(n.focusableElements)||(this.allowClick=!1),n.isTouched&&(Object.assign(s,{startX:u,startY:h,prevX:this.touches.currentX,prevY:this.touches.currentY,currentX:u,currentY:h}),n.touchStartTime=L());return}if(r.touchReleaseOnEdges&&!r.loop){if(this.isVertical()){if(h<s.startY&&this.translate<=this.maxTranslate()||h>s.startY&&this.translate>=this.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(u<s.startX&&this.translate<=this.maxTranslate()||u>s.startX&&this.translate>=this.minTranslate())return}if(i.activeElement&&l.target===i.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,this.allowClick=!1;return}if(n.allowTouchCallbacks&&this.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=u,s.currentY=h;let p=s.currentX-s.startX,f=s.currentY-s.startY;if(this.params.threshold&&Math.sqrt(p**2+f**2)<this.params.threshold)return;if(void 0===n.isScrolling){let e;this.isHorizontal()&&s.currentY===s.startY||this.isVertical()&&s.currentX===s.startX?n.isScrolling=!1:p*p+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(p))/Math.PI,n.isScrolling=this.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(n.isScrolling&&this.emit("touchMoveOpposite",l),void 0===n.startMoving&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(n.startMoving=!0),n.isScrolling||this.zoom&&this.params.zoom&&this.params.zoom.enabled&&n.evCache.length>1){n.isTouched=!1;return}if(!n.startMoving)return;this.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let m=this.isHorizontal()?p:f,g=this.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(m=Math.abs(m)*(a?1:-1),g=Math.abs(g)*(a?1:-1)),s.diff=m,m*=r.touchRatio,a&&(m=-m,g=-g);let v=this.touchesDirection;this.swipeDirection=m>0?"prev":"next",this.touchesDirection=g>0?"prev":"next";let y=this.params.loop&&!r.cssMode;if(!n.isMoved){if(y&&this.loopFix({direction:this.swipeDirection}),n.startTranslate=this.getTranslate(),this.setTransition(0),this.animating){let e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});this.wrapperEl.dispatchEvent(e)}n.allowMomentumBounce=!1,r.grabCursor&&(!0===this.allowSlideNext||!0===this.allowSlidePrev)&&this.setGrabCursor(!0),this.emit("sliderFirstMove",l)}n.isMoved&&v!==this.touchesDirection&&y&&Math.abs(m)>=1&&(this.loopFix({direction:this.swipeDirection,setTranslate:!0}),t=!0),this.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=m+n.startTranslate;let _=!0,w=r.resistanceRatio;if(r.touchReleaseOnEdges&&(w=0),m>0?(y&&!t&&n.currentTranslate>(r.centeredSlides?this.minTranslate()-this.size/2:this.minTranslate())&&this.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>this.minTranslate()&&(_=!1,r.resistance&&(n.currentTranslate=this.minTranslate()-1+(-this.minTranslate()+n.startTranslate+m)**w))):m<0&&(y&&!t&&n.currentTranslate<(r.centeredSlides?this.maxTranslate()+this.size/2:this.maxTranslate())&&this.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:this.slides.length-("auto"===r.slidesPerView?this.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),n.currentTranslate<this.maxTranslate()&&(_=!1,r.resistance&&(n.currentTranslate=this.maxTranslate()+1-(this.maxTranslate()-n.startTranslate-m)**w))),_&&(l.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),this.allowSlidePrev||this.allowSlideNext||(n.currentTranslate=n.startTranslate),r.threshold>0){if(Math.abs(m)>r.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,n.currentTranslate=n.startTranslate,s.diff=this.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{n.currentTranslate=n.startTranslate;return}}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&this.freeMode||r.watchSlidesProgress)&&(this.updateActiveIndex(),this.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&this.freeMode&&this.freeMode.onTouchMove(),this.updateProgress(n.currentTranslate),this.setTranslate(n.currentTranslate))}function Y(e){let t;let i=this,n=i.touchEventsData,r=n.evCache.findIndex(t=>t.pointerId===e.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)){let t="pointercancel"===e.type&&(i.browser.isSafari||i.browser.isWebView);if(!t)return}let{params:s,touches:a,rtlTranslate:o,slidesGrid:l,enabled:c}=i;if(!c||!s.simulateTouch&&"mouse"===e.pointerType)return;let d=e;if(d.originalEvent&&(d=d.originalEvent),n.allowTouchCallbacks&&i.emit("touchEnd",d),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&s.grabCursor&&i.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}s.grabCursor&&n.isMoved&&n.isTouched&&(!0===i.allowSlideNext||!0===i.allowSlidePrev)&&i.setGrabCursor(!1);let u=L(),h=u-n.touchStartTime;if(i.allowClick){let e=d.path||d.composedPath&&d.composedPath();i.updateClickedSlide(e&&e[0]||d.target),i.emit("tap click",d),h<300&&u-n.lastClickTime<300&&i.emit("doubleTap doubleClick",d)}if(n.lastClickTime=L(),O(()=>{i.destroyed||(i.allowClick=!0)}),!n.isTouched||!n.isMoved||!i.swipeDirection||0===a.diff||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,t=s.followFinger?o?i.translate:-i.translate:-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){i.freeMode.onTouchEnd({currentPos:t});return}let p=0,f=i.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<s.slidesPerGroupSkip?1:s.slidesPerGroup){let i=e<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==l[e+i]?t>=l[e]&&t<l[e+i]&&(p=e,f=l[e+i]-l[e]):t>=l[e]&&(p=e,f=l[l.length-1]-l[l.length-2])}let m=null,g=null;s.rewind&&(i.isBeginning?g=s.virtual&&s.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:i.isEnd&&(m=0));let v=(t-l[p])/f,y=p<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(h>s.longSwipesMs){if(!s.longSwipes){i.slideTo(i.activeIndex);return}"next"===i.swipeDirection&&(v>=s.longSwipesRatio?i.slideTo(s.rewind&&i.isEnd?m:p+y):i.slideTo(p)),"prev"===i.swipeDirection&&(v>1-s.longSwipesRatio?i.slideTo(p+y):null!==g&&v<0&&Math.abs(v)>s.longSwipesRatio?i.slideTo(g):i.slideTo(p))}else{if(!s.shortSwipes){i.slideTo(i.activeIndex);return}let e=i.navigation&&(d.target===i.navigation.nextEl||d.target===i.navigation.prevEl);e?d.target===i.navigation.nextEl?i.slideTo(p+y):i.slideTo(p):("next"===i.swipeDirection&&i.slideTo(null!==m?m:p+y),"prev"===i.swipeDirection&&i.slideTo(null!==g?g:p))}}function Q(){let e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();let{allowSlideNext:n,allowSlidePrev:r,snapGrid:s}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();let o=a&&t.loop;"auto"!==t.slidesPerView&&!(t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=r,e.allowSlideNext=n,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function J(e){this.enabled&&!this.allowClick&&(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function Z(){let{wrapperEl:e,rtlTranslate:t,enabled:i}=this;if(!i)return;this.previousTranslate=this.translate,this.isHorizontal()?this.translate=-e.scrollLeft:this.translate=-e.scrollTop,0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();let n=this.maxTranslate()-this.minTranslate();(0===n?0:(this.translate-this.minTranslate())/n)!==this.progress&&this.updateProgress(t?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}function ee(e){H(this,e.target),!this.params.cssMode&&("auto"===this.params.slidesPerView||this.params.autoHeight)&&this.update()}let et=!1;function ei(){}const en=(e,t)=>{let i=P(),{params:n,el:r,wrapperEl:s,device:a}=e,o=!!n.nested,l="on"===t?"addEventListener":"removeEventListener";r[l]("pointerdown",e.onTouchStart,{passive:!1}),i[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),i[l]("pointerup",e.onTouchEnd,{passive:!0}),i[l]("pointercancel",e.onTouchEnd,{passive:!0}),i[l]("pointerout",e.onTouchEnd,{passive:!0}),i[l]("pointerleave",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&r[l]("click",e.onClick,!0),n.cssMode&&s[l]("scroll",e.onScroll),n.updateOnWindowResize?e[t](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Q,!0):e[t]("observerUpdate",Q,!0),r[l]("load",e.onLoad,{capture:!0})},er=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var es={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};const ea={eventsEmitter:{on(e,t,i){let n=this;if(!n.eventsListeners||n.destroyed||"function"!=typeof t)return n;let r=i?"unshift":"push";return e.split(" ").forEach(e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][r](t)}),n},once(e,t,i){let n=this;if(!n.eventsListeners||n.destroyed||"function"!=typeof t)return n;function r(){n.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];t.apply(n,s)}return r.__emitterProxy=t,n.on(e,r,i)},onAny(e,t){return!this.eventsListeners||this.destroyed||"function"!=typeof e||0>this.eventsAnyListeners.indexOf(e)&&this.eventsAnyListeners[t?"unshift":"push"](e),this},offAny(e){if(!this.eventsListeners||this.destroyed||!this.eventsAnyListeners)return this;let t=this.eventsAnyListeners.indexOf(e);return t>=0&&this.eventsAnyListeners.splice(t,1),this},off(e,t){let i=this;return i.eventsListeners&&!i.destroyed&&i.eventsListeners&&e.split(" ").forEach(e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach((n,r)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&i.eventsListeners[e].splice(r,1)})}),i},emit(){let e,t,i;let n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];"string"==typeof s[0]||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=n):(e=s[0].events,t=s[0].data,i=s[0].context||n),t.unshift(i);let o=Array.isArray(e)?e:e.split(" ");return o.forEach(e=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(n=>{n.apply(i,[e,...t])}),n.eventsListeners&&n.eventsListeners[e]&&n.eventsListeners[e].forEach(e=>{e.apply(i,t)})}),n}},update:{updateSize:function(){let e,t;let i=this.el;e=void 0!==this.params.width&&null!==this.params.width?this.params.width:i.clientWidth,t=void 0!==this.params.height&&null!==this.params.height?this.params.height:i.clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(U(i,"padding-left")||0,10)-parseInt(U(i,"padding-right")||0,10),t=t-parseInt(U(i,"padding-top")||0,10)-parseInt(U(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){let e;let t=this;function i(e){return t.isHorizontal()?e:({width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"})[e]}function n(e,t){return parseFloat(e.getPropertyValue(i(t))||0)}let r=t.params,{wrapperEl:s,slidesEl:a,size:o,rtlTranslate:l,wrongRTL:c}=t,d=t.virtual&&r.virtual.enabled,u=d?t.virtual.slides.length:t.slides.length,h=W(a,`.${t.params.slideClass}, swiper-slide`),p=d?t.virtual.slides.length:h.length,f=[],m=[],g=[],v=r.slidesOffsetBefore;"function"==typeof v&&(v=r.slidesOffsetBefore.call(t));let y=r.slidesOffsetAfter;"function"==typeof y&&(y=r.slidesOffsetAfter.call(t));let _=t.snapGrid.length,w=t.slidesGrid.length,b=r.spaceBetween,x=-v,k=0,C=0;if(void 0===o)return;"string"==typeof b&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*o:"string"==typeof b&&(b=parseFloat(b)),t.virtualSize=-b,h.forEach(e=>{l?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(F(s,"--swiper-centered-offset-before",""),F(s,"--swiper-centered-offset-after",""));let T=r.grid&&r.grid.rows>1&&t.grid;T&&t.grid.initSlides(p);let I="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter(e=>void 0!==r.breakpoints[e].slidesPerView).length>0;for(let s=0;s<p;s+=1){let a;if(e=0,h[s]&&(a=h[s]),T&&t.grid.updateSlide(s,a,p,i),!h[s]||"none"!==U(a,"display")){if("auto"===r.slidesPerView){I&&(h[s].style[i("width")]="");let o=getComputedStyle(a),l=a.style.transform,c=a.style.webkitTransform;if(l&&(a.style.transform="none"),c&&(a.style.webkitTransform="none"),r.roundLengths)e=t.isHorizontal()?j(a,"width",!0):j(a,"height",!0);else{let t=n(o,"width"),i=n(o,"padding-left"),r=n(o,"padding-right"),s=n(o,"margin-left"),l=n(o,"margin-right"),c=o.getPropertyValue("box-sizing");if(c&&"border-box"===c)e=t+s+l;else{let{clientWidth:n,offsetWidth:o}=a;e=t+i+r+s+l+(o-n)}}l&&(a.style.transform=l),c&&(a.style.webkitTransform=c),r.roundLengths&&(e=Math.floor(e))}else e=(o-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(e=Math.floor(e)),h[s]&&(h[s].style[i("width")]=`${e}px`);h[s]&&(h[s].swiperSlideSize=e),g.push(e),r.centeredSlides?(x=x+e/2+k/2+b,0===k&&0!==s&&(x=x-o/2-b),0===s&&(x=x-o/2-b),.001>Math.abs(x)&&(x=0),r.roundLengths&&(x=Math.floor(x)),C%r.slidesPerGroup==0&&f.push(x),m.push(x)):(r.roundLengths&&(x=Math.floor(x)),(C-Math.min(t.params.slidesPerGroupSkip,C))%t.params.slidesPerGroup==0&&f.push(x),m.push(x),x=x+e+b),t.virtualSize+=e+b,k=e,C+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+y,l&&c&&("slide"===r.effect||"coverflow"===r.effect)&&(s.style.width=`${t.virtualSize+b}px`),r.setWrapperSize&&(s.style[i("width")]=`${t.virtualSize+b}px`),T&&t.grid.updateWrapperSize(e,f,i),!r.centeredSlides){let e=[];for(let i=0;i<f.length;i+=1){let n=f[i];r.roundLengths&&(n=Math.floor(n)),f[i]<=t.virtualSize-o&&e.push(n)}f=e,Math.floor(t.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-o)}if(d&&r.loop){let e=g[0]+b;if(r.slidesPerGroup>1){let i=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),n=e*r.slidesPerGroup;for(let e=0;e<i;e+=1)f.push(f[f.length-1]+n)}for(let i=0;i<t.virtual.slidesBefore+t.virtual.slidesAfter;i+=1)1===r.slidesPerGroup&&f.push(f[f.length-1]+e),m.push(m[m.length-1]+e),t.virtualSize+=e}if(0===f.length&&(f=[0]),0!==b){let e=t.isHorizontal()&&l?"marginLeft":i("marginRight");h.filter((e,t)=>!r.cssMode||!!r.loop||t!==h.length-1).forEach(t=>{t.style[e]=`${b}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;g.forEach(t=>{e+=t+(b||0)}),e-=b;let t=e-o;f=f.map(e=>e<=0?-v:e>t?t+y:e)}if(r.centerInsufficientSlides){let e=0;if(g.forEach(t=>{e+=t+(b||0)}),(e-=b)<o){let t=(o-e)/2;f.forEach((e,i)=>{f[i]=e-t}),m.forEach((e,i)=>{m[i]=e+t})}}if(Object.assign(t,{slides:h,snapGrid:f,slidesGrid:m,slidesSizesGrid:g}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){F(s,"--swiper-centered-offset-before",`${-f[0]}px`),F(s,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);let e=-t.snapGrid[0],i=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(t=>t+e),t.slidesGrid=t.slidesGrid.map(e=>e+i)}if(p!==u&&t.emit("slidesLengthChange"),f.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==w&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!d&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){let e=`${r.containerModifierClass}backface-hidden`,i=t.el.classList.contains(e);p<=r.maxBackfaceHiddenSlides?i||t.el.classList.add(e):i&&t.el.classList.remove(e)}},updateAutoHeight:function(e){let t;let i=this,n=[],r=i.virtual&&i.params.virtual.enabled,s=0;"number"==typeof e?i.setTransition(e):!0===e&&i.setTransition(i.params.speed);let a=e=>r?i.slides[i.getSlideIndexByData(e)]:i.slides[e];if("auto"!==i.params.slidesPerView&&i.params.slidesPerView>1){if(i.params.centeredSlides)(i.visibleSlides||[]).forEach(e=>{n.push(e)});else for(t=0;t<Math.ceil(i.params.slidesPerView);t+=1){let e=i.activeIndex+t;if(e>i.slides.length&&!r)break;n.push(a(e))}}else n.push(a(i.activeIndex));for(t=0;t<n.length;t+=1)if(void 0!==n[t]){let e=n[t].offsetHeight;s=e>s?e:s}(s||0===s)&&(i.wrapperEl.style.height=`${s}px`)},updateSlidesOffset:function(){let e=this.slides,t=this.isElement?this.isHorizontal()?this.wrapperEl.offsetLeft:this.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(this.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-this.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);let t=this.params,{slides:i,rtlTranslate:n,snapGrid:r}=this;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&this.updateSlidesOffset();let s=-e;n&&(s=e),i.forEach(e=>{e.classList.remove(t.slideVisibleClass)}),this.visibleSlidesIndexes=[],this.visibleSlides=[];let a=t.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*this.size:"string"==typeof a&&(a=parseFloat(a));for(let e=0;e<i.length;e+=1){let o=i[e],l=o.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(l-=i[0].swiperSlideOffset);let c=(s+(t.centeredSlides?this.minTranslate():0)-l)/(o.swiperSlideSize+a),d=(s-r[0]+(t.centeredSlides?this.minTranslate():0)-l)/(o.swiperSlideSize+a),u=-(s-l),h=u+this.slidesSizesGrid[e],p=u>=0&&u<this.size-1||h>1&&h<=this.size||u<=0&&h>=this.size;p&&(this.visibleSlides.push(o),this.visibleSlidesIndexes.push(e),i[e].classList.add(t.slideVisibleClass)),o.progress=n?-c:c,o.originalProgress=n?-d:d}},updateProgress:function(e){if(void 0===e){let t=this.rtlTranslate?-1:1;e=this&&this.translate&&this.translate*t||0}let t=this.params,i=this.maxTranslate()-this.minTranslate(),{progress:n,isBeginning:r,isEnd:s,progressLoop:a}=this,o=r,l=s;if(0===i)n=0,r=!0,s=!0;else{n=(e-this.minTranslate())/i;let t=1>Math.abs(e-this.minTranslate()),a=1>Math.abs(e-this.maxTranslate());r=t||n<=0,s=a||n>=1,t&&(n=0),a&&(n=1)}if(t.loop){let t=this.getSlideIndexByData(0),i=this.getSlideIndexByData(this.slides.length-1),n=this.slidesGrid[t],r=this.slidesGrid[i],s=this.slidesGrid[this.slidesGrid.length-1],o=Math.abs(e);(a=o>=n?(o-n)/s:(o+s-r)/s)>1&&(a-=1)}Object.assign(this,{progress:n,progressLoop:a,isBeginning:r,isEnd:s}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&this.updateSlidesProgress(e),r&&!o&&this.emit("reachBeginning toEdge"),s&&!l&&this.emit("reachEnd toEdge"),(o&&!r||l&&!s)&&this.emit("fromEdge"),this.emit("progress",n)},updateSlidesClasses:function(){let e;let{slides:t,params:i,slidesEl:n,activeIndex:r}=this,s=this.virtual&&i.virtual.enabled,a=e=>W(n,`.${i.slideClass}${e}, swiper-slide${e}`)[0];if(t.forEach(e=>{e.classList.remove(i.slideActiveClass,i.slideNextClass,i.slidePrevClass)}),s){if(i.loop){let t=r-this.virtual.slidesBefore;t<0&&(t=this.virtual.slides.length+t),t>=this.virtual.slides.length&&(t-=this.virtual.slides.length),e=a(`[data-swiper-slide-index="${t}"]`)}else e=a(`[data-swiper-slide-index="${r}"]`)}else e=t[r];if(e){e.classList.add(i.slideActiveClass);let n=function(e,t){let i=[];for(;e.nextElementSibling;){let n=e.nextElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}(e,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!n&&(n=t[0]),n&&n.classList.add(i.slideNextClass);let r=function(e,t){let i=[];for(;e.previousElementSibling;){let n=e.previousElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}(e,`.${i.slideClass}, swiper-slide`)[0];i.loop,r&&r.classList.add(i.slidePrevClass)}this.emitSlidesClasses()},updateActiveIndex:function(e){let t,i;let n=this,r=n.rtlTranslate?n.translate:-n.translate,{snapGrid:s,params:a,activeIndex:o,realIndex:l,snapIndex:c}=n,d=e,u=e=>{let t=e-n.virtual.slidesBefore;return t<0&&(t=n.virtual.slides.length+t),t>=n.virtual.slides.length&&(t-=n.virtual.slides.length),t};if(void 0===d&&(d=function(e){let t;let{slidesGrid:i,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;for(let e=0;e<i.length;e+=1)void 0!==i[e+1]?r>=i[e]&&r<i[e+1]-(i[e+1]-i[e])/2?t=e:r>=i[e]&&r<i[e+1]&&(t=e+1):r>=i[e]&&(t=e);return n.normalizeSlideIndex&&(t<0||void 0===t)&&(t=0),t}(n)),s.indexOf(r)>=0)t=s.indexOf(r);else{let e=Math.min(a.slidesPerGroupSkip,d);t=e+Math.floor((d-e)/a.slidesPerGroup)}if(t>=s.length&&(t=s.length-1),d===o){t!==c&&(n.snapIndex=t,n.emit("snapIndexChange")),n.params.loop&&n.virtual&&n.params.virtual.enabled&&(n.realIndex=u(d));return}i=n.virtual&&a.virtual.enabled&&a.loop?u(d):n.slides[d]?parseInt(n.slides[d].getAttribute("data-swiper-slide-index")||d,10):d,Object.assign(n,{previousSnapIndex:c,snapIndex:t,previousRealIndex:l,realIndex:i,previousIndex:o,activeIndex:d}),n.initialized&&G(n),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==i&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")},updateClickedSlide:function(e){let t;let i=this.params,n=e.closest(`.${i.slideClass}, swiper-slide`),r=!1;if(n){for(let e=0;e<this.slides.length;e+=1)if(this.slides[e]===n){r=!0,t=e;break}}if(n&&r)this.clickedSlide=n,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):this.clickedIndex=t;else{this.clickedSlide=void 0,this.clickedIndex=void 0;return}i.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");let{params:t,rtlTranslate:i,translate:n,wrapperEl:r}=this;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let s=function(e,t){let i,n,r;void 0===t&&(t="x");let s=A(),a=function(e){let t;let i=A();return i.getComputedStyle&&(t=i.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return s.WebKitCSSMatrix?((n=a.transform||a.webkitTransform).split(",").length>6&&(n=n.split(", ").map(e=>e.replace(",",".")).join(", ")),r=new s.WebKitCSSMatrix("none"===n?"":n)):i=(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=s.WebKitCSSMatrix?r.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=s.WebKitCSSMatrix?r.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),n||0}(r,e);return s+=this.cssOverflowAdjustment(),i&&(s=-s),s||0},setTranslate:function(e,t){let{rtlTranslate:i,params:n,wrapperEl:r,progress:s}=this,a=0,o=0;this.isHorizontal()?a=i?-e:e:o=e,n.roundLengths&&(a=Math.floor(a),o=Math.floor(o)),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?a:o,n.cssMode?r[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-a:-o:n.virtualTranslate||(this.isHorizontal()?a-=this.cssOverflowAdjustment():o-=this.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${o}px, 0px)`);let l=this.maxTranslate()-this.minTranslate();(0===l?0:(e-this.minTranslate())/l)!==s&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,n,r){let s;void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===n&&(n=!0);let a=this,{params:o,wrapperEl:l}=a;if(a.animating&&o.preventInteractionOnTransition)return!1;let c=a.minTranslate(),d=a.maxTranslate();if(s=n&&e>c?c:n&&e<d?d:e,a.updateProgress(s),o.cssMode){let e=a.isHorizontal();if(0===t)l[e?"scrollLeft":"scrollTop"]=-s;else{if(!a.support.smoothScroll)return z({swiper:a,targetPosition:-s,side:e?"left":"top"}),!0;l.scrollTo({[e?"left":"top"]:-s,behavior:"smooth"})}return!0}return 0===t?(a.setTransition(0),a.setTranslate(s),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(s),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,i&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){this.params.cssMode||(this.wrapperEl.style.transitionDuration=`${e}ms`),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);let{params:i}=this;i.cssMode||(i.autoHeight&&this.updateAutoHeight(),$({swiper:this,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);let{params:i}=this;this.animating=!1,i.cssMode||(this.setTransition(0),$({swiper:this,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e,t,i,n,r){let s;void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"string"==typeof e&&(e=parseInt(e,10));let a=this,o=e;o<0&&(o=0);let{params:l,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:h,rtlTranslate:p,wrapperEl:f,enabled:m}=a;if(a.animating&&l.preventInteractionOnTransition||!m&&!n&&!r)return!1;let g=Math.min(a.params.slidesPerGroupSkip,o),v=g+Math.floor((o-g)/a.params.slidesPerGroup);v>=c.length&&(v=c.length-1);let y=-c[v];if(l.normalizeSlideIndex)for(let e=0;e<d.length;e+=1){let t=-Math.floor(100*y),i=Math.floor(100*d[e]),n=Math.floor(100*d[e+1]);void 0!==d[e+1]?t>=i&&t<n-(n-i)/2?o=e:t>=i&&t<n&&(o=e+1):t>=i&&(o=e)}if(a.initialized&&o!==h&&(!a.allowSlideNext&&(p?y>a.translate&&y>a.minTranslate():y<a.translate&&y<a.minTranslate())||!a.allowSlidePrev&&y>a.translate&&y>a.maxTranslate()&&(h||0)!==o))return!1;if(o!==(u||0)&&i&&a.emit("beforeSlideChangeStart"),a.updateProgress(y),s=o>h?"next":o<h?"prev":"reset",p&&-y===a.translate||!p&&y===a.translate)return a.updateActiveIndex(o),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==l.effect&&a.setTranslate(y),"reset"!==s&&(a.transitionStart(i,s),a.transitionEnd(i,s)),!1;if(l.cssMode){let e=a.isHorizontal(),i=p?y:-y;if(0===t){let t=a.virtual&&a.params.virtual.enabled;t&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),t&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[e?"scrollLeft":"scrollTop"]=i})):f[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return z({swiper:a,targetPosition:i,side:e?"left":"top"}),!0;f.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}return a.setTransition(t),a.setTranslate(y),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,n),a.transitionStart(i,s),0===t?a.transitionEnd(i,s):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(i,s))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,i,n){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"string"==typeof e){let t=parseInt(e,10);e=t}let r=e;return this.params.loop&&(this.virtual&&this.params.virtual.enabled?r+=this.virtual.slidesBefore:r=this.getSlideIndexByData(r)),this.slideTo(r,t,i,n)},slideNext:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);let{enabled:n,params:r,animating:s}=this;if(!n)return this;let a=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(a=Math.max(this.slidesPerViewDynamic("current",!0),1));let o=this.activeIndex<r.slidesPerGroupSkip?1:a,l=this.virtual&&r.virtual.enabled;if(r.loop){if(s&&!l&&r.loopPreventsSliding)return!1;this.loopFix({direction:"next"}),this._clientLeft=this.wrapperEl.clientLeft}return r.rewind&&this.isEnd?this.slideTo(0,e,t,i):this.slideTo(this.activeIndex+o,e,t,i)},slidePrev:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);let{params:n,snapGrid:r,slidesGrid:s,rtlTranslate:a,enabled:o,animating:l}=this;if(!o)return this;let c=this.virtual&&n.virtual.enabled;if(n.loop){if(l&&!c&&n.loopPreventsSliding)return!1;this.loopFix({direction:"prev"}),this._clientLeft=this.wrapperEl.clientLeft}let d=a?this.translate:-this.translate;function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}let h=u(d),p=r.map(e=>u(e)),f=r[p.indexOf(h)-1];if(void 0===f&&n.cssMode){let e;r.forEach((t,i)=>{h>=t&&(e=i)}),void 0!==e&&(f=r[e>0?e-1:e])}let m=0;if(void 0!==f&&((m=s.indexOf(f))<0&&(m=this.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(m=Math.max(m=m-this.slidesPerViewDynamic("previous",!0)+1,0))),n.rewind&&this.isBeginning){let n=this.params.virtual&&this.params.virtual.enabled&&this.virtual?this.virtual.slides.length-1:this.slides.length-1;return this.slideTo(n,e,t,i)}return this.slideTo(m,e,t,i)},slideReset:function(e,t,i){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e,t,i,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===n&&(n=.5);let r=this.activeIndex,s=Math.min(this.params.slidesPerGroupSkip,r),a=s+Math.floor((r-s)/this.params.slidesPerGroup),o=this.rtlTranslate?this.translate:-this.translate;if(o>=this.snapGrid[a]){let e=this.snapGrid[a],t=this.snapGrid[a+1];o-e>(t-e)*n&&(r+=this.params.slidesPerGroup)}else{let e=this.snapGrid[a-1],t=this.snapGrid[a];o-e<=(t-e)*n&&(r-=this.params.slidesPerGroup)}return r=Math.min(r=Math.max(r,0),this.slidesGrid.length-1),this.slideTo(r,e,t,i)},slideToClickedSlide:function(){let e;let t=this,{params:i,slidesEl:n}=t,r="auto"===i.slidesPerView?t.slidesPerViewDynamic():i.slidesPerView,s=t.clickedIndex,a=t.isElement?"swiper-slide":`.${i.slideClass}`;if(i.loop){if(t.animating)return;e=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),i.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(W(n,`${a}[data-swiper-slide-index="${e}"]`)[0]),O(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(W(n,`${a}[data-swiper-slide-index="${e}"]`)[0]),O(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}},loop:{loopCreate:function(e){let{params:t,slidesEl:i}=this;if(!t.loop||this.virtual&&this.params.virtual.enabled)return;let n=W(i,`.${t.slideClass}, swiper-slide`);n.forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}),this.loopFix({slideRealIndex:e,direction:t.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:i=!0,direction:n,setTranslate:r,activeSlideIndex:s,byController:a,byMousewheel:o}=void 0===e?{}:e,l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");let{slides:c,allowSlidePrev:d,allowSlideNext:u,slidesEl:h,params:p}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){i&&(p.centeredSlides||0!==l.snapIndex?p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=u,l.emit("loopFix");return}let f="auto"===p.slidesPerView?l.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10)),m=p.loopedSlides||f;m%p.slidesPerGroup!=0&&(m+=p.slidesPerGroup-m%p.slidesPerGroup),l.loopedSlides=m;let g=[],v=[],y=l.activeIndex;void 0===s?s=l.getSlideIndex(l.slides.filter(e=>e.classList.contains(p.slideActiveClass))[0]):y=s;let _="next"===n||!n,w="prev"===n||!n,b=0,x=0;if(s<m){b=Math.max(m-s,p.slidesPerGroup);for(let e=0;e<m-s;e+=1){let t=e-Math.floor(e/c.length)*c.length;g.push(c.length-t-1)}}else if(s>l.slides.length-2*m){x=Math.max(s-(l.slides.length-2*m),p.slidesPerGroup);for(let e=0;e<x;e+=1){let t=e-Math.floor(e/c.length)*c.length;v.push(t)}}if(w&&g.forEach(e=>{l.slides[e].swiperLoopMoveDOM=!0,h.prepend(l.slides[e]),l.slides[e].swiperLoopMoveDOM=!1}),_&&v.forEach(e=>{l.slides[e].swiperLoopMoveDOM=!0,h.append(l.slides[e]),l.slides[e].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===p.slidesPerView&&l.updateSlides(),p.watchSlidesProgress&&l.updateSlidesOffset(),i){if(g.length>0&&w){if(void 0===t){let e=l.slidesGrid[y],t=l.slidesGrid[y+b],i=t-e;o?l.setTranslate(l.translate-i):(l.slideTo(y+b,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=i))}else r&&l.slideToLoop(t,0,!1,!0)}else if(v.length>0&&_){if(void 0===t){let e=l.slidesGrid[y],t=l.slidesGrid[y-x],i=t-e;o?l.setTranslate(l.translate-i):(l.slideTo(y-x,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=i))}else l.slideToLoop(t,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=u,l.controller&&l.controller.control&&!a){let e={slideRealIndex:t,slideTo:!1,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix(e)}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(e)}l.emit("loopFix")},loopDestroy:function(){let{params:e,slidesEl:t}=this;if(!e.loop||this.virtual&&this.params.virtual.enabled)return;this.recalcSlides();let i=[];this.slides.forEach(e=>{let t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;i[t]=e}),this.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),i.forEach(e=>{t.append(e)}),this.recalcSlides(),this.slideTo(this.realIndex,0)}},grabCursor:{setGrabCursor:function(e){let t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;let i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){let e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){let e=P(),{params:t}=this;this.onTouchStart=X.bind(this),this.onTouchMove=K.bind(this),this.onTouchEnd=Y.bind(this),t.cssMode&&(this.onScroll=Z.bind(this)),this.onClick=J.bind(this),this.onLoad=ee.bind(this),et||(e.addEventListener("touchstart",ei),et=!0),en(this,"on")},detachEvents:function(){en(this,"off")}},breakpoints:{setBreakpoint:function(){let e=this,{realIndex:t,initialized:i,params:n,el:r}=e,s=n.breakpoints;if(!s||s&&0===Object.keys(s).length)return;let a=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;let o=a in s?s[a]:void 0,l=o||e.originalParams,c=er(e,n),d=er(e,l),u=n.enabled;c&&!d?(r.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&d&&(r.classList.add(`${n.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===n.grid.fill)&&r.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===l[t])return;let i=n[t]&&n[t].enabled,r=l[t]&&l[t].enabled;i&&!r&&e[t].disable(),!i&&r&&e[t].enable()});let h=l.direction&&l.direction!==n.direction,p=n.loop&&(l.slidesPerView!==n.slidesPerView||h);h&&i&&e.changeDirection(),D(e.params,l);let f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!f?e.disable():!u&&f&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",l),p&&i&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",l)},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),!e||"container"===t&&!i)return;let n=!1,r=A(),s="window"===t?r.innerHeight:i.clientHeight,a=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){let t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}});a.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let e=0;e<a.length;e+=1){let{point:s,value:o}=a[e];"window"===t?r.matchMedia(`(min-width: ${o}px)`).matches&&(n=s):o<=i.clientWidth&&(n=s)}return n||"max"}},checkOverflow:{checkOverflow:function(){let{isLocked:e,params:t}=this,{slidesOffsetBefore:i}=t;if(i){let e=this.slides.length-1,t=this.slidesGrid[e]+this.slidesSizesGrid[e]+2*i;this.isLocked=this.size>t}else this.isLocked=1===this.snapGrid.length;!0===t.allowSlideNext&&(this.allowSlideNext=!this.isLocked),!0===t.allowSlidePrev&&(this.allowSlidePrev=!this.isLocked),e&&e!==this.isLocked&&(this.isEnd=!1),e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock")}},classes:{addClasses:function(){let{classNames:e,params:t,rtl:i,el:n,device:r}=this,s=function(e,t){let i=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(n=>{e[n]&&i.push(t+n)}):"string"==typeof e&&i.push(t+e)}),i}(["initialized",t.direction,{"free-mode":this.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...s),n.classList.add(...e),this.emitContainerClasses()},removeClasses:function(){let{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}}},eo={};class el{constructor(){let e,n;for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?n=s[0]:[e,n]=s,n||(n={}),n=D({},n),e&&!n.el&&(n.el=e);let o=P();if(n.el&&"string"==typeof n.el&&o.querySelectorAll(n.el).length>1){let e=[];return o.querySelectorAll(n.el).forEach(t=>{let i=D({},n,{el:t});e.push(new el(i))}),e}let l=this;l.__swiper__=!0,l.support=q(),l.device=function(e){return void 0===e&&(e={}),t||(t=function(e){let{userAgent:t}=void 0===e?{}:e,i=q(),n=A(),r=n.navigator.platform,s=t||n.navigator.userAgent,a={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/),d=s.match(/(iPad).*OS\s([\d_]+)/),u=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="MacIntel"===r;return!d&&p&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${l}`)>=0&&((d=s.match(/(Version)\/([\d.]+)/))||(d=[0,1,"13_0_0"]),p=!1),c&&"Win32"!==r&&(a.os="android",a.android=!0),(d||h||u)&&(a.os="ios",a.ios=!0),a}(e)),t}({userAgent:n.userAgent}),l.browser=(i||(i=function(){let e=A(),t=!1;function i(){let t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&0>t.indexOf("chrome")&&0>t.indexOf("android")}if(i()){let i=String(e.navigator.userAgent);if(i.includes("Version/")){let[e,n]=i.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));t=e<16||16===e&&n<2}}return{isSafari:t||i(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),i),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);let c={};l.modules.forEach(e=>{e({params:n,swiper:l,extendParams:function(e,t){return function(i){void 0===i&&(i={});let n=Object.keys(i)[0],r=i[n];if("object"!=typeof r||null===r||(["navigation","pagination","scrollbar"].indexOf(n)>=0&&!0===e[n]&&(e[n]={auto:!0}),!(n in e&&"enabled"in r))){D(t,i);return}!0===e[n]&&(e[n]={enabled:!0}),"object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),D(t,i)}}(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});let d=D({},es,c);return l.params=D({},d,eo,n),l.originalParams=D({},l.params),l.passedParams=D({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(e=>{l.on(e,l.params.on[e])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===l.params.direction,isVertical:()=>"vertical"===l.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return 8388608*Math.trunc(this.translate/8388608)},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getSlideIndex(e){let{slidesEl:t,params:i}=this,n=W(t,`.${i.slideClass}, swiper-slide`),r=B(n[0]);return B(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>1*t.getAttribute("data-swiper-slide-index")===e)[0])}recalcSlides(){let{slidesEl:e,params:t}=this;this.slides=W(e,`.${t.slideClass}, swiper-slide`)}enable(){this.enabled||(this.enabled=!0,this.params.grabCursor&&this.setGrabCursor(),this.emit("enable"))}disable(){this.enabled&&(this.enabled=!1,this.params.grabCursor&&this.unsetGrabCursor(),this.emit("disable"))}setProgress(e,t){e=Math.min(Math.max(e,0),1);let i=this.minTranslate(),n=this.maxTranslate(),r=(n-i)*e+i;this.translateTo(r,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(i=>{let n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);let{params:i,slides:n,slidesGrid:r,slidesSizesGrid:s,size:a,activeIndex:o}=this,l=1;if(i.centeredSlides){let e,t=n[o]?n[o].swiperSlideSize:0;for(let i=o+1;i<n.length;i+=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>a&&(e=!0));for(let i=o-1;i>=0;i-=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let e=o+1;e<n.length;e+=1){let i=t?r[e]+s[e]-r[o]<a:r[e]-r[o]<a;i&&(l+=1)}else for(let e=o-1;e>=0;e-=1){let t=r[o]-r[e]<a;t&&(l+=1)}return l}update(){let e;let t=this;if(!t||t.destroyed)return;let{snapGrid:i,params:n}=t;function r(){let e=t.rtlTranslate?-1*t.translate:t.translate,i=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(i),t.updateActiveIndex(),t.updateSlidesClasses()}if(n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(e=>{e.complete&&H(t,e)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&t.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){let i=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;e=t.slideTo(i.length-1,0,!1,!0)}else e=t.slideTo(t.activeIndex,0,!1,!0);e||r()}n.watchOverflow&&i!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);let i=this.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(this.el.classList.remove(`${this.params.containerModifierClass}${i}`),this.el.classList.add(`${this.params.containerModifierClass}${e}`),this.emitContainerClasses(),this.params.direction=e,this.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),this.emit("changeDirection"),t&&this.update()),this}changeLanguageDirection(e){(!this.rtl||"rtl"!==e)&&(this.rtl||"ltr"!==e)&&(this.rtl="rtl"===e,this.rtlTranslate="horizontal"===this.params.direction&&this.rtl,this.rtl?(this.el.classList.add(`${this.params.containerModifierClass}rtl`),this.el.dir="rtl"):(this.el.classList.remove(`${this.params.containerModifierClass}rtl`),this.el.dir="ltr"),this.update())}mount(e){let t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&(t.isElement=!0);let n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,r=(()=>{if(i&&i.shadowRoot&&i.shadowRoot.querySelector){let e=i.shadowRoot.querySelector(n());return e}return W(i,n())[0]})();return!r&&t.params.createElements&&(r=function(e,t){void 0===t&&(t=[]);let i=document.createElement("div");return i.classList.add(...Array.isArray(t)?t:[t]),i}(0,t.params.wrapperClass),i.append(r),W(i,`.${t.params.slideClass}`).forEach(e=>{r.append(e)})),Object.assign(t,{el:i,wrapperEl:r,slidesEl:t.isElement?i.parentNode.host:r,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===U(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===U(i,"direction")),wrongRTL:"-webkit-box"===U(r,"display")}),!0}init(e){let t=this;if(t.initialized)return t;let i=t.mount(e);return!1===i||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(e=>{e.complete?H(t,e):e.addEventListener("load",e=>{H(t,e.target)})}),G(t),t.initialized=!0,G(t),t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);let i=this,{params:n,el:r,wrapperEl:s,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttribute("style"),s.removeAttribute("style"),a&&a.length&&a.forEach(e=>{e.classList.remove(n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(e=>{i.off(e)}),!1!==e&&(i.el.swiper=null,function(e){Object.keys(e).forEach(t=>{try{e[t]=null}catch(e){}try{delete e[t]}catch(e){}})}(i)),i.destroyed=!0),null}static extendDefaults(e){D(eo,e)}static get extendedDefaults(){return eo}static get defaults(){return es}static installModule(e){el.prototype.__modules__||(el.prototype.__modules__=[]);let t=el.prototype.__modules__;"function"==typeof e&&0>t.indexOf(e)&&t.push(e)}static use(e){return Array.isArray(e)?e.forEach(e=>el.installModule(e)):el.installModule(e),el}}Object.keys(ea).forEach(e=>{Object.keys(ea[e]).forEach(t=>{el.prototype[t]=ea[e][t]})}),el.use([function(e){let{swiper:t,on:i,emit:n}=e,r=A(),s=null,a=null,o=()=>{t&&!t.destroyed&&t.initialized&&(n("beforeResize"),n("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&(s=new ResizeObserver(e=>{a=r.requestAnimationFrame(()=>{let{width:i,height:n}=t,r=i,s=n;e.forEach(e=>{let{contentBoxSize:i,contentRect:n,target:a}=e;a&&a!==t.el||(r=n?n.width:(i[0]||i).inlineSize,s=n?n.height:(i[0]||i).blockSize)}),(r!==i||s!==n)&&o()})})).observe(t.el)},c=()=>{a&&r.cancelAnimationFrame(a),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},d=()=>{t&&!t.destroyed&&t.initialized&&n("orientationchange")};i("init",()=>{if(t.params.resizeObserver&&void 0!==r.ResizeObserver){l();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",d)}),i("destroy",()=>{c(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",d)})},function(e){let{swiper:t,extendParams:i,on:n,emit:r}=e,s=[],a=A(),o=function(e,i){void 0===i&&(i={});let n=a.MutationObserver||a.WebkitMutationObserver,o=new n(e=>{if(t.__preventObserver__)return;if(1===e.length){r("observerUpdate",e[0]);return}let i=function(){r("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(i):a.setTimeout(i,0)});o.observe(e,{attributes:void 0===i.attributes||i.attributes,childList:void 0===i.childList||i.childList,characterData:void 0===i.characterData||i.characterData}),s.push(o)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",()=>{if(t.params.observer){if(t.params.observeParents){let e=function(e,t){let i=[],n=e.parentElement;for(;n;)t?n.matches(t)&&i.push(n):i.push(n),n=n.parentElement;return i}(t.el);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.el,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}}),n("destroy",()=>{s.forEach(e=>{e.disconnect()}),s.splice(0,s.length)})}]);var ec={};ec=new URL(I("kyEFX").resolve("3bVCt"),import.meta.url).toString();var ed={};ed=new URL(I("kyEFX").resolve("k4Cah"),import.meta.url).toString();var eu={};eu=new URL(I("kyEFX").resolve("7EWxE"),import.meta.url).toString();var eh={};eh=new URL(I("kyEFX").resolve("kFQZv"),import.meta.url).toString();var ep={};ep=new URL(I("kyEFX").resolve("2Khk3"),import.meta.url).toString();var ef={};ef=new URL(I("kyEFX").resolve("eCXgg"),import.meta.url).toString();var em={};em=new URL(I("kyEFX").resolve("glgdu"),import.meta.url).toString();var eg={};eg=new URL(I("kyEFX").resolve("gSn8B"),import.meta.url).toString();var ev={};ev=new URL(I("kyEFX").resolve("dgzmW"),import.meta.url).toString();const ey=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:new URL(ec)},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:new URL(ed)},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:new URL(eu)},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:new URL(eh)},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:new URL(ep)},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:new URL(ef)},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:new URL(em)},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:new URL(eg)},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:new URL(ev)}],e_=document.querySelector(".js-support_list"),ew=document.querySelector(".swiper-up");function eb(e){e_.insertAdjacentHTML("beforeend",e)}ew.addEventListener("click",function(){ek.slideNext(250)});const ex=ey.map(({title:e,url:t},i)=>{let n=(i+1).toString().padStart(2,"0"),r=ey.find(t=>t.title===e),s=r.img;return`<div class="support__item swiper-slide">
  <a href="${t}" class="support__link" aria-label="${e}" target="_blank" rel="noopener norefferer nofollow">
  <p class="support__number">${n}</p>
  <img class="support__img" src="${s}" data-source="${t}" alt="${e}"/>
  </a></div>`}).join("");eb(ex),eb(ex);const ek=new el(".swiper",{direction:"vertical",loop:!0,slidesPerView:4,spaceBetween:20,breakpoints:{768:{slidesPerView:6,spaceBetween:20}}});window,function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,(function(t){return e[t]}).bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="dist",i(i.s=10)}([function(e,t,i){"use strict";e.exports=function(e,t){var i,n,r,s,a=Object.prototype.hasOwnProperty;for(r=1,s=arguments.length;r<s;r+=1)for(n in i=arguments[r])a.call(i,n)&&(e[n]=i[n]);return e}},function(e,t,i){"use strict";e.exports=function(e){return void 0===e}},function(e,t,i){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,i){"use strict";var n=i(2),r=i(17),s=i(6);e.exports=function(e,t,i){n(e)?r(e,t,i):s(e,t,i)}},function(e,t,i){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,i){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,i){"use strict";e.exports=function(e,t,i){var n;for(n in i=i||null,e)if(e.hasOwnProperty(n)&&!1===t.call(i,e[n],n,e))break}},function(e,t,i){"use strict";var n=i(18),r=i(0);e.exports=function(e,t){var i;return t||(t=e,e=null),i=t.init||function(){},e&&n(i,e),t.hasOwnProperty("static")&&(r(i,t.static),delete t.static),r(i.prototype,t),i}},function(e,t,i){"use strict";var n=i(2);e.exports=function(e,t,i){var r,s;if(i=i||0,!n(t))return -1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,i);for(s=t.length,r=i;i>=0&&r<s;r+=1)if(t[r]===e)return r;return -1}},function(e,t,i){"use strict";var n=i(29),r=i(30),s=i(5);e.exports={capitalizeFirstLetter:function(e){return e.substring(0,1).toUpperCase()+e.substring(1,e.length)},isContained:function(e,t){return!!t&&(e===t||t.contains(e))},createElementByTemplate:function(e,t){var i=document.createElement("div"),r=s(e)?e(t):n(e,t);return i.innerHTML=r,i.firstChild},bind:function(e,t){var i,n=Array.prototype.slice;return e.bind?e.bind.apply(e,n.call(arguments,1)):(i=n.call(arguments,2),function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)})},sendHostName:function(){r("pagination","UA-129987462-1")}}},function(e,t,i){"use strict";i(11),e.exports=i(12)},function(e,t,i){},function(e,t,i){"use strict";var n=i(13),r=i(7),s=i(0),a=i(1),o=i(20),l=i(9),c={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},d=r({init:function(e,t){this._options=s({},c,t),this._currentPage=0,this._view=new o(e,this._options,l.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&l.sendHostName()},_setCurrentPage:function(e){this._currentPage=e||this._options.page},_getLastPage:function(){return Math.ceil(this._options.totalItems/this._options.itemsPerPage)||1},_getPageIndex:function(e){return this._options.centerAlign?Math.min(Math.max(e-Math.floor(this._options.visiblePages/2),1),this._getLastPage()-this._options.visiblePages+1):Math.ceil(e/this._options.visiblePages)},_getRelativePage:function(e){var t=this.getCurrentPage();return"prev"===e?t-1:t+1},_getMorePageIndex:function(e){var t=this._getPageIndex(this.getCurrentPage()),i=this._options.visiblePages,n="prev"===e;return this._options.centerAlign?n?t-1:t+i:n?(t-1)*i:t*i+1},_convertToValidPage:function(e){var t=this._getLastPage();return e=Math.min(e=Math.max(e,1),t)},_paginate:function(e){var t=this._makeViewData(e||this._options.page);this._setCurrentPage(e),this._view.update(t)},_makeViewData:function(e){var t={},i=this._getLastPage(),n=this._getPageIndex(e),r=this._getPageIndex(i),s=this._getEdge(e);return t.leftPageNumber=s.left,t.rightPageNumber=s.right,t.prevMore=n>1,t.nextMore=n<r,t.page=e,t.currentPageIndex=e,t.lastPage=i,t.lastPageListIndex=i,t},_getEdge:function(e){var t,i,n=this._getLastPage(),r=this._options.visiblePages,s=this._getPageIndex(e);return this._options.centerAlign?(i=(t=Math.max(e-Math.floor(r/2),1))+r-1)>n&&(t=Math.max(n-r+1,1),i=n):(t=(s-1)*r+1,i=Math.min(i=s*r,n)),{left:t,right:i}},_onClickHandler:function(e,t){switch(e){case"first":t=1;break;case"prev":t=this._getRelativePage("prev");break;case"next":t=this._getRelativePage("next");break;case"prevMore":t=this._getMorePageIndex("prev");break;case"nextMore":t=this._getMorePageIndex("next");break;case"last":t=this._getLastPage();break;default:if(!t)return}this.movePageTo(t)},reset:function(e){a(e)&&(e=this._options.totalItems),this._options.totalItems=e,this._paginate(1)},movePageTo:function(e){e=this._convertToValidPage(e),this.invoke("beforeMove",{page:e})&&(this._paginate(e),this.fire("afterMove",{page:e}))},setTotalItems:function(e){this._options.totalItems=e},setItemsPerPage:function(e){this._options.itemsPerPage=e},getCurrentPage:function(){return this._currentPage||this._options.page}});n.mixin(d),e.exports=d},function(e,t,i){"use strict";var n=i(0),r=i(14),s=i(4),a=i(16),o=i(2),l=i(5),c=i(3),d=/\s+/g;function u(){this.events=null,this.contexts=null}u.mixin=function(e){n(e.prototype,u.prototype)},u.prototype._getHandlerItem=function(e,t){var i={handler:e};return t&&(i.context=t),i},u.prototype._safeEvent=function(e){var t,i=this.events;return i||(i=this.events={}),e&&((t=i[e])||(t=[],i[e]=t),i=t),i},u.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},u.prototype._indexOfContext=function(e){for(var t=this._safeContext(),i=0;t[i];){if(e===t[i][0])return i;i+=1}return -1},u.prototype._memorizeContext=function(e){var t,i;r(e)&&(t=this._safeContext(),(i=this._indexOfContext(e))>-1?t[i][1]+=1:t.push([e,1]))},u.prototype._forgetContext=function(e){var t,i;r(e)&&(t=this._safeContext(),(i=this._indexOfContext(e))>-1&&(t[i][1]-=1,t[i][1]<=0&&t.splice(i,1)))},u.prototype._bindEvent=function(e,t,i){var n=this._safeEvent(e);this._memorizeContext(i),n.push(this._getHandlerItem(t,i))},u.prototype.on=function(e,t,i){var n=this;s(e)?c(e=e.split(d),function(e){n._bindEvent(e,t,i)}):a(e)&&(i=t,c(e,function(e,t){n.on(t,e,i)}))},u.prototype.once=function(e,t,i){var n=this;if(a(e)){i=t,c(e,function(e,t){n.once(t,e,i)});return}this.on(e,function r(){t.apply(i,arguments),n.off(e,r,i)},i)},u.prototype._spliceMatches=function(e,t){var i,n=0;if(o(e))for(i=e.length;n<i;n+=1)!0===t(e[n])&&(e.splice(n,1),i-=1,n-=1)},u.prototype._matchHandler=function(e){var t=this;return function(i){var n=e===i.handler;return n&&t._forgetContext(i.context),n}},u.prototype._matchContext=function(e){var t=this;return function(i){var n=e===i.context;return n&&t._forgetContext(i.context),n}},u.prototype._matchHandlerAndContext=function(e,t){var i=this;return function(n){var r=e===n.handler,s=t===n.context,a=r&&s;return a&&i._forgetContext(n.context),a}},u.prototype._offByEventName=function(e,t){var i=this,n=l(t),r=i._matchHandler(t);c(e=e.split(d),function(e){var t=i._safeEvent(e);n?i._spliceMatches(t,r):(c(t,function(e){i._forgetContext(e.context)}),i.events[e]=[])})},u.prototype._offByHandler=function(e){var t=this,i=this._matchHandler(e);c(this._safeEvent(),function(e){t._spliceMatches(e,i)})},u.prototype._offByObject=function(e,t){var i,n=this;0>this._indexOfContext(e)?c(e,function(e,t){n.off(t,e)}):s(t)?(i=this._matchContext(e),n._spliceMatches(this._safeEvent(t),i)):l(t)?(i=this._matchHandlerAndContext(t,e),c(this._safeEvent(),function(e){n._spliceMatches(e,i)})):(i=this._matchContext(e),c(this._safeEvent(),function(e){n._spliceMatches(e,i)}))},u.prototype.off=function(e,t){s(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},u.prototype.fire=function(e){this.invoke.apply(this,arguments)},u.prototype.invoke=function(e){var t,i,n,r;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),i=Array.prototype.slice.call(arguments,1),n=0;t[n];){if(!1===(r=t[n]).handler.apply(r.context,i))return!1;n+=1}return!0},u.prototype.hasListener=function(e){return this.getListenerLength(e)>0},u.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=u},function(e,t,i){"use strict";var n=i(1),r=i(15);e.exports=function(e){return!n(e)&&!r(e)}},function(e,t,i){"use strict";e.exports=function(e){return null===e}},function(e,t,i){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,i){"use strict";e.exports=function(e,t,i){var n=0,r=e.length;for(i=i||null;n<r&&!1!==t.call(i,e[n],n,e);n+=1);}},function(e,t,i){"use strict";var n=i(19);e.exports=function(e,t){var i=n(t.prototype);i.constructor=e,e.prototype=i}},function(e,t,i){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,i){"use strict";var n=i(3),r=i(7),s=i(21),a=i(22),o=i(24),l=i(25),c=i(0),d=i(4),u=i(28),h=i(9),p={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},f=["first","prev","next","last"],m=["prev","next"],g=r({init:function(e,t,i){this._containerElement=null,this._firstItemClassName=t.firstItemClassName,this._lastItemClassName=t.lastItemClassName,this._template=c({},p,t.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(e),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(i)},_setRootElement:function(e){if(d(e)?e=document.getElementById(e)||document.querySelector(e):e.jquery&&(e=e[0]),!u(e))throw Error("The container element is invalid.");this._containerElement=e},_setMoveButtons:function(){n(f,function(e){this._buttons[e]=h.createElementByTemplate(this._template.moveButton,{type:e})},this)},_setDisabledMoveButtons:function(){n(f,function(e){var t="disabled"+h.capitalizeFirstLetter(e);this._buttons[t]=h.createElementByTemplate(this._template.disabledMoveButton,{type:e})},this)},_setMoreButtons:function(){n(m,function(e){this._buttons[e+"More"]=h.createElementByTemplate(this._template.moreButton,{type:e})},this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(e){var t;t=e.page>1?this._buttons.first:this._buttons.disabledFirst,this._getContainerElement().appendChild(t)},_appendPrevButton:function(e){var t;t=e.currentPageIndex>1?this._buttons.prev:this._buttons.disabledPrev,this._getContainerElement().appendChild(t)},_appendNextButton:function(e){var t;t=e.currentPageIndex<e.lastPageListIndex?this._buttons.next:this._buttons.disabledNext,this._getContainerElement().appendChild(t)},_appendLastButton:function(e){var t;t=e.page<e.lastPage?this._buttons.last:this._buttons.disabledLast,this._getContainerElement().appendChild(t)},_appendPrevMoreButton:function(e){var t;e.prevMore&&(l(t=this._buttons.prevMore,this._firstItemClassName),this._getContainerElement().appendChild(t))},_appendNextMoreButton:function(e){var t;e.nextMore&&(l(t=this._buttons.nextMore,this._lastItemClassName),this._getContainerElement().appendChild(t))},_appendPages:function(e){var t,i,n=e.leftPageNumber,r=e.rightPageNumber;for(i=n;i<=r;i+=1)i===e.page?t=h.createElementByTemplate(this._template.currentPage,{page:i}):(t=h.createElementByTemplate(this._template.page,{page:i}),this._enabledPageElements.push(t)),i!==n||e.prevMore||l(t,this._firstItemClassName),i!==r||e.nextMore||l(t,this._lastItemClassName),this._getContainerElement().appendChild(t)},_attachClickEvent:function(e){a(this._getContainerElement(),"click",function(t){var i,n,r=s(t);o(t),(n=this._getButtonType(r))||(i=this._getPageNumber(r)),e(n,i)},this)},_getButtonType:function(e){var t;return n(this._buttons,function(i,n){return!h.isContained(e,i)||(t=n,!1)},this),t},_getPageNumber:function(e){var t,i=this._findPageElement(e);return i&&(t=parseInt(i.innerText,10)),t},_findPageElement:function(e){for(var t,i=0,n=this._enabledPageElements.length;i<n;i+=1)if(t=this._enabledPageElements[i],h.isContained(e,t))return t;return null},_empty:function(){this._enabledPageElements=[],n(this._buttons,function(e,t){this._buttons[t]=e.cloneNode(!0)},this),this._getContainerElement().innerHTML=""},update:function(e){this._empty(),this._appendFirstButton(e),this._appendPrevButton(e),this._appendPrevMoreButton(e),this._appendPages(e),this._appendNextMoreButton(e),this._appendNextButton(e),this._appendLastButton(e)}});e.exports=g},function(e,t,i){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,i){"use strict";var n=i(4),r=i(3),s=i(23);function a(e,t,i,n){var a,o;function l(t){i.call(n||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,l):"attachEvent"in e&&e.attachEvent("on"+t,l),a=s(e,t),o=!1,r(a,function(e){return e.handler!==i||(o=!0,!1)}),o||a.push({handler:i,wrappedHandler:l})}e.exports=function(e,t,i,s){if(n(t)){r(t.split(/\s+/g),function(t){a(e,t,i,s)});return}r(t,function(t,n){a(e,n,t,i)})}},function(e,t,i){"use strict";var n="_feEventKey";e.exports=function(e,t){var i,r=e[n];return r||(r=e[n]={}),(i=r[t])||(i=r[t]=[]),i}},function(e,t,i){"use strict";e.exports=function(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=!1}},function(e,t,i){"use strict";var n=i(3),r=i(8),s=i(26),a=i(27);e.exports=function(e){var t,i=Array.prototype.slice.call(arguments,1),o=e.classList,l=[];if(o){n(i,function(t){e.classList.add(t)});return}(t=s(e))&&(i=[].concat(t.split(/\s+/),i)),n(i,function(e){0>r(e,l)&&l.push(e)}),a(e,l)}},function(e,t,i){"use strict";var n=i(1);e.exports=function(e){return e&&e.className?n(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,i){"use strict";var n=i(2),r=i(1);e.exports=function(e,t){if(t=(t=n(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),r(e.className.baseVal)){e.className=t;return}e.className.baseVal=t}},function(e,t,i){"use strict";e.exports=function(e){return"object"==typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!!(e&&e.nodeType)}},function(e,t,i){"use strict";var n=i(8),r=i(3),s=i(2),a=i(4),o=i(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,d=/\[\s?|\s?\]/,u=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,p=/^["']\w+["']$/,f=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,i){var n,s,a,o,l=(n=[e],s=[],a=0,o=0,r(t,function(e,i){0===e.indexOf("if")?a+=1:"/if"===e?a-=1:a||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),s.push(t.slice(o,i)),o=i+1)}),s.push(t.slice(o)),{exps:n,sourcesInsideIf:s}),c=!1,d="";return r(l.exps,function(e,t){return(c=_(e,i))&&(d=w(l.sourcesInsideIf[t],i)),!c}),d},each:function(e,t,i){var n=_(e,i),a=s(n)?"@index":"@key",l={},c="";return r(n,function(e,n){l[a]=n,l["@this"]=e,o(i,l),c+=w(t.slice(),i)}),c},with:function(e,t,i){var r=n("as",e),s=e[r+1],a=_(e.slice(0,r),i),l={};return l[s]=a,w(t,o(i,l))||""}},v=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var i,n,r=[],s=0;for(t.global||(t=RegExp(t,"g")),i=t.exec(e);null!==i;)n=i.index,r.push(e.slice(s,n)),s=n+i[0].length,i=t.exec(e);return r.push(e.slice(s)),r};function y(e,t){var i,n=t[e];return"true"===e?n=!0:"false"===e?n=!1:p.test(e)?n=e.replace(f,""):c.test(e)?n=y((i=e.split(d))[0],t)[y(i[1],t)]:u.test(e)?n=y((i=e.split(h))[0],t)[i[1]]:m.test(e)&&(n=parseFloat(e)),n}function _(e,t){var i,n,s=y(e[0],t);return s instanceof Function?(i=e.slice(1),n=[],r(i,function(e){n.push(y(e,t))}),s.apply(null,n)):s}function w(e,t){for(var i,n,r,s=1,o=e[1];a(o);)g[n=(i=o.split(" "))[0]]?(r=function(e,t,i){for(var n,r,s,o=g[e],l=1,c=2,d=t[2];l&&a(d);)0===d.indexOf(e)?l+=1:0===d.indexOf("/"+e)&&(l-=1,s=c),c+=2,d=t[c];if(l)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=o(t[0].split(" ").slice(1),(n=s,(r=t.splice(1,n-0)).pop(),r),i),t}(n,e.splice(s,e.length-s),t),e=e.concat(r)):e[s]=_(i,t),s+=2,o=e[s];return e.join("")}e.exports=function(e,t){return w(v(e,l),t)}},function(e,t,i){"use strict";var n=i(1),r=i(31);e.exports=function(e,t){var i=location.hostname,s="TOAST UI "+e+" for "+i+": Statistics",a=window.localStorage.getItem(s);(n(window.tui)||!1!==window.tui.usageStatistics)&&(!a||new Date().getTime()-a>6048e5)&&(window.localStorage.setItem(s,new Date().getTime()),setTimeout(function(){("interactive"===document.readyState||"complete"===document.readyState)&&r("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:i,dp:i,dh:e,el:e,ec:"use"})},1e3))}},function(e,t,i){"use strict";var n=i(6);e.exports=function(e,t){var i=document.createElement("img"),r="";return n(t,function(e,t){r+="&"+t+"="+e}),r=r.substring(1),i.src=e+"?"+r,i.style.display="none",document.body.appendChild(i),document.body.removeChild(i),i}}]);var eC={},eT=eC={};function eI(){throw Error("setTimeout has not been defined")}function eS(){throw Error("clearTimeout has not been defined")}function eE(e){if(v===setTimeout)return setTimeout(e,0);if((v===eI||!v)&&setTimeout)return v=setTimeout,setTimeout(e,0);try{return v(e,0)}catch(t){try{return v.call(null,e,0)}catch(t){return v.call(this,e,0)}}}!function(){try{v="function"==typeof setTimeout?setTimeout:eI}catch(e){v=eI}try{y="function"==typeof clearTimeout?clearTimeout:eS}catch(e){y=eS}}();var eN=[],eP=!1,eR=-1;function eA(){eP&&_&&(eP=!1,_.length?eN=_.concat(eN):eR=-1,eN.length&&eO())}function eO(){if(!eP){var e=eE(eA);eP=!0;for(var t=eN.length;t;){for(_=eN,eN=[];++eR<t;)_&&_[eR].run();eR=-1,t=eN.length}_=null,eP=!1,function(e){if(y===clearTimeout)return clearTimeout(e);if((y===eS||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(e);try{y(e)}catch(t){try{return y.call(null,e)}catch(t){return y.call(this,e)}}}(e)}}function eL(e,t){this.fun=e,this.array=t}function eM(){}eT.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];eN.push(new eL(e,t)),1!==eN.length||eP||eE(eO)},eL.prototype.run=function(){this.fun.apply(null,this.array)},eT.title="browser",eT.browser=!0,eT.env={},eT.argv=[],eT.version="",eT.versions={},eT.on=eM,eT.addListener=eM,eT.once=eM,eT.off=eM,eT.removeListener=eM,eT.removeAllListeners=eM,eT.emit=eM,eT.prependListener=eM,eT.prependOnceListener=eM,eT.listeners=function(e){return[]},eT.binding=function(e){throw Error("process.binding is not supported")},eT.cwd=function(){return"/"},eT.chdir=function(e){throw Error("process.chdir is not supported")},eT.umask=function(){return 0};const eD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},eF=function(e,t){if(!e)throw ez(t)},ez=function(e){return Error("Firebase Database ("+eD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},eW=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:((64512&r)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),t[i++]=r>>18|240,t[i++]=r>>12&63|128):t[i++]=r>>12|224,t[i++]=r>>6&63|128),t[i++]=63&r|128)}return t},eU=function(e){let t=[],i=0,n=0;for(;i<e.length;){let r=e[i++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let s=e[i++];t[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){let s=e[i++],a=e[i++],o=e[i++],l=((7&r)<<18|(63&s)<<12|(63&a)<<6|63&o)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(1023&l))}else{let s=e[i++],a=e[i++];t[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")},eB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let r=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,c=r>>2,d=(3&r)<<4|a>>4,u=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(u=64)),n.push(i[c],i[d],i[u],i[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eU(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let r=i[e.charAt(t++)],s=t<e.length,a=s?i[e.charAt(t)]:0;++t;let o=t<e.length,l=o?i[e.charAt(t)]:64;++t;let c=t<e.length,d=c?i[e.charAt(t)]:64;if(++t,null==r||null==a||null==l||null==d)throw new ej;let u=r<<2|a>>4;if(n.push(u),64!==l){let e=a<<4&240|l>>2;if(n.push(e),64!==d){let e=l<<6&192|d;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ej extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eq=function(e){let t=eW(e);return eB.encodeByteArray(t,!0)},eH=function(e){return eq(e).replace(/\./g,"")},eV=function(e){try{return eB.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eG(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(let i in t)t.hasOwnProperty(i)&&"__proto__"!==i&&(e[i]=eG(e[i],t[i]));return e}const e$=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==x)return x;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,eX=()=>{if(void 0===eC||void 0===eC.env)return;let e=void 0;if(e)return JSON.parse(e)},eK=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&eV(e[1]);return t&&JSON.parse(t)},eY=()=>{try{return e$()||eX()||eK()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},eQ=()=>{var e;return null===(e=eY())||void 0===e?void 0:e.config};class eJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function eZ(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function e0(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eZ())}function e1(){var e;let t=null===(e=eY())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(x.process)}catch(e){return!1}}function e2(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function e6(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function e5(){let e=eZ();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function e3(){return!0===eD.NODE_CLIENT||!0===eD.NODE_ADMIN}function e4(){try{return"object"==typeof indexedDB}catch(e){return!1}}class e8 extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,e8.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e9.prototype.create)}}class e9{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?r.replace(e7,(e,t)=>{let n=i[t];return null!=n?String(n):`<${t}?>`}):"Error",a=`${this.serviceName}: ${s} (${n}).`,o=new e8(n,a,i);return o}}const e7=/\{\$([^}]+)}/g;function te(e){return JSON.parse(e)}function tt(e){return JSON.stringify(e)}const ti=function(e){let t={},i={},n={},r="";try{let s=e.split(".");t=te(eV(s[0])||""),i=te(eV(s[1])||""),r=s[2],n=i.d||{},delete i.d}catch(e){}return{header:t,claims:i,data:n,signature:r}},tn=function(e){let t=ti(e),i=t.claims;return!!i&&"object"==typeof i&&i.hasOwnProperty("iat")},tr=function(e){let t=ti(e).claims;return"object"==typeof t&&!0===t.admin};function ts(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ta(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function to(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function tl(e,t,i){let n={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=t.call(i,e[r],r,e));return n}function tc(e,t){if(e===t)return!0;let i=Object.keys(e),n=Object.keys(t);for(let r of i){if(!n.includes(r))return!1;let i=e[r],s=t[r];if(td(i)&&td(s)){if(!tc(i,s))return!1}else if(i!==s)return!1}for(let e of n)if(!i.includes(e))return!1;return!0}function td(e){return null!==e&&"object"==typeof e}function tu(e){let t=[];for(let[i,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function th(e){let t={},i=e.replace(/^\?/,"").split("&");return i.forEach(e=>{if(e){let[i,n]=e.split("=");t[decodeURIComponent(i)]=decodeURIComponent(n)}}),t}function tp(e){let t=e.indexOf("?");if(!t)return"";let i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}class tf{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){let i,n;t||(t=0);let r=this.W_;if("string"==typeof e)for(let i=0;i<16;i++)r[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let i=0;i<16;i++)r[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=r[e-3]^r[e-8]^r[e-14]^r[e-16];r[e]=(t<<1|t>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(i=l^a&(o^l),n=1518500249):(i=a^o^l,n=1859775393):e<60?(i=a&o|l&(a|o),n=2400959708):(i=a^o^l,n=3395469782);let t=(s<<5|s>>>27)+i+c+n+r[e]&4294967295;c=l,l=o,o=(a<<30|a>>>2)&4294967295,a=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let i=t-this.blockSize,n=0,r=this.buf_,s=this.inbuf_;for(;n<t;){if(0===s)for(;n<=i;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(r[s]=e.charCodeAt(n),++s,++n,s===this.blockSize){this.compress_(r),s=0;break}}else for(;n<t;)if(r[s]=e[n],++s,++n,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let t=0;t<5;t++)for(let n=24;n>=0;n-=8)e[i]=this.chain_[t]>>n&255,++i;return e}}function tm(e,t){let i=new tg(e,t);return i.subscribe.bind(i)}class tg{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let n;if(void 0===e&&void 0===t&&void 0===i)throw Error("Missing Observer.");void 0===(n=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:i}:e).next&&(n.next=tv),void 0===n.error&&(n.error=tv),void 0===n.complete&&(n.complete=tv);let r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tv(){}const ty=function(e,t,i,n){let r;if(n<t?r="at least "+t:n>i&&(r=0===i?"none":"no more than "+i),r){let t=e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+r+".";throw Error(t)}};function t_(e,t){return`${e} failed: ${t} argument `}function tw(e,t,i,n){if((!n||i)&&"function"!=typeof i)throw Error(t_(e,t)+"must be a valid function.")}function tb(e,t,i,n){if((!n||i)&&("object"!=typeof i||null===i))throw Error(t_(e,t)+"must be a valid context object.")}const tx=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r>=55296&&r<=56319){let t=r-55296;eF(++n<e.length,"Surrogate pair missing trail surrogate.");let i=e.charCodeAt(n)-56320;r=65536+(t<<10)+i}r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:(r<65536?t[i++]=r>>12|224:(t[i++]=r>>18|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128),t[i++]=63&r|128)}return t},tk=function(e){let t=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,i++):t+=3}return t};function tC(e){return e&&e._delegate?e._delegate:e}class tT{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tI="[DEFAULT]";class tS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new eJ;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&e.resolve(i)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:tI})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:i});t.resolve(e)}catch(e){}}}}clearInstance(e=tI){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=tI){return this.instances.has(e)}getOptions(e=tI){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);i===r&&t.resolve(n)}return n}onInit(e,t){var i;let n=this.normalizeInstanceIdentifier(t),r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(e),this.onInitCallbacks.set(n,r);let s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let n of i)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e===tI?void 0:e,options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(e){}return i||null}normalizeInstanceIdentifier(e=tI){return this.component?this.component.multipleInstances?e:tI:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){let t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var tN={};k(tN,"_DEFAULT_ENTRY_NAME",function(){return tZ}),k(tN,"_apps",function(){return t1}),k(tN,"_components",function(){return t2}),k(tN,"_addComponent",function(){return t6}),k(tN,"_addOrOverwriteComponent",function(){return t5}),k(tN,"_registerComponent",function(){return t3}),k(tN,"_getProvider",function(){return t4}),k(tN,"_removeServiceInstance",function(){return t8}),k(tN,"_clearComponents",function(){return t9}),k(tN,"SDK_VERSION",function(){return it}),k(tN,"initializeApp",function(){return ii}),k(tN,"getApp",function(){return ir}),k(tN,"getApps",function(){return is}),k(tN,"deleteApp",function(){return ia}),k(tN,"registerVersion",function(){return io}),k(tN,"onLog",function(){return il}),k(tN,"setLogLevel",function(){return ic}),k(tN,"FirebaseError",function(){return e8});const tP=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(w||(w={}));const tR={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},tA=w.INFO,tO={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},tL=(e,t,...i)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),r=tO[t];if(r)console[r](`[${n}]  ${e.name}:`,...i);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tM{constructor(e){this.name=e,this._logLevel=tA,this._logHandler=tL,this._userLogHandler=null,tP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in w))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...e),this._logHandler(this,w.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...e),this._logHandler(this,w.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,w.INFO,...e),this._logHandler(this,w.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,w.WARN,...e),this._logHandler(this,w.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,w.ERROR,...e),this._logHandler(this,w.ERROR,...e)}}const tD=(e,t)=>t.some(t=>e instanceof t),tF=new WeakMap,tz=new WeakMap,tW=new WeakMap,tU=new WeakMap,tB=new WeakMap;let tj={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return tz.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tW.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tq(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tq(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,i)=>{let n=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(tq(e.result)),n()},s=()=>{i(e.error),n()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&tF.set(t,e)}).catch(()=>{}),tB.set(t,e),t}(e);if(tU.has(e))return tU.get(e);let i="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(tH(this),e),tq(tF.get(this))}:function(...e){return tq(t.apply(tH(this),e))}:function(e,...i){let n=t.call(tH(this),e,...i);return tW.set(n,e.sort?e.sort():[e]),tq(n)}:(t instanceof IDBTransaction&&function(e){if(tz.has(e))return;let t=new Promise((t,i)=>{let n=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),n()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});tz.set(e,t)}(t),tD(t,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,tj):t;return i!==e&&(tU.set(e,i),tB.set(i,e)),i}const tH=e=>tB.get(e),tV=["get","getKey","getAll","getAllKeys","count"],tG=["put","add","delete","clear"],t$=new Map;function tX(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(t$.get(t))return t$.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=tG.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||tV.includes(i)))return;let s=async function(e,...t){let s=this.transaction(e,r?"readwrite":"readonly"),a=s.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[i](...t),r&&s.done]))[0]};return t$.set(t,s),s}tj={...g=tj,get:(e,t,i)=>tX(e,t)||g.get(e,t,i),has:(e,t)=>!!tX(e,t)||g.has(e,t)};class tK{constructor(e){this.container=e}getPlatformInfoString(){let e=this.container.getProviders();return e.map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const tY="@firebase/app",tQ="0.9.14",tJ=new tM("@firebase/app"),tZ="[DEFAULT]",t0={[tY]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},t1=new Map,t2=new Map;function t6(e,t){try{e.container.addComponent(t)}catch(i){tJ.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function t5(e,t){e.container.addOrOverwriteComponent(t)}function t3(e){let t=e.name;if(t2.has(t))return tJ.debug(`There were multiple attempts to register component ${t}.`),!1;for(let i of(t2.set(t,e),t1.values()))t6(i,e);return!0}function t4(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function t8(e,t,i=tZ){t4(e,t).clearInstance(i)}function t9(){t2.clear()}const t7=new e9("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ie{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tT("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw t7.create("app-deleted",{appName:this._name})}}const it="10.0.0";function ii(e,t={}){let i=e;if("object"!=typeof t){let e=t;t={name:e}}let n=Object.assign({name:tZ,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw t7.create("bad-app-name",{appName:String(r)});if(i||(i=eQ()),!i)throw t7.create("no-options");let s=t1.get(r);if(s){if(tc(i,s.options)&&tc(n,s.config))return s;throw t7.create("duplicate-app",{appName:r})}let a=new tE(r);for(let e of t2.values())a.addComponent(e);let o=new ie(i,n,a);return t1.set(r,o),o}function ir(e=tZ){let t=t1.get(e);if(!t&&e===tZ&&eQ())return ii();if(!t)throw t7.create("no-app",{appName:e});return t}function is(){return Array.from(t1.values())}async function ia(e){let t=e.name;t1.has(t)&&(t1.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function io(e,t,i){var n;let r=null!==(n=t0[e])&&void 0!==n?n:e;i&&(r+=`-${i}`);let s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){let e=[`Unable to register library "${r}" with version "${t}":`];s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tJ.warn(e.join(" "));return}t3(new tT(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function il(e,t){if(null!==e&&"function"!=typeof e)throw t7.create("invalid-log-argument");!function(e,t){for(let i of tP){let n=null;t&&t.level&&(n=tR[t.level]),null===e?i.userLogHandler=null:i.userLogHandler=(t,i,...r)=>{let s=r.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");i>=(null!=n?n:t.logLevel)&&e({level:w[i].toLowerCase(),message:s,args:r,type:t.name})}}}(e,t)}function ic(e){tP.forEach(t=>{t.setLogLevel(e)})}const id="firebase-heartbeat-store";let iu=null;function ih(){return iu||(iu=(function(e,t,{blocked:i,upgrade:n,blocking:r,terminated:s}={}){let a=indexedDB.open(e,1),o=tq(a);return n&&a.addEventListener("upgradeneeded",e=>{n(tq(a.result),e.oldVersion,e.newVersion,tq(a.transaction),e)}),i&&a.addEventListener("blocked",e=>i(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(id)}}).catch(e=>{throw t7.create("idb-open",{originalErrorMessage:e.message})})),iu}async function ip(e){try{let t=await ih(),i=await t.transaction(id).objectStore(id).get(ig(e));return i}catch(e){if(e instanceof e8)tJ.warn(e.message);else{let t=t7.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});tJ.warn(t.message)}}}async function im(e,t){try{let i=await ih(),n=i.transaction(id,"readwrite"),r=n.objectStore(id);await r.put(t,ig(e)),await n.done}catch(e){if(e instanceof e8)tJ.warn(e.message);else{let t=t7.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});tJ.warn(t.message)}}}function ig(e){return`${e.name}!${e.options.appId}`}class iv{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new i_(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),i=iy();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i))?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf(),i=Date.now();return i-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=iy(),{heartbeatsToSend:t,unsentEntries:i}=function(e,t=1024){let i=[],n=e.slice();for(let r of e){let e=i.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),iw(i)>t){e.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),iw(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=eH(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function iy(){let e=new Date;return e.toISOString().substring(0,10)}class i_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!e4()&&new Promise((e,t)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){let e=await this._canUseIndexedDBPromise;if(!e)return{heartbeats:[]};{let e=await ip(this.app);return e||{heartbeats:[]}}}async overwrite(e){var t;let i=await this._canUseIndexedDBPromise;if(i){let i=await this.read();return im(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;let i=await this._canUseIndexedDBPromise;if(i){let i=await this.read();return im(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}}}function iw(e){return eH(JSON.stringify({version:2,heartbeats:e})).length}t3(new tT("platform-logger",e=>new tK(e),"PRIVATE")),t3(new tT("heartbeat",e=>new iv(e),"PRIVATE")),io(tY,tQ,""),io(tY,tQ,"esm2017"),io("fire-js","");class ib{constructor(e,t){this._delegate=e,this.firebase=t,t6(e,new tT("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ia(this._delegate)))}_getService(e,t=tZ){var i;this._delegate.checkDestroyed();let n=this._delegate.container.getProvider(e);return n.isInitialized()||(null===(i=n.getComponent())||void 0===i?void 0:i.instantiationMode)!=="EXPLICIT"||n.initialize(),n.getImmediate({identifier:t})}_removeServiceInstance(e,t=tZ){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){t6(this._delegate,e)}_addOrOverwriteComponent(e){t5(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ix=new e9("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ik=function e(){let t=function(e){let t={},i={__esModule:!0,initializeApp:function(n,r={}){let s=ii(n,r);if(ts(t,s.name))return t[s.name];let a=new e(s,i);return t[s.name]=a,a},app:n,registerVersion:io,setLogLevel:ic,onLog:il,apps:null,SDK_VERSION:it,INTERNAL:{registerComponent:function(t){let r=t.name,s=r.replace("-compat","");if(t3(t)&&"PUBLIC"===t.type){let a=(e=n())=>{if("function"!=typeof e[s])throw ix.create("invalid-app-argument",{appName:r});return e[s]()};void 0!==t.serviceProps&&eG(a,t.serviceProps),i[s]=a,e.prototype[s]=function(...e){let i=this._getService.bind(this,r);return i.apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?i[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:tN}};function n(e){if(!ts(t,e=e||tZ))throw ix.create("no-app",{appName:e});return t[e]}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),n.App=e,i}(ib);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){eG(t,e)},createSubscribe:tm,ErrorFactory:e9,deepExtend:eG}),t}(),iC=new tM("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){iC.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&iC.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}io("@firebase/app-compat","0.2.14",void 0),ik.registerVersion("firebase","10.0.0","app-compat");function iT(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}"function"==typeof SuppressedError&&SuppressedError;const iI={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"};function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iE=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},iN=new e9("auth","Firebase",iS()),iP=new tM("@firebase/auth");function iR(e,...t){iP.logLevel<=w.ERROR&&iP.error(`Auth (${it}): ${e}`,...t)}function iA(e,...t){throw iD(e,...t)}function iO(e,...t){return iD(e,...t)}function iL(e,t,i){let n=Object.assign(Object.assign({},iS()),{[t]:i}),r=new e9("auth","Firebase",n);return r.create(t,{appName:e.name})}function iM(e,t,i){if(!(t instanceof i))throw i.name!==t.constructor.name&&iA(e,"argument-error"),iL(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iD(e,...t){if("string"!=typeof e){let i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return iN.create(e,...t)}function iF(e,t,...i){if(!e)throw iD(t,...i)}function iz(e){let t="INTERNAL ASSERTION FAILED: "+e;throw iR(t),Error(t)}function iW(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function iU(){return"http:"===iB()||"https:"===iB()}function iB(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ij{constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||iz("Short delay should be less than long delay!"),this.isMobile=e0()||e6()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(iU()||e2()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iq(e,t){e.emulator||iz("Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class iH{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void iz("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void iz("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void iz("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},iG=new ij(3e4,6e4);function i$(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function iX(e,t,i,n,r={}){return iK(e,r,async()=>{let r={},s={};n&&("GET"===t?s=n:r={body:JSON.stringify(n)});let a=tu(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),iH.fetch()(iQ(e,e.config.apiHost,i,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},r))})}async function iK(e,t,i){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},iV),t);try{let t=new iJ(e),r=await Promise.race([i(),t.promise]);t.clearNetworkTimeout();let s=await r.json();if("needConfirmation"in s)throw iZ(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{let t=r.ok?s.errorMessage:s.error.message,[i,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw iZ(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===i)throw iZ(e,"email-already-in-use",s);if("USER_DISABLED"===i)throw iZ(e,"user-disabled",s);let o=n[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw iL(e,o,a);iA(e,o)}}catch(t){if(t instanceof e8)throw t;iA(e,"network-request-failed",{message:String(t)})}}async function iY(e,t,i,n,r={}){let s=await iX(e,t,i,n,r);return"mfaPendingCredential"in s&&iA(e,"multi-factor-auth-required",{_serverResponse:s}),s}function iQ(e,t,i,n){let r=`${t}${i}?${n}`;return e.config.emulator?iq(e.config,r):`${e.config.apiScheme}://${r}`}class iJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(iO(this.auth,"network-request-failed")),iG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iZ(e,t,i){let n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=iO(e,t,n);return r.customData._tokenResponse=i,r}async function i0(e,t){return iX(e,"POST","/v1/accounts:delete",t)}async function i1(e,t){return iX(e,"POST","/v1/accounts:update",t)}async function i2(e,t){return iX(e,"POST","/v1/accounts:lookup",t)}function i6(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function i5(e,t=!1){let i=tC(e),n=await i.getIdToken(t),r=i4(n);iF(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let s="object"==typeof r.firebase?r.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:i6(i3(r.auth_time)),issuedAtTime:i6(i3(r.iat)),expirationTime:i6(i3(r.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function i3(e){return 1e3*Number(e)}function i4(e){let[t,i,n]=e.split(".");if(void 0===t||void 0===i||void 0===n)return iR("JWT malformed, contained fewer than 3 sections"),null;try{let e=eV(i);if(!e)return iR("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return iR("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function i8(e,t,i=!1){if(i)return t;try{return await t}catch(t){throw t instanceof e8&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class i9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;let e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,i=e-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class i7{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=i6(this.lastLoginAt),this.creationTime=i6(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ne(e){var t;let i=e.auth,n=await e.getIdToken(),r=await i8(e,i2(i,{idToken:n}));iF(null==r?void 0:r.users.length,i,"internal-error");let s=r.users[0];e._notifyReloadListener(s);let a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,i=iT(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}}):[],o=function(e,t){let i=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...i,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new i7(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&c};Object.assign(e,d)}async function nt(e){let t=tC(e);await ne(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}async function ni(e,t){let i=await iK(e,{},async()=>{let i=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:r}=e.config,s=iQ(e,n,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iH.fetch()(s,{method:"POST",headers:a,body:i})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}class nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){iF(e.idToken,"internal-error"),iF(void 0!==e.idToken,"internal-error"),iF(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=i4(e);return iF(t,"internal-error"),iF(void 0!==t.exp,"internal-error"),iF(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(iF(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:i,refreshToken:n,expiresIn:r}=await ni(e,t);this.updateTokensAndExpiration(i,n,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){let{refreshToken:i,accessToken:n,expirationTime:r}=t,s=new nn;return i&&(iF("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),n&&(iF("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),r&&(iF("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nn,this.toJSON())}_performRefresh(){return iz("not implemented")}}function nr(e,t){iF("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ns{constructor(e){var{uid:t,auth:i,stsTokenManager:n}=e,r=iT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new i7(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await i8(this,this.stsTokenManager.getToken(this.auth,e));return iF(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return i5(this,e)}reload(){return nt(this)}_assign(e){this!==e&&(iF(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){iF(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ne(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await i8(this,i0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,n,r,s,a,o,l,c;let d=null!==(i=t.displayName)&&void 0!==i?i:void 0,u=null!==(n=t.email)&&void 0!==n?n:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:b,stsTokenManager:x}=t;iF(y&&x,e,"internal-error");let k=nn.fromJSON(this.name,x);iF("string"==typeof y,e,"internal-error"),nr(d,e.name),nr(u,e.name),iF("boolean"==typeof _,e,"internal-error"),iF("boolean"==typeof w,e,"internal-error"),nr(h,e.name),nr(p,e.name),nr(f,e.name),nr(m,e.name),nr(g,e.name),nr(v,e.name);let C=new ns({uid:y,auth:e,email:u,emailVerified:_,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:v});return b&&Array.isArray(b)&&(C.providerData=b.map(e=>Object.assign({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t,i=!1){let n=new nn;n.updateFromServerResponse(t);let r=new ns({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:i});return await ne(r),r}}const na=new Map;function no(e){e instanceof Function||iz("Expected a class definition");let t=na.get(e);return t?t instanceof e||iz("Instance stored in cache mismatched with class"):(t=new e,na.set(e,t)),t}class nl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function nc(e,t,i){return`firebase:${e}:${t}:${i}`}nl.type="NONE";class nd{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:n,name:r}=this.auth;this.fullUserKey=nc(this.userKey,n.apiKey,r),this.fullPersistenceKey=nc("persistence",n.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new nd(no(nl),e,i);let n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),r=n[0]||no(nl),s=nc(i,e.config.apiKey,e.name),a=null;for(let i of t)try{let t=await i._get(s);if(t){let n=ns._fromJSON(e,t);i!==r&&(a=n),r=i;break}}catch(e){}let o=n.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length&&(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new nd(r,e,i)}}function nu(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(nm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nv(t))return"Blackberry";if(ny(t))return"Webos";if(np(t))return"Safari";if((t.includes("chrome/")||nf(t))&&!t.includes("edge/"))return"Chrome";if(ng(t))return"Android";let i=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==i?void 0:i.length)===2)return i[1]}return"Other"}function nh(e=eZ()){return/firefox\//i.test(e)}function np(e=eZ()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nf(e=eZ()){return/crios\//i.test(e)}function nm(e=eZ()){return/iemobile/i.test(e)}function ng(e=eZ()){return/android/i.test(e)}function nv(e=eZ()){return/blackberry/i.test(e)}function ny(e=eZ()){return/webos/i.test(e)}function n_(e=eZ()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nw(e=eZ()){return n_(e)||ng(e)||ny(e)||nv(e)||/windows phone/i.test(e)||nm(e)}function nb(e,t=[]){let i;switch(e){case"Browser":i=nu(eZ());break;case"Worker":i=`${nu(eZ())}-${e}`;break;default:i=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${it}/${n}`}async function nx(e){return(await iX(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function nk(e,t){return iX(e,"GET","/v2/recaptchaConfig",i$(e,t))}function nC(e){return void 0!==e&&void 0!==e.getResponse}function nT(e){return void 0!==e&&void 0!==e.enterprise}class nI{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function nS(e){return new Promise((t,i)=>{var n,r;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=iO("internal-error");t.customData=e,i(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(r=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==r?r:document).appendChild(s)})}function nE(e){return`__${e}${Math.floor(1e6*Math.random())}`}class nN{constructor(e){this.type="recaptcha-enterprise",this.auth=tC(e)}async verify(e="verify",t=!1){async function i(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,i)=>{nk(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0===n.recaptchaKey)i(Error("recaptcha Enterprise site key undefined"));else{let i=new nI(n);return null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,t(i.siteKey)}}).catch(e=>{i(e)})})}function n(t,i,n){let r=window.grecaptcha;nT(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{i(e)}).catch(()=>{i("NO_RECAPTCHA")})}):n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{i(this.auth).then(i=>{if(!t&&nT(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window){r(Error("RecaptchaVerifier is only supported in browser"));return}nS("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function nP(e,t,i,n=!1){let r;let s=new nN(e);try{r=await s.verify(i)}catch(e){r=await s.verify(i,!0)}let a=Object.assign({},t);return n?Object.assign(a,{captchaResp:r}):Object.assign(a,{captchaResponse:r}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class nR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=t=>new Promise((i,n)=>{try{let n=e(t);i(n)}catch(e){n(e)}});i.onAbort=t,this.queue.push(i);let n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class nA{constructor(e,t,i,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nO(this),this.idTokenSubscription=new nO(this),this.beforeStateQueue=new nR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=no(t)),this._initializationPromise=this.queue(async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await nd.create(this,e),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let i=await this.assertedPersistence.getCurrentUser(),n=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===s)&&(null==a?void 0:a.user)&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(iF(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ne(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?tC(e):null;return t&&iF(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&iF(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(no(e))})}async initializeRecaptchaConfig(){let e=await nk(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new nI(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){let e=new nN(this);e.verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new e9("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let i=await this.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&no(e)||this._popupRedirectResolver;iF(t,this,"argument-error"),this.redirectPersistenceManager=await nd.create(this,[no(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,n){if(this._deleted)return()=>{};let r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return(iF(s,this,"internal-error"),s.then(()=>r(this.currentUser)),"function"==typeof t)?e.addObserver(t,i,n):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return iF(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);let n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){iP.logLevel<=w.WARN&&iP.warn(`Auth (${it}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class nO{constructor(e){this.auth=e,this.observer=null,this.addObserver=tm(e=>this.observer=e)}get next(){return iF(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nL(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nM(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class nD{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return iz("not implemented")}_getIdTokenResponse(e){return iz("not implemented")}_linkToIdToken(e,t){return iz("not implemented")}_getReauthenticationResolver(e){return iz("not implemented")}}async function nF(e,t){return iX(e,"POST","/v1/accounts:resetPassword",i$(e,t))}async function nz(e,t){return iX(e,"POST","/v1/accounts:update",t)}async function nW(e,t){return iX(e,"POST","/v1/accounts:update",i$(e,t))}async function nU(e,t){return iY(e,"POST","/v1/accounts:signInWithPassword",i$(e,t))}async function nB(e,t){return iX(e,"POST","/v1/accounts:sendOobCode",i$(e,t))}async function nj(e,t){return nB(e,t)}async function nq(e,t){return nB(e,t)}async function nH(e,t){return nB(e,t)}async function nV(e,t){return nB(e,t)}async function nG(e,t){return iY(e,"POST","/v1/accounts:signInWithEmailLink",i$(e,t))}async function n$(e,t){return iY(e,"POST","/v1/accounts:signInWithEmailLink",i$(e,t))}class nX extends nD{constructor(e,t,i,n=null){super("password",i),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new nX(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new nX(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":let i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t||!t.emailPasswordEnabled)return nU(e,i).catch(async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let t=await nP(e,i,"signInWithPassword");return nU(e,t)}});{let t=await nP(e,i,"signInWithPassword");return nU(e,t)}case"emailLink":return nG(e,{email:this._email,oobCode:this._password});default:iA(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return nz(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return n$(e,{idToken:t,email:this._email,oobCode:this._password});default:iA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nK(e,t){return iY(e,"POST","/v1/accounts:signInWithIdp",i$(e,t))}class nY extends nD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new nY(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):iA("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:n}=t,r=iT(t,["providerId","signInMethod"]);if(!i||!n)return null;let s=new nY(i,n);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return nK(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,nK(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,nK(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}async function nQ(e,t){return iX(e,"POST","/v1/accounts:sendVerificationCode",i$(e,t))}async function nJ(e,t){return iY(e,"POST","/v1/accounts:signInWithPhoneNumber",i$(e,t))}async function nZ(e,t){let i=await iY(e,"POST","/v1/accounts:signInWithPhoneNumber",i$(e,t));if(i.temporaryProof)throw iZ(e,"account-exists-with-different-credential",i);return i}const n0={USER_NOT_FOUND:"user-not-found"};async function n1(e,t){let i=Object.assign(Object.assign({},t),{operation:"REAUTH"});return iY(e,"POST","/v1/accounts:signInWithPhoneNumber",i$(e,i),n0)}class n2 extends nD{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n2({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n2({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return nJ(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return nZ(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return n1(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:n}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:r}=e;return i||t||n||r?new n2({verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:r}):null}}class n6{constructor(e){var t,i,n,r,s,a;let o=th(tp(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(i=o.oobCode)&&void 0!==i?i:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=o.mode)&&void 0!==n?n:null);iF(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){let t=function(e){let t=th(tp(e)).link,i=t?th(tp(t)).deep_link_id:null,n=th(tp(e)).deep_link_id,r=n?th(tp(n)).link:null;return r||n||i||t||e}(e);try{return new n6(t)}catch(e){return null}}}class n5{constructor(){this.providerId=n5.PROVIDER_ID}static credential(e,t){return nX._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let i=n6.parseLink(t);return iF(i,"argument-error"),nX._fromEmailAndCode(e,i.code,i.tenantId)}}n5.PROVIDER_ID="password",n5.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n5.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class n3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class n4 extends n3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class n8 extends n4{static credentialFromJSON(e){let t="string"==typeof e?JSON.parse(e):e;return iF("providerId"in t&&"signInMethod"in t,"argument-error"),nY._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return iF(e.idToken||e.accessToken,"argument-error"),nY._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return n8.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return n8.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:n,pendingToken:r,nonce:s,providerId:a}=e;if(!i&&!n&&!t&&!r||!a)return null;try{return new n8(a)._credential({idToken:t,accessToken:i,nonce:s,pendingToken:r})}catch(e){return null}}}class n9 extends n4{constructor(){super("facebook.com")}static credential(e){return nY._fromParams({providerId:n9.PROVIDER_ID,signInMethod:n9.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n9.credentialFromTaggedObject(e)}static credentialFromError(e){return n9.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n9.credential(e.oauthAccessToken)}catch(e){return null}}}n9.FACEBOOK_SIGN_IN_METHOD="facebook.com",n9.PROVIDER_ID="facebook.com";class n7 extends n4{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return nY._fromParams({providerId:n7.PROVIDER_ID,signInMethod:n7.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return n7.credentialFromTaggedObject(e)}static credentialFromError(e){return n7.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return n7.credential(t,i)}catch(e){return null}}}n7.GOOGLE_SIGN_IN_METHOD="google.com",n7.PROVIDER_ID="google.com";class re extends n4{constructor(){super("github.com")}static credential(e){return nY._fromParams({providerId:re.PROVIDER_ID,signInMethod:re.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return re.credentialFromTaggedObject(e)}static credentialFromError(e){return re.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return re.credential(e.oauthAccessToken)}catch(e){return null}}}re.GITHUB_SIGN_IN_METHOD="github.com",re.PROVIDER_ID="github.com";class rt extends nD{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){let t=this.buildRequest();return nK(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,nK(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,nK(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:n,pendingToken:r}=t;return i&&n&&r&&i===n?new rt(i,r):null}static _create(e,t){return new rt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ri extends n3{constructor(e){iF(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ri.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ri.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let t=rt.fromJSON(e);return iF(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return rt._create(i,t)}catch(e){return null}}}class rn extends n4{constructor(){super("twitter.com")}static credential(e,t){return nY._fromParams({providerId:rn.PROVIDER_ID,signInMethod:rn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rn.credentialFromTaggedObject(e)}static credentialFromError(e){return rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return rn.credential(t,i)}catch(e){return null}}}async function rr(e,t){return iY(e,"POST","/v1/accounts:signUp",i$(e,t))}rn.TWITTER_SIGN_IN_METHOD="twitter.com",rn.PROVIDER_ID="twitter.com";class rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,n=!1){let r=await ns._fromIdTokenResponse(e,i,n),s=ra(i),a=new rs({user:r,providerId:s,_tokenResponse:i,operationType:t});return a}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);let n=ra(i);return new rs({user:e,providerId:n,_tokenResponse:i,operationType:t})}}function ra(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function ro(e){var t;let i=tC(e);if(await i._initializationPromise,null===(t=i.currentUser)||void 0===t?void 0:t.isAnonymous)return new rs({user:i.currentUser,providerId:null,operationType:"signIn"});let n=await rr(i,{returnSecureToken:!0}),r=await rs._fromIdTokenResponse(i,"signIn",n,!0);return await i._updateCurrentUser(r.user),r}class rl extends e8{constructor(e,t,i,n){var r;super(t.code,t.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,rl.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,n){return new rl(e,t,i,n)}}function rc(e,t,i,n){let r="reauthenticate"===t?i._getReauthenticationResolver(e):i._getIdTokenResponse(e);return r.catch(i=>{if("auth/multi-factor-auth-required"===i.code)throw rl._fromErrorAndOperation(e,i,t,n);throw i})}function rd(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function ru(e,t){let i=tC(e);await rp(!0,i,t);let{providerUserInfo:n}=await i1(i.auth,{idToken:await i.getIdToken(),deleteProvider:[t]}),r=rd(n||[]);return i.providerData=i.providerData.filter(e=>r.has(e.providerId)),r.has("phone")||(i.phoneNumber=null),await i.auth._persistUserIfCurrent(i),i}async function rh(e,t,i=!1){let n=await i8(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return rs._forOperation(e,"link",n)}async function rp(e,t,i){await ne(t);let n=rd(t.providerData),r=!1===e?"provider-already-linked":"no-such-provider";iF(n.has(i)===e,t.auth,r)}async function rf(e,t,i=!1){let{auth:n}=e,r="reauthenticate";try{let s=await i8(e,rc(n,r,t,e),i);iF(s.idToken,n,"internal-error");let a=i4(s.idToken);iF(a,n,"internal-error");let{sub:o}=a;return iF(e.uid===o,n,"user-mismatch"),rs._forOperation(e,r,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&iA(n,"user-mismatch"),e}}async function rm(e,t,i=!1){let n="signIn",r=await rc(e,n,t),s=await rs._fromIdTokenResponse(e,n,r);return i||await e._updateCurrentUser(s.user),s}async function rg(e,t){return rm(tC(e),t)}async function rv(e,t){let i=tC(e);return await rp(!1,i,t.providerId),rh(i,t)}async function ry(e,t){return rf(tC(e),t)}async function r_(e,t){return iY(e,"POST","/v1/accounts:signInWithCustomToken",i$(e,t))}async function rw(e,t){let i=tC(e),n=await r_(i,{token:t,returnSecureToken:!0}),r=await rs._fromIdTokenResponse(i,"signIn",n);return await i._updateCurrentUser(r.user),r}class rb{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?rx._fromServerResponse(e,t):"totpInfo"in t?rk._fromServerResponse(e,t):iA(e,"internal-error")}}class rx extends rb{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new rx(t)}}class rk extends rb{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new rk(t)}}function rC(e,t,i){var n;iF((null===(n=i.url)||void 0===n?void 0:n.length)>0,e,"invalid-continue-uri"),iF(void 0===i.dynamicLinkDomain||i.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=i.url,t.dynamicLinkDomain=i.dynamicLinkDomain,t.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(iF(i.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=i.iOS.bundleId),i.android&&(iF(i.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=i.android.installApp,t.androidMinimumVersionCode=i.android.minimumVersion,t.androidPackageName=i.android.packageName)}async function rT(e,t,i){var n;let r=tC(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(n=r._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled){let e=await nP(r,s,"getOobCode",!0);i&&rC(r,e,i),await nq(r,e)}else i&&rC(r,s,i),await nq(r,s).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");let e=await nP(r,s,"getOobCode",!0);i&&rC(r,e,i),await nq(r,e)}})}async function rI(e,t,i){await nF(tC(e),{oobCode:t,newPassword:i})}async function rS(e,t){await nW(tC(e),{oobCode:t})}async function rE(e,t){let i=tC(e),n=await nF(i,{oobCode:t}),r=n.requestType;switch(iF(r,i,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":iF(n.newEmail,i,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":iF(n.mfaInfo,i,"internal-error");default:iF(n.email,i,"internal-error")}let s=null;return n.mfaInfo&&(s=rb._fromServerResponse(tC(i),n.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.newEmail:n.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.email:n.newEmail)||null,multiFactorInfo:s},operation:r}}async function rN(e,t){let{data:i}=await rE(tC(e),t);return i.email}async function rP(e,t,i){var n;let r;let s=tC(e),a={returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"};if(null===(n=s._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled){let e=await nP(s,a,"signUpPassword");r=rr(s,e)}else r=rr(s,a).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");let e=await nP(s,a,"signUpPassword");return rr(s,e)}});let o=await r.catch(e=>Promise.reject(e)),l=await rs._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}async function rR(e,t,i){var n;let r=tC(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function a(e,t){iF(t.handleCodeInApp,r,"argument-error"),t&&rC(r,e,t)}if(null===(n=r._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled){let e=await nP(r,s,"getOobCode",!0);a(e,i),await nH(r,e)}else a(s,i),await nH(r,s).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let e=await nP(r,s,"getOobCode",!0);a(e,i),await nH(r,e)}})}async function rA(e,t,i){let n=tC(e),r=n5.credentialWithLink(t,i||iW());return iF(r._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),rg(n,r)}async function rO(e,t){return iX(e,"POST","/v1/accounts:createAuthUri",i$(e,t))}async function rL(e,t){let i=iU()?iW():"http://localhost",{signinMethods:n}=await rO(tC(e),{identifier:t,continueUri:i});return n||[]}async function rM(e,t){let i=tC(e),n=await e.getIdToken(),r={requestType:"VERIFY_EMAIL",idToken:n};t&&rC(i.auth,r,t);let{email:s}=await nj(i.auth,r);s!==e.email&&await e.reload()}async function rD(e,t,i){let n=tC(e),r=await e.getIdToken(),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:t};i&&rC(n.auth,s,i);let{email:a}=await nV(n.auth,s);a!==e.email&&await e.reload()}async function rF(e,t){return iX(e,"POST","/v1/accounts:update",t)}async function rz(e,{displayName:t,photoURL:i}){if(void 0===t&&void 0===i)return;let n=tC(e),r=await n.getIdToken(),s=await i8(n,rF(n.auth,{idToken:r,displayName:t,photoUrl:i,returnSecureToken:!0}));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;let a=n.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}async function rW(e,t,i){let{auth:n}=e,r=await e.getIdToken(),s={idToken:r,returnSecureToken:!0};t&&(s.email=t),i&&(s.password=i);let a=await i8(e,nz(n,s));await e._updateTokensIfNecessary(a,!0)}class rU{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class rB extends rU{constructor(e,t,i,n){super(e,t,i),this.username=n}}class rj extends rU{constructor(e,t){super(e,"facebook.com",t)}}class rq extends rB{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class rH extends rU{constructor(e,t){super(e,"google.com",t)}}class rV extends rB{constructor(e,t,i){super(e,"twitter.com",t,i)}}class rG{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new rG("enroll",e,t)}static _fromMfaPendingCredential(e){return new rG("signin",e)}toJSON(){let e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,i;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return rG._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(i=e.multiFactorSession)||void 0===i?void 0:i.idToken)return rG._fromIdtoken(e.multiFactorSession.idToken)}return null}}class r${constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){let i=tC(e),n=t.customData._serverResponse,r=(n.mfaInfo||[]).map(e=>rb._fromServerResponse(i,e));iF(n.mfaPendingCredential,i,"internal-error");let s=rG._fromMfaPendingCredential(n.mfaPendingCredential);return new r$(s,r,async e=>{let r=await e._process(i,s);delete n.mfaInfo,delete n.mfaPendingCredential;let a=Object.assign(Object.assign({},n),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":let o=await rs._fromIdTokenResponse(i,t.operationType,a);return await i._updateCurrentUser(o.user),o;case"reauthenticate":return iF(t.user,i,"internal-error"),rs._forOperation(t.user,t.operationType,a);default:iA(i,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}class rX{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>rb._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new rX(e)}async getSession(){return rG._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let i=await this.getSession(),n=await i8(this.user,e._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(n),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,i=await this.user.getIdToken();try{var n;let e=await i8(this.user,(n=this.user.auth,iX(n,"POST","/v2/accounts/mfaEnrollment:withdraw",i$(n,{idToken:i,mfaEnrollmentId:t}))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}const rK=new WeakMap,rY="__sak";class rQ{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(rY,"1"),this.storage.removeItem(rY),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class rJ extends rQ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){let e=eZ();return np(e)||n_(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let i=this.storage.getItem(t),n=this.localCache[t];i!==n&&e(t,n,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,i)=>{this.notifyListeners(e,i)});return}let i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let n=this.storage.getItem(i);if(e.newValue!==n)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}let n=()=>{let e=this.storage.getItem(i);(t||this.localCache[i]!==e)&&this.notifyListeners(i,e)},r=this.storage.getItem(i);e5()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rJ.type="LOCAL";class rZ extends rQ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rZ.type="SESSION";class r0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let i=new r0(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:i,data:n}=e.data,r=this.handlersMap[i];if(!(null==r?void 0:r.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:i});let s=Array.from(r).map(async t=>t(e.origin,n)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function r1(e="",t=10){let i="";for(let e=0;e<t;e++)i+=Math.floor(10*Math.random());return e+i}r0.receivers=[];class r2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){let n,r;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=r1("",20);s.port1.start();let c=setTimeout(()=>{o(Error("unsupported_event"))},i);r={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),n=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(n),a(e.data.response);break;default:clearTimeout(c),clearTimeout(n),o(Error("invalid_response"))}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}function r6(){return window}function r5(){return void 0!==r6().WorkerGlobalScope&&"function"==typeof r6().importScripts}async function r3(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}const r4="firebaseLocalStorageDb",r8="firebaseLocalStorage",r9="fbase_key";class r7{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function se(e,t){return e.transaction([r8],t?"readwrite":"readonly").objectStore(r8)}function st(){let e=indexedDB.open(r4,1);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(r8,{keyPath:r9})}catch(e){i(e)}}),e.addEventListener("success",async()=>{let i=e.result;i.objectStoreNames.contains(r8)?t(i):(i.close(),await function(){let e=indexedDB.deleteDatabase(r4);return new r7(e).toPromise()}(),t(await st()))})})}async function si(e,t,i){let n=se(e,!0).put({[r9]:t,value:i});return new r7(n).toPromise()}async function sn(e,t){let i=se(e,!1).get(t),n=await new r7(i).toPromise();return void 0===n?null:n.value}function sr(e,t){let i=se(e,!0).delete(t);return new r7(i).toPromise()}class ss{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await st()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=r0._getInstance(r5()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>{let i=await this._poll();return{keyProcessed:i.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await r3(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=i[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await st();return await si(e,rY,"1"),await sr(e,rY),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>si(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>sn(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=se(e,!1).getAll();return new r7(t).toPromise()});if(!e||0!==this.pendingWrites)return[];let t=[],i=new Set;for(let{fbase_key:n,value:r}of e)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),t.push(n));for(let e of Object.keys(this.localCache))this.localCache[e]&&!i.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ss.type="LOCAL";class sa{constructor(e){this.auth=e,this.counter=1e12,this._widgets=new Map}render(e,t){let i=this.counter;return this._widgets.set(i,new so(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;let i=e||1e12;null===(t=this._widgets.get(i))||void 0===t||t.delete(),this._widgets.delete(i)}getResponse(e){var t;let i=e||1e12;return(null===(t=this._widgets.get(i))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;let i=e||1e12;return null===(t=this._widgets.get(i))||void 0===t||t.execute(),""}}class so{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let n="string"==typeof e?document.getElementById(e):e;iF(n,"argument-error",{appName:t}),this.container=n,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){let t=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(i.charAt(Math.floor(Math.random()*i.length)));return t.join("")}(0);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw Error("reCAPTCHA mock was already deleted!")}}const sl=nE("rcb"),sc=new ij(3e4,6e4);class sd{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=r6().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return(iF(t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t),e,"argument-error"),this.shouldResolveImmediately(t)&&nC(r6().grecaptcha))?Promise.resolve(r6().grecaptcha):new Promise((i,n)=>{let r=r6().setTimeout(()=>{n(iO(e,"network-request-failed"))},sc.get());r6()[sl]=()=>{r6().clearTimeout(r),delete r6()[sl];let s=r6().grecaptcha;if(!s||!nC(s)){n(iO(e,"internal-error"));return}let a=s.render;s.render=(e,t)=>{let i=a(e,t);return this.counter++,i},this.hostLanguage=t,i(s)};let s=`https://www.google.com/recaptcha/api.js??${tu({onload:sl,render:"explicit",hl:t})}`;nS(s).catch(()=>{clearTimeout(r),n(iO(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=r6().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class su{async load(e){return new sa(e)}clearedOneInstance(){}}const sh="recaptcha",sp={theme:"light",type:"image"};class sf{constructor(e,t,i=Object.assign({},sp)){this.parameters=i,this.type=sh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tC(e),this.isInvisible="invisible"===this.parameters.size,iF("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");let n="string"==typeof t?document.getElementById(t):t;iF(n,this.auth,"argument-error"),this.container=n,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new su:new sd,this.validateStartingState()}async verify(){this.assertNotDestroyed();let e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(i=>{let n=e=>{e&&(this.tokenChangeListeners.delete(n),i(e))};this.tokenChangeListeners.add(n),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){iF(!this.parameters.sitekey,this.auth,"argument-error"),iF(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),iF("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){let i=r6()[e];"function"==typeof i&&i(t)}}}assertNotDestroyed(){iF(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){let e;iF(iU()&&!r5(),this.auth,"internal-error"),await (e=null,new Promise(t=>{if("complete"===document.readyState){t();return}e=()=>t(),window.addEventListener("load",e)}).catch(t=>{throw e&&window.removeEventListener("load",e),t})),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let t=await nx(this.auth);iF(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return iF(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sm{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=n2._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function sg(e,t,i){let n=tC(e),r=await s_(n,t,tC(i));return new sm(r,e=>rg(n,e))}async function sv(e,t,i){let n=tC(e);await rp(!1,n,"phone");let r=await s_(n.auth,t,tC(i));return new sm(r,e=>rv(n,e))}async function sy(e,t,i){let n=tC(e),r=await s_(n.auth,t,tC(i));return new sm(r,e=>ry(n,e))}async function s_(e,t,i){var n,r,s;let a=await i.verify();try{let o;if(iF("string"==typeof a,e,"argument-error"),iF(i.type===sh,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o){iF("enroll"===t.type,e,"internal-error");let i=await (r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}},iX(e,"POST","/v2/accounts/mfaEnrollment:start",i$(e,r)));return i.phoneSessionInfo.sessionInfo}{iF("signin"===t.type,e,"internal-error");let i=(null===(n=o.multiFactorHint)||void 0===n?void 0:n.uid)||o.multiFactorUid;iF(i,e,"missing-multi-factor-info");let r=await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:a}},iX(e,"POST","/v2/accounts/mfaSignIn:start",i$(e,s)));return r.phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await nQ(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{i._reset()}}async function sw(e,t){await rh(tC(e),t)}class sb{constructor(e){this.providerId=sb.PROVIDER_ID,this.auth=tC(e)}verifyPhoneNumber(e,t){return s_(this.auth,e,tC(t))}static credential(e,t){return n2._fromVerification(e,t)}static credentialFromResult(e){return sb.credentialFromTaggedObject(e)}static credentialFromError(e){return sb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:i}=e;return t&&i?n2._fromTokenResponse(t,i):null}}function sx(e,t){return t?no(t):(iF(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}sb.PROVIDER_ID="phone",sb.PHONE_SIGN_IN_METHOD="phone";class sk extends nD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nK(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nK(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nK(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sC(e){return rm(e.auth,new sk(e),e.bypassAuthState)}function sT(e){let{auth:t,user:i}=e;return iF(i,t,"internal-error"),rf(i,new sk(e),e.bypassAuthState)}async function sI(e){let{auth:t,user:i}=e;return iF(i,t,"internal-error"),rh(i,new sk(e),e.bypassAuthState)}class sS{constructor(e,t,i,n,r=!1){this.auth=e,this.resolver=i,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:i,postBody:n,tenantId:r,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sC;case"linkViaPopup":case"linkViaRedirect":return sI;case"reauthViaPopup":case"reauthViaRedirect":return sT;default:iA(this.auth,"internal-error")}}resolve(e){this.pendingPromise||iz("Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){this.pendingPromise||iz("Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sE=new ij(2e3,1e4);async function sN(e,t,i){let n=tC(e);iM(e,t,n3);let r=sx(n,i),s=new sA(n,"signInViaPopup",t,r);return s.executeNotNull()}async function sP(e,t,i){let n=tC(e);iM(n.auth,t,n3);let r=sx(n.auth,i),s=new sA(n.auth,"reauthViaPopup",t,r,n);return s.executeNotNull()}async function sR(e,t,i){let n=tC(e);iM(n.auth,t,n3);let r=sx(n.auth,i),s=new sA(n.auth,"linkViaPopup",t,r,n);return s.executeNotNull()}class sA extends sS{constructor(e,t,i,n,r){super(e,t,n,r),this.provider=i,this.authWindow=null,this.pollId=null,sA.currentPopupAction&&sA.currentPopupAction.cancel(),sA.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return iF(e,this.auth,"internal-error"),e}async onExecution(){1===this.filter.length||iz("Popup operations only handle one event");let e=r1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(iO(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(iO(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sA.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,i;if(null===(i=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===i?void 0:i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(iO(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sE.get())};e()}}sA.currentPopupAction=null;const sO=new Map;class sL extends sS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=sO.get(this.auth._key());if(!e){try{let t=await sM(this.resolver,this.auth),i=t?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}sO.set(this.auth._key(),e)}return this.bypassAuthState||sO.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sM(e,t){let i=sW(t),n=sz(e);if(!await n._isAvailable())return!1;let r=await n._get(i)==="true";return await n._remove(i),r}async function sD(e,t){return sz(e)._set(sW(t),"true")}function sF(e,t){sO.set(e._key(),t)}function sz(e){return no(e._redirectPersistence)}function sW(e){return nc("pendingRedirect",e.config.apiKey,e.name)}async function sU(e,t,i){let n=tC(e);iM(e,t,n3),await n._initializationPromise;let r=sx(n,i);return await sD(r,n),r._openRedirect(n,t,"signInViaRedirect")}async function sB(e,t,i){let n=tC(e);iM(n.auth,t,n3),await n.auth._initializationPromise;let r=sx(n.auth,i);await sD(r,n.auth);let s=await sV(n);return r._openRedirect(n.auth,t,"reauthViaRedirect",s)}async function sj(e,t,i){let n=tC(e);iM(n.auth,t,n3),await n.auth._initializationPromise;let r=sx(n.auth,i);await rp(!1,n,t.providerId),await sD(r,n.auth);let s=await sV(n);return r._openRedirect(n.auth,t,"linkViaRedirect",s)}async function sq(e,t){return await tC(e)._initializationPromise,sH(e,t,!1)}async function sH(e,t,i=!1){let n=tC(e),r=sx(n,t),s=new sL(n,r,i),a=await s.execute();return a&&!i&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}async function sV(e){let t=r1(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class sG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sX(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!sX(e)){let n=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(iO(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(s$(e))}saveEventToCache(e){this.cachedEventUids.add(s$(e)),this.lastProcessedEventTime=Date.now()}}function s$(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function sX({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function sK(e,t={}){return iX(e,"GET","/v1/projects",t)}const sY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sQ=/^https?/;async function sJ(e){if(e.config.emulator)return;let{authorizedDomains:t}=await sK(e);for(let e of t)try{if(function(e){let t=iW(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let r=new URL(e);return""===r.hostname&&""===n?"chrome-extension:"===i&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===i&&r.hostname===n}if(!sQ.test(i))return!1;if(sY.test(e))return n===e;let r=e.replace(/\./g,"\\."),s=RegExp("^(.+\\."+r+"|"+r+")$","i");return s.test(n)}(e))return}catch(e){}iA(e,"unauthorized-domain")}const sZ=new ij(3e4,6e4);function s0(){let e=r6().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let s1=null;const s2=new ij(5e3,15e3),s6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function s3(e){let t=await (s1=s1||new Promise((t,i)=>{var n,r,s;function a(){s0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{s0(),i(iO(e,"network-request-failed"))},timeout:sZ.get()})}if(null===(r=null===(n=r6().gapi)||void 0===n?void 0:n.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else if(null===(s=r6().gapi)||void 0===s?void 0:s.load)a();else{let t=nE("iframefcb");return r6()[t]=()=>{gapi.load?a():i(iO(e,"network-request-failed"))},nS(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>i(e))}}).catch(e=>{throw s1=null,e})),i=r6().gapi;return iF(i,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;iF(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?iq(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:it},r=s5.get(e.config.apiHost);r&&(n.eid=r);let s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),`${i}?${tu(n).slice(1)}`}(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s6,dontclear:!0},t=>new Promise(async(i,n)=>{await t.restyle({setHideOnLeave:!1});let r=iO(e,"network-request-failed"),s=r6().setTimeout(()=>{n(r)},s2.get());function a(){r6().clearTimeout(s),i(t)}t.ping(a).then(a,()=>{n(r)})}))}const s4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class s8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const s9=encodeURIComponent("fac");async function s7(e,t,i,n,r,s){iF(e.config.authDomain,e,"auth-domain-config-required"),iF(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:it,eventId:r};if(t instanceof n3)for(let[i,n]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",to(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[i]=n;if(t instanceof n4){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];let o=await e._getAppCheckToken(),l=o?`#${s9}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?iq(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${tu(a).slice(1)}${l}`}const ae="webStorageSupport",at=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rZ,this._completeRedirectFn=sH,this._overrideRedirectResult=sF}async _openPopup(e,t,i,n){var r;(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager)||iz("_initialize() not called before _openPopup()");let s=await s7(e,t,i,iW(),n);return function(e,t,i,n=500,r=600){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString(),o="",l=Object.assign(Object.assign({},s4),{width:n.toString(),height:r.toString(),top:s,left:a}),c=eZ().toLowerCase();i&&(o=nf(c)?"_blank":i),nh(c)&&(t=t||"http://localhost",l.scrollbars="yes");let d=Object.entries(l).reduce((e,[t,i])=>`${e}${t}=${i},`,"");if(function(e=eZ()){var t;return n_(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){let i=document.createElement("a");i.href=e,i.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}(t||"",o),new s8(null);let u=window.open(t||"",o,d);iF(u,e,"popup-blocked");try{u.focus()}catch(e){}return new s8(u)}(e,s,r1())}async _openRedirect(e,t,i,n){await this._originValidation(e);let r=await s7(e,t,i,iW(),n);return r6().location.href=r,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:i}=this.eventManagers[t];return e?Promise.resolve(e):(i||iz("If manager is not set, promise should be"),i)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){let t=await s3(e),i=new sG(e);return t.register("authEvent",t=>{iF(null==t?void 0:t.authEvent,e,"invalid-auth-event");let n=i.onEvent(t.authEvent);return{status:n?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){let i=this.iframes[e._key()];i.send(ae,{type:ae},i=>{var n;let r=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n[ae];void 0!==r&&t(!!r),iA(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sJ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nw()||np()||n_()}};class ai{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return iz("unexpected MultiFactorSessionType")}}}class an extends ai{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new an(e)}_finalizeEnroll(e,t,i){return iX(e,"POST","/v2/accounts/mfaEnrollment:finalize",i$(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return iX(e,"POST","/v2/accounts/mfaSignIn:finalize",i$(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class ar{constructor(){}static assertion(e){return an._fromCredential(e)}}ar.FACTOR_ID="phone";class as extends ai{constructor(e,t,i){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=i}static _fromSecret(e,t){return new as(t,void 0,e)}static _fromEnrollmentId(e,t){return new as(t,e)}async _finalizeEnroll(e,t,i){return iF(void 0!==this.secret,e,"argument-error"),iX(e,"POST","/v2/accounts/mfaEnrollment:finalize",i$(e,{idToken:t,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){iF(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let i={verificationCode:this.otp};return iX(e,"POST","/v2/accounts/mfaSignIn:finalize",i$(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i}))}}class aa{constructor(e,t,i,n,r,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=i,this.codeIntervalSeconds=n,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(e,t){return new aa(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var i;let n=!1;return(ao(e)||ao(t))&&(n=!0),n&&(ao(e)&&(e=(null===(i=this.auth.currentUser)||void 0===i?void 0:i.email)||"unknownuser"),ao(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function ao(e){return void 0===e||(null==e?void 0:e.length)===0}var al="@firebase/auth",ac="1.0.0";class ad{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){iF(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function au(){return window}async function ah(e,t,i){var n;let{BuildInfo:r}=au();t.sessionId||iz("AuthEvent did not contain a session ID");let s=await am(t.sessionId),a={};return n_()?a.ibi=r.packageName:ng()?a.apn=r.packageName:iA(e,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=s,s7(e,i,t.type,void 0,null!==(n=t.eventId)&&void 0!==n?n:void 0,a)}async function ap(e){let{BuildInfo:t}=au(),i={};n_()?i.iosBundleId=t.packageName:ng()?i.androidPackageName=t.packageName:iA(e,"operation-not-supported-in-this-environment"),await sK(e,i)}async function af(e,t,i){let{cordova:n}=au(),r=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var e;s();let t=null===(e=n.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==i?void 0:i.close)&&i.close()}function c(){o||(o=window.setTimeout(()=>{a(iO(e,"redirect-cancelled-by-user"))},2e3))}function d(){(null==document?void 0:document.visibilityState)==="visible"&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ng()&&document.addEventListener("visibilitychange",d,!1),r=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",d,!1),o&&window.clearTimeout(o)}})}finally{r()}}async function am(e){let t=function(e){if(/[0-9a-zA-Z]+/.test(e)||iz("Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return new TextEncoder().encode(e);let t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}(e),i=await crypto.subtle.digest("SHA-256",t),n=Array.from(new Uint8Array(i));return n.map(e=>e.toString(16).padStart(2,"0")).join("")}(e=>{var t;return null===(t=eY())||void 0===t?void 0:t[`_${e}`]})("authIdTokenMaxAge"),function(e){t3(new tT("auth",(t,{options:i})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;iF(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nb(e)},c=new nA(n,r,s,l);return function(e,t){let i=(null==t?void 0:t.persistence)||[],n=(Array.isArray(i)?i:[i]).map(no);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(c,i),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{let n=e.getProvider("auth-internal");n.initialize()})),t3(new tT("auth-internal",e=>{let t=tC(e.getProvider("auth").getImmediate());return new ad(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(al,ac,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),io(al,ac,"esm2017")}("Browser");class ag extends sG{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function av(e){let t=await no(rJ)._get(ay(e));return t&&await no(rJ)._remove(ay(e)),t}function ay(e){return nc("authEvent",e.config.apiKey,e.name)}function a_(e){if(!(null==e?void 0:e.includes("?")))return{};let[t,...i]=e.split("?");return th(i.join("?"))}const aw=class{constructor(){this._redirectPersistence=rZ,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sH,this._overrideRedirectResult=sF}async _initialize(e){let t=e._key(),i=this.eventManagers.get(t);return i||(i=new ag(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){iA(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,n){!function(e){var t,i,n,r,s,a,o,l,c,d;let u=au();iF("function"==typeof(null===(t=null==u?void 0:u.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),iF(void 0!==(null===(i=null==u?void 0:u.BuildInfo)||void 0===i?void 0:i.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),iF("function"==typeof(null===(s=null===(r=null===(n=null==u?void 0:u.cordova)||void 0===n?void 0:n.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),iF("function"==typeof(null===(l=null===(o=null===(a=null==u?void 0:u.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),iF("function"==typeof(null===(d=null===(c=null==u?void 0:u.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);let r=await this._initialize(e);await r.initialized(),r.resetRedirect(),sO.clear(),await this._originValidation(e);let s=function(e,t,i=null){return{type:t,eventId:i,urlResponse:null,sessionId:function(){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<20;i++){let i=Math.floor(Math.random()*t.length);e.push(t.charAt(i))}return e.join("")}(),postBody:null,tenantId:e.tenantId,error:iO(e,"no-auth-event")}}(e,i,n);await no(rJ)._set(ay(e),s);let a=await ah(e,s,t),o=await function(e){let{cordova:t}=au();return new Promise(i=>{t.plugins.browsertab.isAvailable(n=>{let r=null;n?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,!function(e=eZ()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_system":"_blank","location=yes"),i(r)})})}(a);return af(e,r,o)}_isIframeWebStorageSupported(e,t){throw Error("Method not implemented.")}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ap(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){let{universalLinks:i,handleOpenURL:n,BuildInfo:r}=au(),s=setTimeout(async()=>{await av(e),t.onEvent(ab())},500),a=async i=>{clearTimeout(s);let n=await av(e),r=null;n&&(null==i?void 0:i.url)&&(r=function(e,t){var i,n;let r=function(e){let t=a_(e),i=t.link?decodeURIComponent(t.link):void 0,n=a_(i).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0,s=a_(r).link;return s||r||n||i||e}(t);if(r.includes("/__/auth/callback")){let t=a_(r),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(n=null===(i=null==s?void 0:s.code)||void 0===i?void 0:i.split("auth/"))||void 0===n?void 0:n[1],o=a?iO(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}(n,i.url)),t.onEvent(r||ab())};void 0!==i&&"function"==typeof i.subscribe&&i.subscribe(null,a);let o=`${r.packageName.toLowerCase()}://`;au().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(o)&&a({url:e}),"function"==typeof n)try{n(e)}catch(e){console.error(e)}}}};function ab(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:iO("no-auth-event")}}function ax(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ak(e=eZ()){return!!(("file:"===ax()||"ionic:"===ax()||"capacitor:"===ax())&&e.toLowerCase().match(/iphone|ipad|ipod|android/))}function aC(){try{let e=self.localStorage,t=r1();if(e){if(e.setItem(t,"1"),e.removeItem(t),function(e=eZ()){return e5()&&(null==document?void 0:document.documentMode)===11||function(e=eZ()){return/Edge\/\d+/.test(e)}(e)}())return e4();return!0}}catch(e){return aT()&&e4()}return!1}function aT(){return void 0!==x&&"WorkerGlobalScope"in x&&"importScripts"in x}function aI(){return("http:"===ax()||"https:"===ax()||e2()||ak())&&!(e6()||e1())&&aC()&&!aT()}function aS(){return ak()&&"undefined"!=typeof document}async function aE(){return!!aS()&&new Promise(e=>{let t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}const aN={LOCAL:"local",NONE:"none",SESSION:"session"},aP="persistence";async function aR(e){await e._initializationPromise;let t=aA(),i=nc(aP,e.config.apiKey,e.name);t&&t.setItem(i,e._getPersistence())}function aA(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}class aO{constructor(){this.browserResolver=no(at),this.cordovaResolver=no(aw),this.underlyingResolver=null,this._redirectPersistence=rZ,this._completeRedirectFn=sH,this._overrideRedirectResult=sF}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,n){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,n)}async _openRedirect(e,t,i,n){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,n)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return aS()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return iF(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;let e=await aE();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function aL(e){let t;let{_tokenResponse:i}=e instanceof e8?e.customData:e;if(!i)return null;if(!(e instanceof e8)&&"temporaryProof"in i&&"phoneNumber"in i)return sb.credentialFromResult(e);let n=i.providerId;if(!n||n===iI.PASSWORD)return null;switch(n){case iI.GOOGLE:t=n7;break;case iI.FACEBOOK:t=n9;break;case iI.GITHUB:t=re;break;case iI.TWITTER:t=rn;break;default:let{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=i;if(!s&&!a&&!r&&!o)return null;if(o){if(n.startsWith("saml."))return rt._create(n,o);return nY._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:r,accessToken:s})}return new n8(n).credential({idToken:r,accessToken:s,rawNonce:l})}return e instanceof e8?t.credentialFromError(e):t.credentialFromResult(e)}function aM(e,t){return t.catch(t=>{throw t instanceof e8&&function(e,t){var i;let n=null===(i=t.customData)||void 0===i?void 0:i._tokenResponse;if((null==t?void 0:t.code)==="auth/multi-factor-auth-required")t.resolver=new aF(e,function(e,t){var i;let n=tC(e);return iF(t.customData.operationType,n,"argument-error"),iF(null===(i=t.customData._serverResponse)||void 0===i?void 0:i.mfaPendingCredential,n,"argument-error"),r$._fromError(n,t)}(e,t));else if(n){let e=aL(t);e&&(t.credential=e,t.tenantId=n.tenantId||void 0,t.email=n.email||void 0,t.phoneNumber=n.phoneNumber||void 0)}}(e,t),t}).then(e=>{let t=e.operationType,i=e.user;return{operationType:t,credential:aL(e),additionalUserInfo:function(e){let{user:t,_tokenResponse:i}=e;return t.isAnonymous&&!i?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,i;if(!e)return null;let{providerId:n}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!n&&(null==e?void 0:e.idToken)){let n=null===(i=null===(t=i4(e.idToken))||void 0===t?void 0:t.firebase)||void 0===i?void 0:i.sign_in_provider;if(n){let e="anonymous"!==n&&"custom"!==n?n:null;return new rU(s,e)}}if(!n)return null;switch(n){case"facebook.com":return new rj(s,r);case"github.com":return new rq(s,r);case"google.com":return new rH(s,r);case"twitter.com":return new rV(s,r,e.screenName||null);case"custom":case"anonymous":return new rU(s,null);default:return new rU(s,n,r)}}(i)}(e),user:az.getOrCreate(i)}})}async function aD(e,t){let i=await t;return{verificationId:i.verificationId,confirm:t=>aM(e,i.confirm(t))}}class aF{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return aM(this.auth.unwrap(),this.resolver.resolveSignIn(e))}}class az{constructor(e){this._delegate=e,this.multiFactor=function(e){let t=tC(e);return rK.has(t)||rK.set(t,rX._fromUser(t)),rK.get(t)}(e)}static getOrCreate(e){return az.USER_MAP.has(e)||az.USER_MAP.set(e,new az(e)),az.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return aM(this.auth,rv(this._delegate,e))}async linkWithPhoneNumber(e,t){return aD(this.auth,sv(this._delegate,e,t))}async linkWithPopup(e){return aM(this.auth,sR(this._delegate,e,aO))}async linkWithRedirect(e){return await aR(tC(this.auth)),sj(this._delegate,e,aO)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return aM(this.auth,ry(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return aD(this.auth,sy(this._delegate,e,t))}reauthenticateWithPopup(e){return aM(this.auth,sP(this._delegate,e,aO))}async reauthenticateWithRedirect(e){return await aR(tC(this.auth)),sB(this._delegate,e,aO)}sendEmailVerification(e){return rM(this._delegate,e)}async unlink(e){return await ru(this._delegate,e),this}updateEmail(e){return rW(tC(this._delegate),e,null)}updatePassword(e){return rW(tC(this._delegate),null,e)}updatePhoneNumber(e){return sw(this._delegate,e)}updateProfile(e){return rz(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return rD(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}az.USER_MAP=new WeakMap;class aW{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:i}=e.options;iF(i,"invalid-api-key",{appName:e.name}),iF(i,"invalid-api-key",{appName:e.name});let n="undefined"!=typeof window?aO:void 0;this._delegate=t.initialize({options:{persistence:function(e,t){let i=function(e,t){let i=aA();if(!i)return[];let n=nc(aP,e,t),r=i.getItem(n);switch(r){case aN.NONE:return[nl];case aN.LOCAL:return[ss,rZ];case aN.SESSION:return[rZ];default:return[]}}(e,t);if("undefined"==typeof self||i.includes(ss)||i.push(ss),"undefined"!=typeof window)for(let e of[rJ,rZ])i.includes(e)||i.push(e);return i.includes(nl)||i.push(nl),i}(i,e.name),popupRedirectResolver:n}}),this._delegate._updateErrorMap(iE),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?az.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,i){let n=tC(e);iF(n._canInitEmulator,n,"emulator-config-failed"),iF(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!(null==i?void 0:i.disableWarnings),s=nL(t),{host:a,port:o}=function(e){let t=nL(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let e=r[1];return{host:e,port:nM(n.substr(e.length+1))}}{let[e,t]=n.split(":");return{host:e,port:nM(t)}}}(t),l=null===o?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return rS(this._delegate,e)}checkActionCode(e){return rE(this._delegate,e)}confirmPasswordReset(e,t){return rI(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return aM(this._delegate,rP(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return rL(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){let i=n6.parseLink(t);return(null==i?void 0:i.operation)==="EMAIL_SIGNIN"}(this._delegate,e)}async getRedirectResult(){iF(aI(),this._delegate,"operation-not-supported-in-this-environment");let e=await sq(this._delegate,aO);return e?aM(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){tC(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,i){let{next:n,error:r,complete:s}=aU(e,t,i);return this._delegate.onAuthStateChanged(n,r,s)}onIdTokenChanged(e,t,i){let{next:n,error:r,complete:s}=aU(e,t,i);return this._delegate.onIdTokenChanged(n,r,s)}sendSignInLinkToEmail(e,t){return rR(this._delegate,e,t)}sendPasswordResetEmail(e,t){return rT(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(!function(e,t){if(iF(Object.values(aN).includes(t),e,"invalid-persistence-type"),e6()){iF(t!==aN.SESSION,e,"unsupported-persistence-type");return}if(e1()){iF(t===aN.NONE,e,"unsupported-persistence-type");return}if(aT()){iF(t===aN.NONE||t===aN.LOCAL&&e4(),e,"unsupported-persistence-type");return}iF(t===aN.NONE||aC(),e,"unsupported-persistence-type")}(this._delegate,e),e){case aN.SESSION:t=rZ;break;case aN.LOCAL:let i=await no(ss)._isAvailable();t=i?ss:rJ;break;case aN.NONE:t=nl;break;default:return iA("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return aM(this._delegate,ro(this._delegate))}signInWithCredential(e){return aM(this._delegate,rg(this._delegate,e))}signInWithCustomToken(e){return aM(this._delegate,rw(this._delegate,e))}signInWithEmailAndPassword(e,t){return aM(this._delegate,rg(tC(this._delegate),n5.credential(e,t)))}signInWithEmailLink(e,t){return aM(this._delegate,rA(this._delegate,e,t))}signInWithPhoneNumber(e,t){return aD(this._delegate,sg(this._delegate,e,t))}async signInWithPopup(e){return iF(aI(),this._delegate,"operation-not-supported-in-this-environment"),aM(this._delegate,sN(this._delegate,e,aO))}async signInWithRedirect(e){return iF(aI(),this._delegate,"operation-not-supported-in-this-environment"),await aR(this._delegate),sU(this._delegate,e,aO)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return rN(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function aU(e,t,i){let n=e;"function"!=typeof e&&({next:n,error:t,complete:i}=e);let r=n;return{next:e=>r(e&&az.getOrCreate(e)),error:t,complete:i}}aW.Persistence=aN;class aB{constructor(){this.providerId="phone",this._delegate=new sb(ik.auth().unwrap())}static credential(e,t){return sb.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}aB.PHONE_SIGN_IN_METHOD=sb.PHONE_SIGN_IN_METHOD,aB.PROVIDER_ID=sb.PROVIDER_ID;class aj{constructor(e,t,i=ik.app()){var n;iF(null===(n=i.options)||void 0===n?void 0:n.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new sf(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new tT("auth-compat",e=>{let t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new aW(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:n5,FacebookAuthProvider:n9,GithubAuthProvider:re,GoogleAuthProvider:n7,OAuthProvider:n8,SAMLAuthProvider:ri,PhoneAuthProvider:aB,PhoneMultiFactorGenerator:ar,RecaptchaVerifier:aj,TwitterAuthProvider:rn,Auth:aW,AuthCredential:nD,Error:e8}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.3")}(ik);const aq="@firebase/database",aH="1.0.0";let aV="";class aG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:te(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class a${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const aX=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new aG(t)}}catch(e){}return new a$},aK=aX("localStorage"),aY=aX("sessionStorage"),aQ=new tM("@firebase/database"),aJ=function(){let e=1;return function(){return e++}}(),aZ=function(e){let t=tx(e),i=new tf;i.update(t);let n=i.digest();return eB.encodeByteArray(n)},a0=function(...e){let t="";for(let i=0;i<e.length;i++){let n=e[i];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=a0.apply(null,n):"object"==typeof n?t+=tt(n):t+=n,t+=" "}return t};let a1=null,a2=!0;const a6=function(e,t){eF(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(aQ.logLevel=w.VERBOSE,a1=aQ.log.bind(aQ),t&&aY.set("logging_enabled",!0)):"function"==typeof e?a1=e:(a1=null,aY.remove("logging_enabled"))},a5=function(...e){if(!0===a2&&(a2=!1,null===a1&&!0===aY.get("logging_enabled")&&a6(!0)),a1){let t=a0.apply(null,e);a1(t)}},a3=function(e){return function(...t){a5(e,...t)}},a4=function(...e){let t="FIREBASE INTERNAL ERROR: "+a0(...e);aQ.error(t)},a8=function(...e){let t=`FIREBASE FATAL ERROR: ${a0(...e)}`;throw aQ.error(t),Error(t)},a9=function(...e){let t="FIREBASE WARNING: "+a0(...e);aQ.warn(t)},a7=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&a9("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},oe=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ot=function(e){if(e3()||"complete"===document.readyState)e();else{let t=!1,i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&i()}),window.attachEvent("onload",i))}},oi="[MIN_NAME]",on="[MAX_NAME]",or=function(e,t){if(e===t)return 0;{if(e===oi||t===on)return -1;if(t===oi||e===on)return 1;let i=oh(e),n=oh(t);return null!==i?null!==n?i-n==0?e.length-t.length:i-n:-1:null!==n?1:e<t?-1:1}},os=function(e,t){return e===t?0:e<t?-1:1},oa=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+tt(t))},oo=function(e){if("object"!=typeof e||null===e)return tt(e);let t=[];for(let i in e)t.push(i);t.sort();let i="{";for(let n=0;n<t.length;n++)0!==n&&(i+=","),i+=tt(t[n])+":"+oo(e[t[n]]);return i+"}"},ol=function(e,t){let i=e.length;if(i<=t)return[e];let n=[];for(let r=0;r<i;r+=t)r+t>i?n.push(e.substring(r,i)):n.push(e.substring(r,r+t));return n};function oc(e,t){for(let i in e)e.hasOwnProperty(i)&&t(i,e[i])}const od=function(e){let t,i,n,r,s;eF(!oe(e),"Invalid JSON number"),0===e?(i=0,n=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(i=(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,n=Math.round(e*Math.pow(2,52-r)-4503599627370496)):(i=0,n=Math.round(e/5e-324)));let a=[];for(s=52;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);for(s=11;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);a.push(t?1:0),a.reverse();let o=a.join(""),l="";for(s=0;s<64;s+=8){let e=parseInt(o.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},ou=RegExp("^-?(0*)\\d{1,10}$"),oh=function(e){if(ou.test(e)){let t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},op=function(e){try{e()}catch(e){setTimeout(()=>{let t=e.stack||"";throw a9("Exception was thrown by user callback.",t),e},Math.floor(0))}},of=function(){let e="object"==typeof window&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},om=function(e,t){let i=setTimeout(e,t);return"number"==typeof i&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(i):"object"==typeof i&&i.unref&&i.unref(),i};class og{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){a9(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ov{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(a5("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',a9(e)}}class oy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}oy.OWNER="owner";const o_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ow="websocket",ob="long_polling";class ox{constructor(e,t,i,n,r=!1,s="",a=!1,o=!1){this.secure=t,this.namespace=i,this.webSocketOnly=n,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=aK.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&aK.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function ok(e,t,i){let n;if(eF("string"==typeof t,"typeof type must == string"),eF("object"==typeof i,"typeof params must == object"),t===ow)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===ob)n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(i.ns=e.namespace);let r=[];return oc(i,(e,t)=>{r.push(e+"="+t)}),n+r.join("&")}class oC{constructor(){this.counters_={}}incrementCounter(e,t=1){ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return eG(void 0,this.counters_)}}const oT={},oI={};function oS(e){let t=e.toString();return oT[t]||(oT[t]=new oC),oT[t]}class oE{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&op(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const oN="start";class oP{constructor(e,t,i,n,r,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=n,this.authToken=r,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=a3(e),this.stats_=oS(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),ok(t,ob,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new oE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),ot(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oR((...e)=>{let[t,i,n,r,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder){if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===oN)this.id=i,this.password=n;else if("close"===t)i?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(i,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+t)}},(...e)=>{let[t,i]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,i)},()=>{this.onClosed_()},this.urlFn);let e={};e[oN]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&o_.test(location.hostname)&&(e.r="f");let t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oP.forceAllow_=!0}static forceDisallow(){oP.forceDisallow_=!0}static isAvailable(){return!e3()&&(!!oP.forceAllow_||!oP.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=tt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=eq(t),n=ol(i,1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(e3())return;this.myDisconnFrame=document.createElement("iframe");let i={};i.dframe="t",i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=tt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class oR{constructor(e,t,i,n){if(this.onDisconnect=i,this.urlFn=n,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,e3())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=aJ(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=oR.createIFrame_();let i="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){let e=document.domain;i='<script>document.domain="'+e+'";</script>'}let n="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(n),this.myIFrame.doc.close()}catch(e){a5("frame writing exception"),e.stack&&a5(e.stack),a5(e)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{let t=e.contentWindow.document;t||a5("No IE domain setting required")}catch(i){let t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",n=0;for(;this.pendingSegs.length>0;){let e=this.pendingSegs[0];if(e.d.length+30+i.length<=1870){let e=this.pendingSegs.shift();i=i+"&seg"+n+"="+e.seg+"&ts"+n+"="+e.ts+"&d"+n+"="+e.d,n++}else break}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},n=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(n),i()})}addTag(e,t){e3()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{a5("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(e){}},Math.floor(1))}}let oA=null;"undefined"!=typeof MozWebSocket?oA=MozWebSocket:"undefined"!=typeof WebSocket&&(oA=WebSocket);class oO{constructor(e,t,i,n,r,s,a){this.connId=e,this.applicationId=i,this.appCheckToken=n,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=a3(this.connId),this.stats_=oS(t),this.connURL=oO.connectionURL_(t,s,a,n,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,n,r){let s={};return s.v="5",!e3()&&"undefined"!=typeof location&&location.hostname&&o_.test(location.hostname)&&(s.r="f"),t&&(s.s=t),i&&(s.ls=i),n&&(s.ac=n),r&&(s.p=r),ok(e,ow,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,aK.set("previous_websocket_failure",!0);try{let e;if(e3()){let t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${aV}/${eC.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);let i={},n=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;n&&(e.proxy={origin:n})}this.mySock=new oA(this.connURL,[],e)}catch(t){this.log_("Error instantiating WebSocket.");let e=t.message||t.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){oO.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==oA&&!oO.forceDisallow_}static previouslyFailed(){return aK.isInMemoryStorage||!0===aK.get("previous_websocket_failure")}markConnectionHealthy(){aK.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join("");this.frames=null;let t=te(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(eF(null===this.frames,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=tt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=ol(t,16384);i.length>1&&this.sendString_(String(i.length));for(let e=0;e<i.length;e++)this.sendString_(i[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}oO.responsesRequiredToBeHealthy=2,oO.healthyTimeout=3e4;class oL{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[oP,oO]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){let t=oO&&oO.isAvailable(),i=t&&!oO.previouslyFailed();if(e.webSocketOnly&&(t||a9("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[oO];else{let e=this.transports_=[];for(let t of oL.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);oL.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}oL.globalTransportInitialized_=!1;class oM{constructor(e,t,i,n,r,s,a,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=n,this.authToken_=r,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=a3("c:"+this.id+":"),this.transportManager_=new oL(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));let n=e.healthyTimeout||0;n>0&&(this.healthyTimeout_=om(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(n)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){let t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=oa("t",e),i=oa("d",e);if("c"===t)this.onSecondaryControl_(i);else if("d"===t)this.pendingDataMessages.push(i);else throw Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=oa("t",e),i=oa("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=oa("t",e);if("d"in e){let i=e.d;if("h"===t){let e=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?a4("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):a4("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,i=e.v,n=e.h;this.sessionId=e.s,this.repoInfo_.host=n,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&a9("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),om(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):om(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(aK.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class oD{put(e,t,i,n){}merge(e,t,i,n){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class oF{constructor(e){this.allowedEvents_=e,this.listeners_={},eF(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});let n=this.getInitialEvent(e);n&&t.apply(i,n)}off(e,t,i){this.validateEventType_(e);let n=this.listeners_[e]||[];for(let e=0;e<n.length;e++)if(n[e].callback===t&&(!i||i===n[e].context)){n.splice(e,1);return}}validateEventType_(e){eF(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class oz extends oF{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||e0()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oz}getInitialEvent(e){return eF("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class oW{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function oU(){return new oW("")}function oB(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function oj(e){return e.pieces_.length-e.pieceNum_}function oq(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new oW(e.pieces_,t)}function oH(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function oV(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function oG(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let i=e.pieceNum_;i<e.pieces_.length-1;i++)t.push(e.pieces_[i]);return new oW(t,0)}function o$(e,t){let i=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)i.push(e.pieces_[t]);if(t instanceof oW)for(let e=t.pieceNum_;e<t.pieces_.length;e++)i.push(t.pieces_[e]);else{let e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&i.push(e[t])}return new oW(i,0)}function oX(e){return e.pieceNum_>=e.pieces_.length}function oK(e,t){let i=oB(e),n=oB(t);if(null===i)return t;if(i===n)return oK(oq(e),oq(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function oY(e,t){let i=oV(e,0),n=oV(t,0);for(let e=0;e<i.length&&e<n.length;e++){let t=or(i[e],n[e]);if(0!==t)return t}return i.length===n.length?0:i.length<n.length?-1:1}function oQ(e,t){if(oj(e)!==oj(t))return!1;for(let i=e.pieceNum_,n=t.pieceNum_;i<=e.pieces_.length;i++,n++)if(e.pieces_[i]!==t.pieces_[n])return!1;return!0}function oJ(e,t){let i=e.pieceNum_,n=t.pieceNum_;if(oj(e)>oj(t))return!1;for(;i<e.pieces_.length;){if(e.pieces_[i]!==t.pieces_[n])return!1;++i,++n}return!0}class oZ{constructor(e,t){this.errorPrefix_=t,this.parts_=oV(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=tk(this.parts_[e]);o0(this)}}function o0(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+o1(e))}function o1(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class o2 extends oF{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new o2}getInitialEvent(e){return eF("visible"===e,"Unknown event type: "+e),[this.visible_]}}class o6 extends oD{constructor(e,t,i,n,r,s,a,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=n,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=o,this.id=o6.nextPersistentConnectionId_++,this.log_=a3("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!e3())throw Error("Auth override specified in options, but not supported on non Node.js platforms");o2.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&oz.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){let n=++this.requestNumber_,r={r:n,a:e,b:t};this.log_(tt(r)),eF(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[n]=i)}get(e){this.initConnection_();let t=new eJ,i={p:e._path.toString(),q:e._queryObject};this.outstandingGets_.push({action:"g",request:i,onComplete:e=>{let i=e.d;"ok"===e.s?t.resolve(i):t.reject(i)}}),this.outstandingGetCount_++;let n=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(n),t.promise}listen(e,t,i,n){this.initConnection_();let r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),eF(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),eF(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");let a={onComplete:n,hashFn:t,query:e,tag:i};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){let t=e.query,i=t._path.toString(),n=t._queryIdentifier;this.log_("Listen on "+i+" for "+n);let r={p:i};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,r=>{let s=r.d,a=r.s;o6.warnOnListenWarnings_(s,t);let o=this.listens.get(i)&&this.listens.get(i).get(n);o===e&&(this.log_("listen response",r),"ok"!==a&&this.removeListen_(i,n),e.onComplete&&e.onComplete(a,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&ts(e,"w")){let i=ta(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();a9(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){let t=e&&40===e.length;(t||tr(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=tn(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(t,i,t=>{let i=t.s,n=t.d||"error";this.authToken_===e&&("ok"===i?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,n))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,i=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){let i=e._path.toString(),n=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+n),eF(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");let r=this.removeListen_(i,n);r&&this.connected_&&this.sendUnlisten_(i,n,e._queryObject,t)}sendUnlisten_(e,t,i,n){this.log_("Unlisten on "+e+" for "+t);let r={p:e};n&&(r.q=i,r.t=n),this.sendRequest("n",r)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,n){let r={p:t,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,e=>{n&&setTimeout(()=>{n(e.s,e.d)},Math.floor(0))})}put(e,t,i,n){this.putInternal("p",e,t,i,n)}merge(e,t,i,n){this.putInternal("m",e,t,i,n)}putInternal(e,t,i,n,r){this.initConnection_();let s={p:t,d:i};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:n}),this.outstandingPutCount_++;let a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,n=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,i=>{this.log_(t+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),n&&n(i.s,i.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{let t=e.s;if("ok"!==t){let t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tt(e));let t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):a4("Unrecognized action received from server: "+tt(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){eF(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){!e||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){let e=new Date().getTime()-this.lastConnectionEstablishedTime_;e>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();let e=new Date().getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),n=this.id+":"+o6.nextConnectionId_++,r=this.lastSessionId,s=!1,a=null,o=function(){a?a.close():(s=!0,i())};this.realtime_={close:o,sendRequest:function(e){eF(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)}};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[o,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);s?a5("getToken() completed but was canceled"):(a5("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=c&&c.token,a=new oM(n,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,e=>{a9(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},r))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&a9(e),o())}}}interrupt(e){a5("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){a5("Resuming connection for reason: "+e),delete this.interruptReasons_[e],to(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;i=t?t.map(e=>oo(e)).join("$"):"default";let n=this.removeListen_(e,i);n&&n.onComplete&&n.onComplete("permission_denied")}removeListen_(e,t){let i;let n=new oW(e).toString();if(this.listens.has(n)){let e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){a5("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){a5("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let e of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";e3()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+aV.replace(/\./g,"-")]=1,e0()?e["framework.cordova"]=1:e6()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=oz.getInstance().currentlyOnline();return to(this.interruptReasons_)&&e}}o6.nextPersistentConnectionId_=0,o6.nextConnectionId_=0;class o5{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new o5(e,t)}}class o3{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let i=new o5(oi,e),n=new o5(oi,t);return 0!==this.compare(i,n)}minPost(){return o5.MIN}}class o4 extends o3{static get __EMPTY_NODE(){return s}static set __EMPTY_NODE(e){s=e}compare(e,t){return or(e.name,t.name)}isDefinedOn(e){throw ez("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return o5.MIN}maxPost(){return new o5(on,s)}makePost(e,t){return eF("string"==typeof e,"KeyIndex indexValue must always be a string."),new o5(e,s)}toString(){return".key"}}const o8=new o4;class o9{constructor(e,t,i,n,r=null){this.isReverse_=n,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,n&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else if(0===s){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){let e;if(0===this.nodeStack_.length)return null;let t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class o7{constructor(e,t,i,n,r){this.key=e,this.value=t,this.color=null!=i?i:o7.RED,this.left=null!=n?n:le.EMPTY_NODE,this.right=null!=r?r:le.EMPTY_NODE}copy(e,t,i,n,r){return new o7(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let n=this,r=i(e,n.key);return(n=r<0?n.copy(null,null,null,n.left.insert(e,t,i),null):0===r?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,i))).fixUp_()}removeMin_(){if(this.left.isEmpty())return le.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let i,n;if(i=this,0>t(e,i.key))i.left.isEmpty()||i.left.isRed_()||i.left.left.isRed_()||(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),i.right.isEmpty()||i.right.isRed_()||i.right.left.isRed_()||(i=i.moveRedRight_()),0===t(e,i.key)){if(i.right.isEmpty())return le.EMPTY_NODE;n=i.right.min_(),i=i.copy(n.key,n.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,o7.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,o7.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e===this.right.check_())return e+(this.isRed_()?0:1);throw Error("Black depths differ")}}o7.RED=!0,o7.BLACK=!1;class le{constructor(e,t=le.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new le(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,o7.BLACK,null,null))}remove(e){return new le(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,o7.BLACK,null,null))}get(e){let t;let i=this.root_;for(;!i.isEmpty();){if(0===(t=this.comparator_(e,i.key)))return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,n=null;for(;!i.isEmpty();){if(0===(t=this.comparator_(e,i.key))){if(i.left.isEmpty()){if(n)return n.key;return null}for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(n=i,i=i.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new o9(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new o9(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new o9(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new o9(this.root_,null,this.comparator_,!0,e)}}function lt(e,t){return or(e.name,t.name)}function li(e,t){return or(e,t)}le.EMPTY_NODE=new class{copy(e,t,i,n,r){return this}insert(e,t,i){return new o7(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ln=function(e){return"number"==typeof e?"number:"+od(e):"string:"+e},lr=function(e){if(e.isLeafNode()){let t=e.val();eF("string"==typeof t||"number"==typeof t||"object"==typeof t&&ts(t,".sv"),"Priority must be a string or number.")}else eF(e===a||e.isEmpty(),"priority of unexpected type.");eF(e===a||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class ls{constructor(e,t=ls.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,eF(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),lr(this.priorityNode_)}static set __childrenNodeConstructor(e){o=e}static get __childrenNodeConstructor(){return o}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ls(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:ls.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return oX(e)?this:".priority"===oB(e)?this.priorityNode_:ls.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:ls.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let i=oB(e);return null===i?t:t.isEmpty()&&".priority"!==i?this:(eF(".priority"!==i||1===oj(e),".priority must be the last token in a path"),this.updateImmediateChild(i,ls.__childrenNodeConstructor.EMPTY_NODE.updateChild(oq(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ln(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":","number"===t?e+=od(this.value_):e+=this.value_,this.lazyHash_=aZ(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ls.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ls.__childrenNodeConstructor?-1:(eF(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,i=typeof this.value_,n=ls.VALUE_TYPE_ORDER.indexOf(t),r=ls.VALUE_TYPE_ORDER.indexOf(i);return(eF(n>=0,"Unknown leaf type: "+t),eF(r>=0,"Unknown leaf type: "+i),n!==r)?r-n:"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}ls.VALUE_TYPE_ORDER=["object","boolean","number","string"];const la=new class extends o3{compare(e,t){let i=e.node.getPriority(),n=t.node.getPriority(),r=i.compareTo(n);return 0===r?or(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return o5.MIN}maxPost(){return new o5(on,new ls("[PRIORITY-POST]",c))}makePost(e,t){let i=l(e);return new o5(t,new ls("[PRIORITY-POST]",i))}toString(){return".priority"}},lo=Math.log(2);class ll{constructor(e){this.count=parseInt(Math.log(e+1)/lo,10),this.current_=this.count-1;let t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lc=function(e,t,i,n){e.sort(t);let r=function(t,n){let s,a;let o=n-t;if(0===o)return null;if(1===o)return s=e[t],a=i?i(s):s,new o7(a,s.node,o7.BLACK,null,null);{let l=parseInt(o/2,10)+t,c=r(t,l),d=r(l+1,n);return s=e[l],a=i?i(s):s,new o7(a,s.node,o7.BLACK,c,d)}},s=new ll(e.length),a=function(t){let n=null,s=null,a=e.length,o=function(t,n){let s=a-t,o=a;a-=t;let c=r(s+1,o),d=e[s],u=i?i(d):d;l(new o7(u,d.node,n,null,c))},l=function(e){n?n.left=e:s=e,n=e};for(let e=0;e<t.count;++e){let i=t.nextBitIsOne(),n=Math.pow(2,t.count-(e+1));i?o(n,o7.BLACK):(o(n,o7.BLACK),o(n,o7.RED))}return s}(s);return new le(n||t,a)},ld={};class lu{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return eF(ld&&la,"ChildrenNode.ts has not been loaded"),d=d||new lu({".priority":ld},{".priority":la})}get(e){let t=ta(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof le?t:null}hasIndex(e){return ts(this.indexSet_,e.toString())}addIndex(e,t){let i;eF(e!==o8,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let n=[],r=!1,s=t.getIterator(o5.Wrap),a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=s.getNext();i=r?lc(n,e.getCompare()):ld;let o=e.toString(),l=Object.assign({},this.indexSet_);l[o]=e;let c=Object.assign({},this.indexes_);return c[o]=i,new lu(c,l)}addToIndexes(e,t){let i=tl(this.indexes_,(i,n)=>{let r=ta(this.indexSet_,n);if(eF(r,"Missing index implementation for "+n),i===ld){if(!r.isDefinedOn(e.node))return ld;{let i=[],n=t.getIterator(o5.Wrap),s=n.getNext();for(;s;)s.name!==e.name&&i.push(s),s=n.getNext();return i.push(e),lc(i,r.getCompare())}}{let n=t.get(e.name),r=i;return n&&(r=r.remove(new o5(e.name,n))),r.insert(e,e.node)}});return new lu(i,this.indexSet_)}removeFromIndexes(e,t){let i=tl(this.indexes_,i=>{if(i===ld)return i;{let n=t.get(e.name);return n?i.remove(new o5(e.name,n)):i}});return new lu(i,this.indexSet_)}}class lh{constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&lr(this.priorityNode_),this.children_.isEmpty()&&eF(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return u||(u=new lh(new le(li),null,lu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||u}updatePriority(e){return this.children_.isEmpty()?this:new lh(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{let t=this.children_.get(e);return null===t?u:t}}getChild(e){let t=oB(e);return null===t?this:this.getImmediateChild(t).getChild(oq(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(eF(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{let i,n;let r=new o5(e,t);t.isEmpty()?(i=this.children_.remove(e),n=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),n=this.indexMap_.addToIndexes(r,this.children_));let s=i.isEmpty()?u:this.priorityNode_;return new lh(i,s,n)}}updateChild(e,t){let i=oB(e);if(null===i)return t;{eF(".priority"!==oB(e)||1===oj(e),".priority must be the last token in a path");let n=this.getImmediateChild(i).updateChild(oq(e),t);return this.updateImmediateChild(i,n)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},i=0,n=0,r=!0;if(this.forEachChild(la,(s,a)=>{t[s]=a.val(e),i++,r&&lh.INTEGER_REGEXP_.test(s)?n=Math.max(n,Number(s)):r=!1}),e||!r||!(n<2*i))return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t;{let e=[];for(let i in t)e[i]=t[i];return e}}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ln(this.getPriority().val())+":"),this.forEachChild(la,(t,i)=>{let n=i.hash();""!==n&&(e+=":"+t+":"+n)}),this.lazyHash_=""===e?"":aZ(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){let n=this.resolveIndex_(i);if(!n)return this.children_.getPredecessorKey(e);{let i=n.getPredecessorKey(new o5(e,t));return i?i.name:null}}getFirstChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.minKey();{let e=t.minKey();return e&&e.name}}getFirstChild(e){let t=this.getFirstChildName(e);return t?new o5(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();{let e=t.maxKey();return e&&e.name}}getLastChild(e){let t=this.getLastChildName(e);return t?new o5(t,this.children_.get(t)):null}forEachChild(e,t){let i=this.resolveIndex_(e);return i?i.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,e=>e);{let i=this.children_.getIteratorFrom(e.name,o5.Wrap),n=i.peek();for(;null!=n&&0>t.compare(n,e);)i.getNext(),n=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,e=>e);{let i=this.children_.getReverseIteratorFrom(e.name,o5.Wrap),n=i.peek();for(;null!=n&&t.compare(n,e)>0;)i.getNext(),n=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lp?-1:0}withIndex(e){if(e===o8||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new lh(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===o8||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority())||this.children_.count()!==e.children_.count())return!1;{let t=this.getIterator(la),i=e.getIterator(la),n=t.getNext(),r=i.getNext();for(;n&&r;){if(n.name!==r.name||!n.node.equals(r.node))return!1;n=t.getNext(),r=i.getNext()}return null===n&&null===r}}resolveIndex_(e){return e===o8?null:this.indexMap_.get(e.toString())}}lh.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const lp=new class extends lh{constructor(){super(new le(li),lh.EMPTY_NODE,lu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return lh.EMPTY_NODE}isEmpty(){return!1}};function lf(e,t=null){if(null===e)return lh.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),eF(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){let i=e;return new ls(i,lf(t))}if(e instanceof Array){let i=lh.EMPTY_NODE;return oc(e,(t,n)=>{if(ts(e,t)&&"."!==t.substring(0,1)){let e=lf(n);(e.isLeafNode()||!e.isEmpty())&&(i=i.updateImmediateChild(t,e))}}),i.updatePriority(lf(t))}{let i=[],n=!1,r=e;if(oc(r,(e,t)=>{if("."!==e.substring(0,1)){let r=lf(t);r.isEmpty()||(n=n||!r.getPriority().isEmpty(),i.push(new o5(e,r)))}}),0===i.length)return lh.EMPTY_NODE;let s=lc(i,lt,e=>e.name,li);if(!n)return new lh(s,lf(t),lu.Default);{let e=lc(i,la.getCompare());return new lh(s,lf(t),new lu({".priority":e},{".priority":la}))}}}Object.defineProperties(o5,{MIN:{value:new o5(oi,lh.EMPTY_NODE)},MAX:{value:new o5(on,lp)}}),o4.__EMPTY_NODE=lh.EMPTY_NODE,ls.__childrenNodeConstructor=lh,a=lp,c=lp,l=lf;class lm extends o3{constructor(e){super(),this.indexPath_=e,eF(!oX(e)&&".priority"!==oB(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let i=this.extractChild(e.node),n=this.extractChild(t.node),r=i.compareTo(n);return 0===r?or(e.name,t.name):r}makePost(e,t){let i=lf(e),n=lh.EMPTY_NODE.updateChild(this.indexPath_,i);return new o5(t,n)}maxPost(){let e=lh.EMPTY_NODE.updateChild(this.indexPath_,lp);return new o5(on,e)}toString(){return oV(this.indexPath_,0).join("/")}}const lg=new class extends o3{compare(e,t){let i=e.node.compareTo(t.node);return 0===i?or(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return o5.MIN}maxPost(){return o5.MAX}makePost(e,t){let i=lf(e);return new o5(t,i)}toString(){return".value"}};function lv(e){return{type:"value",snapshotNode:e}}function ly(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function l_(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function lw(e,t,i){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:i}}class lb{constructor(e){this.index_=e}updateChild(e,t,i,n,r,s){eF(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(n).equals(i.getChild(n))&&a.isEmpty()===i.isEmpty()?e:(null!=s&&(i.isEmpty()?e.hasChild(t)?s.trackChildChange(l_(t,a)):eF(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ly(t,i)):s.trackChildChange(lw(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null==i||(e.isLeafNode()||e.forEachChild(la,(e,n)=>{t.hasChild(e)||i.trackChildChange(l_(e,n))}),t.isLeafNode()||t.forEachChild(la,(t,n)=>{if(e.hasChild(t)){let r=e.getImmediateChild(t);r.equals(n)||i.trackChildChange(lw(t,n,r))}else i.trackChildChange(ly(t,n))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?lh.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class lx{constructor(e){this.indexedFilter_=new lb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lx.getStartPost_(e),this.endPost_=lx.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),e):0>this.index_.compare(this.getStartPost(),e),i=this.endIsInclusive_?0>=this.index_.compare(e,this.getEndPost()):0>this.index_.compare(e,this.getEndPost());return t&&i}updateChild(e,t,i,n,r,s){return this.matches(new o5(t,i))||(i=lh.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,n,r,s)}updateFullNode(e,t,i){t.isLeafNode()&&(t=lh.EMPTY_NODE);let n=t.withIndex(this.index_);n=n.updatePriority(lh.EMPTY_NODE);let r=this;return t.forEachChild(la,(e,t)=>{r.matches(new o5(e,t))||(n=n.updateImmediateChild(e,lh.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,n,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(!e.hasStart())return e.getIndex().minPost();{let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}}static getEndPost_(e){if(!e.hasEnd())return e.getIndex().maxPost();{let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}}}class lk{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new lx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,n,r,s){return(this.rangedFilter_.matches(new o5(t,i))||(i=lh.EMPTY_NODE),e.getImmediateChild(t).equals(i))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,n,r,s):this.fullLimitUpdateChild_(e,t,i,r,s)}updateFullNode(e,t,i){let n;if(t.isLeafNode()||t.isEmpty())n=lh.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;n=lh.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let i=0;for(;e.hasNext()&&i<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t)){if(this.withinDirectionalEnd(t))n=n.updateImmediateChild(t.name,t.node),i++;else break}}}else{let e;n=(n=t.withIndex(this.index_)).updatePriority(lh.EMPTY_NODE),e=this.reverse_?n.getReverseIterator(this.index_):n.getIterator(this.index_);let i=0;for(;e.hasNext();){let t=e.getNext(),r=i<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t);r?i++:n=n.updateImmediateChild(t.name,lh.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,n,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,n,r){let s;if(this.reverse_){let e=this.index_.getCompare();s=(t,i)=>e(i,t)}else s=this.index_.getCompare();eF(e.numChildren()===this.limit_,"");let a=new o5(t,i),o=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),l=this.rangedFilter_.matches(a);if(e.hasChild(t)){let c=e.getImmediateChild(t),d=n.getChildAfterChild(this.index_,o,this.reverse_);for(;null!=d&&(d.name===t||e.hasChild(d.name));)d=n.getChildAfterChild(this.index_,d,this.reverse_);let u=null==d?1:s(d,a),h=l&&!i.isEmpty()&&u>=0;if(h)return null!=r&&r.trackChildChange(lw(t,i,c)),e.updateImmediateChild(t,i);{null!=r&&r.trackChildChange(l_(t,c));let i=e.updateImmediateChild(t,lh.EMPTY_NODE),n=null!=d&&this.rangedFilter_.matches(d);return n?(null!=r&&r.trackChildChange(ly(d.name,d.node)),i.updateImmediateChild(d.name,d.node)):i}}return i.isEmpty()?e:l&&s(o,a)>=0?(null!=r&&(r.trackChildChange(l_(o.name,o.node)),r.trackChildChange(ly(t,i))),e.updateImmediateChild(t,i).updateImmediateChild(o.name,lh.EMPTY_NODE)):e}}class lC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=la}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return eF(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(eF(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:oi}hasEnd(){return this.endSet_}getIndexEndValue(){return eF(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(eF(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:on}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return eF(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===la}copy(){let e=new lC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lT(e,t,i){let n=e.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=i?(n.startNameSet_=!0,n.indexStartName_=i):(n.startNameSet_=!1,n.indexStartName_=""),n}function lI(e,t,i){let n=e.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==i?(n.endNameSet_=!0,n.indexEndName_=i):(n.endNameSet_=!1,n.indexEndName_=""),n}function lS(e,t){let i=e.copy();return i.index_=t,i}function lE(e){let t;let i={};if(e.isDefault())return i;if(e.index_===la?t="$priority":e.index_===lg?t="$value":e.index_===o8?t="$key":(eF(e.index_ instanceof lm,"Unrecognized index type!"),t=e.index_.toString()),i.orderBy=tt(t),e.startSet_){let t=e.startAfterSet_?"startAfter":"startAt";i[t]=tt(e.indexStartValue_),e.startNameSet_&&(i[t]+=","+tt(e.indexStartName_))}if(e.endSet_){let t=e.endBeforeSet_?"endBefore":"endAt";i[t]=tt(e.indexEndValue_),e.endNameSet_&&(i[t]+=","+tt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?i.limitToFirst=e.limit_:i.limitToLast=e.limit_),i}function lN(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let i=e.viewFrom_;""===i&&(i=e.isViewFromLeft()?"l":"r"),t.vf=i}return e.index_!==la&&(t.i=e.index_.toString()),t}class lP extends oD{constructor(e,t,i,n){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=n,this.log_=a3("p:rest:"),this.listens_={}}reportStats(e){throw Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(eF(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,n){let r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);let s=lP.getListenId_(e,i),a={};this.listens_[s]=a;let o=lE(e._queryParams);this.restRequest_(r+".json",o,(e,t)=>{let o=t;404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(r,o,!1,i),ta(this.listens_,s)===a&&n(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}unlisten(e,t){let i=lP.getListenId_(e,t);delete this.listens_[i]}get(e){let t=lE(e._queryParams),i=e._path.toString(),n=new eJ;return this.restRequest_(i+".json",t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(i,r,!1,null),n.resolve(r)):n.reject(Error(r))}),n.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([n,r])=>{n&&n.accessToken&&(t.auth=n.accessToken),r&&r.token&&(t.ac=r.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tu(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=te(a.responseText)}catch(e){a9("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,e)}else 401!==a.status&&404!==a.status&&a9("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class lR{constructor(){this.rootNode_=lh.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function lA(){return{value:null,children:new Map}}function lO(e,t,i){if(oX(t))e.value=i,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,i);else{let n=oB(t);e.children.has(n)||e.children.set(n,lA());let r=e.children.get(n);lO(r,t=oq(t),i)}}function lL(e,t,i){null!==e.value?i(t,e.value):function(e,t){e.children.forEach((e,i)=>{t(i,e)})}(e,(e,n)=>{let r=new oW(t.toString()+"/"+e);lL(n,r,i)})}class lM{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&oc(this.last_,(e,i)=>{t[e]=t[e]-i}),this.last_=e,t}}class lD{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new lM(e),om(this.reportStats_.bind(this),Math.floor(1e4+2e4*Math.random()))}reportStats_(){let e=this.statsListener_.get(),t={},i=!1;oc(e,(e,n)=>{n>0&&ts(this.statsToReport_,e)&&(t[e]=n,i=!0)}),i&&this.server_.reportStats(t),om(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function lF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lz(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lW(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(b||(b={}));class lU{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=b.ACK_USER_WRITE,this.source=lF()}operationForChild(e){if(!oX(this.path))return eF(oB(this.path)===e,"operationForChild called for unrelated child."),new lU(oq(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return eF(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new oW(e));return new lU(oU(),t,this.revert)}}}class lB{constructor(e,t){this.source=e,this.path=t,this.type=b.LISTEN_COMPLETE}operationForChild(e){return oX(this.path)?new lB(this.source,oU()):new lB(this.source,oq(this.path))}}class lj{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=b.OVERWRITE}operationForChild(e){return oX(this.path)?new lj(this.source,oU(),this.snap.getImmediateChild(e)):new lj(this.source,oq(this.path),this.snap)}}class lq{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=b.MERGE}operationForChild(e){if(!oX(this.path))return eF(oB(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lq(this.source,oq(this.path),this.children);{let t=this.children.subtree(new oW(e));return t.isEmpty()?null:t.value?new lj(this.source,oU(),t.value):new lq(this.source,oU(),t)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class lH{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(oX(e))return this.isFullyInitialized()&&!this.filtered_;let t=oB(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class lV{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lG(e,t,i,n,r,s){let a=n.filter(e=>e.type===i);a.sort((t,i)=>(function(e,t,i){if(null==t.childName||null==i.childName)throw ez("Should only compare child_ events.");let n=new o5(t.childName,t.snapshotNode),r=new o5(i.childName,i.snapshotNode);return e.index_.compare(n,r)})(e,t,i)),a.forEach(i=>{let n=("value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,e.index_)),i);r.forEach(r=>{r.respondsTo(i.type)&&t.push(r.createEvent(n,e.query_))})})}function l$(e,t){return{eventCache:e,serverCache:t}}function lX(e,t,i,n){return l$(new lH(t,i,n),e.serverCache)}function lK(e,t,i,n){return l$(e.eventCache,new lH(t,i,n))}function lY(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function lQ(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}const lJ=()=>(h||(h=new le(os)),h);class lZ{constructor(e,t=lJ()){this.value=e,this.children=t}static fromObject(e){let t=new lZ(null);return oc(e,(e,i)=>{t=t.set(new oW(e),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:oU(),value:this.value};if(oX(e))return null;{let i=oB(e),n=this.children.get(i);if(null===n)return null;{let r=n.findRootMostMatchingPathAndValue(oq(e),t);if(null==r)return null;{let e=o$(new oW(i),r.path);return{path:e,value:r.value}}}}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(oX(e))return this;{let t=oB(e),i=this.children.get(t);return null!==i?i.subtree(oq(e)):new lZ(null)}}set(e,t){if(oX(e))return new lZ(t,this.children);{let i=oB(e),n=this.children.get(i)||new lZ(null),r=n.set(oq(e),t),s=this.children.insert(i,r);return new lZ(this.value,s)}}remove(e){if(oX(e))return this.children.isEmpty()?new lZ(null):new lZ(null,this.children);{let t=oB(e),i=this.children.get(t);if(!i)return this;{let n;let r=i.remove(oq(e));return(n=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&n.isEmpty())?new lZ(null):new lZ(this.value,n)}}}get(e){if(oX(e))return this.value;{let t=oB(e),i=this.children.get(t);return i?i.get(oq(e)):null}}setTree(e,t){if(oX(e))return t;{let i;let n=oB(e),r=this.children.get(n)||new lZ(null),s=r.setTree(oq(e),t);return i=s.isEmpty()?this.children.remove(n):this.children.insert(n,s),new lZ(this.value,i)}}fold(e){return this.fold_(oU(),e)}fold_(e,t){let i={};return this.children.inorderTraversal((n,r)=>{i[n]=r.fold_(o$(e,n),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,oU(),t)}findOnPath_(e,t,i){let n=!!this.value&&i(t,this.value);if(n)return n;if(oX(e))return null;{let n=oB(e),r=this.children.get(n);return r?r.findOnPath_(oq(e),o$(t,n),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,oU(),t)}foreachOnPath_(e,t,i){if(oX(e))return this;{this.value&&i(t,this.value);let n=oB(e),r=this.children.get(n);return r?r.foreachOnPath_(oq(e),o$(t,n),i):new lZ(null)}}foreach(e){this.foreach_(oU(),e)}foreach_(e,t){this.children.inorderTraversal((i,n)=>{n.foreach_(o$(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class l0{constructor(e){this.writeTree_=e}static empty(){return new l0(new lZ(null))}}function l1(e,t,i){if(oX(t))return new l0(new lZ(i));{let n=e.writeTree_.findRootMostValueAndPath(t);if(null!=n){let r=n.path,s=n.value,a=oK(r,t);return s=s.updateChild(a,i),new l0(e.writeTree_.set(r,s))}{let n=new lZ(i),r=e.writeTree_.setTree(t,n);return new l0(r)}}}function l2(e,t,i){let n=e;return oc(i,(e,i)=>{n=l1(n,o$(t,e),i)}),n}function l6(e,t){if(oX(t))return l0.empty();{let i=e.writeTree_.setTree(t,new lZ(null));return new l0(i)}}function l5(e,t){return null!=l3(e,t)}function l3(e,t){let i=e.writeTree_.findRootMostValueAndPath(t);return null!=i?e.writeTree_.get(i.path).getChild(oK(i.path,t)):null}function l4(e){let t=[],i=e.writeTree_.value;return null!=i?i.isLeafNode()||i.forEachChild(la,(e,i)=>{t.push(new o5(e,i))}):e.writeTree_.children.inorderTraversal((e,i)=>{null!=i.value&&t.push(new o5(e,i.value))}),t}function l8(e,t){if(oX(t))return e;{let i=l3(e,t);return new l0(null!=i?new lZ(i):e.writeTree_.subtree(t))}}function l9(e){return e.writeTree_.isEmpty()}function l7(e,t){return function e(t,i,n){if(null!=i.value)return n.updateChild(t,i.value);{let r=null;return i.children.inorderTraversal((i,s)=>{".priority"===i?(eF(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=e(o$(t,i),s,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(o$(t,".priority"),r)),n}}(oU(),e.writeTree_,t)}function ce(e){return e.visible}function ct(e,t,i){let n=l0.empty();for(let r=0;r<e.length;++r){let s=e[r];if(t(s)){let e;let t=s.path;if(s.snap)oJ(i,t)?n=l1(n,e=oK(i,t),s.snap):oJ(t,i)&&(e=oK(t,i),n=l1(n,oU(),s.snap.getChild(e)));else if(s.children){if(oJ(i,t))n=l2(n,e=oK(i,t),s.children);else if(oJ(t,i)){if(oX(e=oK(t,i)))n=l2(n,oU(),s.children);else{let t=ta(s.children,oB(e));if(t){let i=t.getChild(oq(e));n=l1(n,oU(),i)}}}}else throw ez("WriteRecord should have .snap or .children")}}return n}function ci(e,t,i,n,r){if(n||r){let s=l8(e.visibleWrites,t);if(!r&&l9(s))return i;if(!r&&null==i&&!l5(s,oU()))return null;{let s=ct(e.allWrites,function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(oJ(e.path,t)||oJ(t,e.path))},t),a=i||lh.EMPTY_NODE;return l7(s,a)}}{let n=l3(e.visibleWrites,t);if(null!=n)return n;{let n=l8(e.visibleWrites,t);if(l9(n))return i;{if(null==i&&!l5(n,oU()))return null;let e=i||lh.EMPTY_NODE;return l7(n,e)}}}}function cn(e,t,i,n){return ci(e.writeTree,e.treePath,t,i,n)}function cr(e,t){return function(e,t,i){let n=lh.EMPTY_NODE,r=l3(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(la,(e,t)=>{n=n.updateImmediateChild(e,t)}),n;if(i){let r=l8(e.visibleWrites,t);return i.forEachChild(la,(e,t)=>{let i=l7(l8(r,new oW(e)),t);n=n.updateImmediateChild(e,i)}),l4(r).forEach(e=>{n=n.updateImmediateChild(e.name,e.node)}),n}{let i=l8(e.visibleWrites,t);return l4(i).forEach(e=>{n=n.updateImmediateChild(e.name,e.node)}),n}}(e.writeTree,e.treePath,t)}function cs(e,t,i,n){return function(e,t,i,n,r){eF(n||r,"Either existingEventSnap or existingServerSnap must exist");let s=o$(t,i);if(l5(e.visibleWrites,s))return null;{let t=l8(e.visibleWrites,s);return l9(t)?r.getChild(i):l7(t,r.getChild(i))}}(e.writeTree,e.treePath,t,i,n)}function ca(e,t){var i,n;return i=e.writeTree,n=o$(e.treePath,t),l3(i.visibleWrites,n)}function co(e,t,i){return function(e,t,i,n){let r=o$(t,i),s=l3(e.visibleWrites,r);if(null!=s)return s;if(!n.isCompleteForChild(i))return null;{let t=l8(e.visibleWrites,r);return l7(t,n.getNode().getImmediateChild(i))}}(e.writeTree,e.treePath,t,i)}function cl(e,t){return cc(o$(e.treePath,t),e.writeTree)}function cc(e,t){return{treePath:e,writeTree:t}}class cd{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,i=e.childName;eF("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),eF(".priority"!==i,"Only non-priority child changes can be tracked.");let n=this.changeMap.get(i);if(n){let r=n.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(i,lw(i,e.snapshotNode,n.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(i,l_(i,n.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(i,ly(i,e.snapshotNode));else if("child_changed"===t&&"child_changed"===r)this.changeMap.set(i,lw(i,e.snapshotNode,n.oldSnap));else throw ez("Illegal combination of changes: "+e+" occurred after "+n)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const cu=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class ch{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=null!=this.optCompleteServerCache_?new lH(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return co(this.writes_,e,t)}}getChildAfterChild(e,t,i){var n;let r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lQ(this.viewCache_),s=function(e,t,i,n,r,s,a){let o;let l=l8(e.visibleWrites,t),c=l3(l,oU());if(null!=c)o=c;else{if(null==i)return[];o=l7(l,i)}if((o=o.withIndex(a)).isEmpty()||o.isLeafNode())return[];{let e=[],t=a.getCompare(),i=s?o.getReverseIteratorFrom(n,a):o.getIteratorFrom(n,a),r=i.getNext();for(;r&&e.length<1;)0!==t(r,n)&&e.push(r),r=i.getNext();return e}}((n=this.writes_).writeTree,n.treePath,r,t,0,i,e);return 0===s.length?null:s[0]}}function cp(e,t,i,n,r,s){let a=t.eventCache;if(null!=ca(n,i))return t;{let o,l;if(oX(i)){if(eF(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let i=lQ(t),r=i instanceof lh?i:lh.EMPTY_NODE,a=cr(n,r);o=e.filter.updateFullNode(t.eventCache.getNode(),a,s)}else{let i=cn(n,lQ(t));o=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}}else{let c=oB(i);if(".priority"===c){eF(1===oj(i),"Can't have a priority with additional path components");let r=a.getNode();l=t.serverCache.getNode();let s=cs(n,i,r,l);o=null!=s?e.filter.updatePriority(r,s):a.getNode()}else{let d;let u=oq(i);if(a.isCompleteForChild(c)){l=t.serverCache.getNode();let e=cs(n,i,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else d=co(n,c,t.serverCache);o=null!=d?e.filter.updateChild(a.getNode(),c,d,u,r,s):a.getNode()}}return lX(t,o,a.isFullyInitialized()||oX(i),e.filter.filtersNodes())}}function cf(e,t,i,n,r,s,a,o){let l;let c=t.serverCache,d=a?e.filter:e.filter.getIndexedFilter();if(oX(i))l=d.updateFullNode(c.getNode(),n,null);else if(d.filtersNodes()&&!c.isFiltered()){let e=c.getNode().updateChild(i,n);l=d.updateFullNode(c.getNode(),e,null)}else{let e=oB(i);if(!c.isCompleteForPath(i)&&oj(i)>1)return t;let r=oq(i),s=c.getNode().getImmediateChild(e),a=s.updateChild(r,n);l=".priority"===e?d.updatePriority(c.getNode(),a):d.updateChild(c.getNode(),e,a,r,cu,null)}let u=lK(t,l,c.isFullyInitialized()||oX(i),d.filtersNodes()),h=new ch(r,u,s);return cp(e,u,i,r,h,o)}function cm(e,t,i,n,r,s,a){let o,l;let c=t.eventCache,d=new ch(r,t,s);if(oX(i))l=e.filter.updateFullNode(t.eventCache.getNode(),n,a),o=lX(t,l,!0,e.filter.filtersNodes());else{let r=oB(i);if(".priority"===r)l=e.filter.updatePriority(t.eventCache.getNode(),n),o=lX(t,l,c.isFullyInitialized(),c.isFiltered());else{let s;let l=oq(i),u=c.getNode().getImmediateChild(r);if(oX(l))s=n;else{let e=d.getCompleteChild(r);s=null!=e?".priority"===oH(l)&&e.getChild(oG(l)).isEmpty()?e:e.updateChild(l,n):lh.EMPTY_NODE}if(u.equals(s))o=t;else{let i=e.filter.updateChild(c.getNode(),r,s,l,d,a);o=lX(t,i,c.isFullyInitialized(),e.filter.filtersNodes())}}}return o}function cg(e,t){return e.eventCache.isCompleteForChild(t)}function cv(e,t,i){return i.foreach((e,i)=>{t=t.updateChild(e,i)}),t}function cy(e,t,i,n,r,s,a,o){let l;if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t;l=oX(i)?n:new lZ(null).setTree(i,n);let d=t.serverCache.getNode();return l.children.inorderTraversal((i,n)=>{if(d.hasChild(i)){let l=t.serverCache.getNode().getImmediateChild(i),d=cv(e,l,n);c=cf(e,c,new oW(i),d,r,s,a,o)}}),l.children.inorderTraversal((i,n)=>{let l=!t.serverCache.isCompleteForChild(i)&&null===n.value;if(!d.hasChild(i)&&!l){let l=t.serverCache.getNode().getImmediateChild(i),d=cv(e,l,n);c=cf(e,c,new oW(i),d,r,s,a,o)}}),c}class c_{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,n=new lb(i.getIndex()),r=function(e){return e.loadsAllData()?new lb(e.getIndex()):e.hasLimit()?new lk(e):new lx(e)}(i);this.processor_={filter:r};let s=t.serverCache,a=t.eventCache,o=n.updateFullNode(lh.EMPTY_NODE,s.getNode(),null),l=r.updateFullNode(lh.EMPTY_NODE,a.getNode(),null),c=new lH(o,s.isFullyInitialized(),n.filtersNodes()),d=new lH(l,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=l$(d,c),this.eventGenerator_=new lV(this.query_)}get query(){return this.query_}}function cw(e){return 0===e.eventRegistrations_.length}function cb(e,t,i){let n=[];if(i){eF(null==t,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(i,r);t&&n.push(t)})}if(t){let i=[];for(let n=0;n<e.eventRegistrations_.length;++n){let r=e.eventRegistrations_[n];if(r.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(n+1));break}}else i.push(r)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return n}function cx(e,t,i,n){var r,s;t.type===b.MERGE&&null!==t.source.queryId&&(eF(lQ(e.viewCache_),"We should always have a full cache before handling merges"),eF(lY(e.viewCache_),"Missing event cache, even though we have a server cache"));let a=e.viewCache_,o=function(e,t,i,n,r){let s,a;let o=new cd;if(i.type===b.OVERWRITE)i.source.fromUser?s=cm(e,t,i.path,i.snap,n,r,o):(eF(i.source.fromServer,"Unknown source."),a=i.source.tagged||t.serverCache.isFiltered()&&!oX(i.path),s=cf(e,t,i.path,i.snap,n,r,a,o));else if(i.type===b.MERGE){var l,c;let d;i.source.fromUser?(l=i.path,c=i.children,d=t,c.foreach((i,s)=>{let a=o$(l,i);cg(t,oB(a))&&(d=cm(e,d,a,s,n,r,o))}),c.foreach((i,s)=>{let a=o$(l,i);cg(t,oB(a))||(d=cm(e,d,a,s,n,r,o))}),s=d):(eF(i.source.fromServer,"Unknown source."),a=i.source.tagged||t.serverCache.isFiltered(),s=cy(e,t,i.path,i.children,n,r,a,o))}else if(i.type===b.ACK_USER_WRITE)s=i.revert?function(e,t,i,n,r,s){let a;if(null!=ca(n,i))return t;{let o;let l=new ch(n,t,r),c=t.eventCache.getNode();if(oX(i)||".priority"===oB(i)){let i;if(t.serverCache.isFullyInitialized())i=cn(n,lQ(t));else{let e=t.serverCache.getNode();eF(e instanceof lh,"serverChildren would be complete if leaf node"),i=cr(n,e)}o=e.filter.updateFullNode(c,i,s)}else{let r=oB(i),d=co(n,r,t.serverCache);null==d&&t.serverCache.isCompleteForChild(r)&&(d=c.getImmediateChild(r)),(o=null!=d?e.filter.updateChild(c,r,d,oq(i),l,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(c,r,lh.EMPTY_NODE,oq(i),l,s):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=cn(n,lQ(t))).isLeafNode()&&(o=e.filter.updateFullNode(o,a,s))}return a=t.serverCache.isFullyInitialized()||null!=ca(n,oU()),lX(t,o,a,e.filter.filtersNodes())}}(e,t,i.path,n,r,o):function(e,t,i,n,r,s,a){if(null!=ca(r,i))return t;let o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=n.value){if(oX(i)&&l.isFullyInitialized()||l.isCompleteForPath(i))return cf(e,t,i,l.getNode().getChild(i),r,s,o,a);if(!oX(i))return t;{let n=new lZ(null);return l.getNode().forEachChild(o8,(e,t)=>{n=n.set(new oW(e),t)}),cy(e,t,i,n,r,s,o,a)}}{let c=new lZ(null);return n.foreach((e,t)=>{let n=o$(i,e);l.isCompleteForPath(n)&&(c=c.set(e,l.getNode().getChild(n)))}),cy(e,t,i,c,r,s,o,a)}}(e,t,i.path,i.affectedTree,n,r,o);else if(i.type===b.LISTEN_COMPLETE)s=function(e,t,i,n,r){let s=t.serverCache,a=lK(t,s.getNode(),s.isFullyInitialized()||oX(i),s.isFiltered());return cp(e,a,i,n,cu,r)}(e,t,i.path,n,o);else throw ez("Unknown operation type: "+i.type);let d=o.getChanges();return function(e,t,i){let n=t.eventCache;if(n.isFullyInitialized()){let r=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=lY(e);!(i.length>0)&&e.eventCache.isFullyInitialized()&&(!r||n.getNode().equals(s))&&n.getNode().getPriority().equals(s.getPriority())||i.push(lv(lY(t)))}}(t,s,d),{viewCache:s,changes:d}}(e.processor_,a,t,i,n);return r=e.processor_,eF((s=o.viewCache).eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),eF(s.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed"),eF(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,ck(e,o.changes,o.viewCache.eventCache.getNode(),null)}function ck(e,t,i,n){let r=n?[n]:e.eventRegistrations_;return function(e,t,i,n){let r=[],s=[];return t.forEach(t=>{if("child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)){var i;s.push((i=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:i}))}}),lG(e,r,"child_removed",t,n,i),lG(e,r,"child_added",t,n,i),lG(e,r,"child_moved",s,n,i),lG(e,r,"child_changed",t,n,i),lG(e,r,"value",t,n,i),r}(e.eventGenerator_,t,i,r)}class cC{constructor(){this.views=new Map}}function cT(e,t,i,n){let r=t.source.queryId;if(null!==r){let s=e.views.get(r);return eF(null!=s,"SyncTree gave us an op for an invalid query."),cx(s,t,i,n)}{let r=[];for(let s of e.views.values())r=r.concat(cx(s,t,i,n));return r}}function cI(e,t,i,n,r){let s=t._queryIdentifier,a=e.views.get(s);if(!a){let e=cn(i,r?n:null),s=!1;e?s=!0:(e=n instanceof lh?cr(i,n):lh.EMPTY_NODE,s=!1);let a=l$(new lH(e,s,!1),new lH(n,r,!1));return new c_(t,a)}return a}function cS(e){let t=[];for(let i of e.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function cE(e,t){let i=null;for(let n of e.views.values())i=i||function(e,t){let i=lQ(e.viewCache_);return i&&(e.query._queryParams.loadsAllData()||!oX(t)&&!i.getImmediateChild(oB(t)).isEmpty())?i.getChild(t):null}(n,t);return i}function cN(e,t){let i=t._queryParams;if(i.loadsAllData())return cR(e);{let i=t._queryIdentifier;return e.views.get(i)}}function cP(e){return null!=cR(e)}function cR(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let cA=1;class cO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lZ(null),this.pendingWriteTree_={visibleWrites:l0.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cL(e,t,i,n,r){var s,a;return(s=e.pendingWriteTree_,a=r,eF(n>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),s.allWrites.push({path:t,snap:i,writeId:n,visible:a}),a&&(s.visibleWrites=l1(s.visibleWrites,t,i)),s.lastWriteId=n,r)?cB(e,new lj(lF(),t,i)):[]}function cM(e,t,i=!1){let n=function(e,t){for(let i=0;i<e.allWrites.length;i++){let n=e.allWrites[i];if(n.writeId===t)return n}return null}(e.pendingWriteTree_,t),r=function(e,t){let i=e.allWrites.findIndex(e=>e.writeId===t);eF(i>=0,"removeWrite called with nonexistent writeId.");let n=e.allWrites[i];e.allWrites.splice(i,1);let r=n.visible,s=!1,a=e.allWrites.length-1;for(;r&&a>=0;){let t=e.allWrites[a];t.visible&&(a>=i&&function(e,t){if(e.snap)return oJ(e.path,t);for(let i in e.children)if(e.children.hasOwnProperty(i)&&oJ(o$(e.path,i),t))return!0;return!1}(t,n.path)?r=!1:oJ(n.path,t.path)&&(s=!0)),a--}if(!r)return!1;if(s)return e.visibleWrites=ct(e.allWrites,ce,oU()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1,!0;if(n.snap)e.visibleWrites=l6(e.visibleWrites,n.path);else{let t=n.children;oc(t,t=>{e.visibleWrites=l6(e.visibleWrites,o$(n.path,t))})}return!0}(e.pendingWriteTree_,t);if(!r)return[];{let t=new lZ(null);return null!=n.snap?t=t.set(oU(),!0):oc(n.children,e=>{t=t.set(new oW(e),!0)}),cB(e,new lU(n.path,t,i))}}function cD(e,t,i){return cB(e,new lj(lz(),t,i))}function cF(e,t,i,n,r=!1){let s=t._path,a=e.syncPointTree_.get(s),o=[];if(a&&("default"===t._queryIdentifier||null!=cN(a,t))){let l=function(e,t,i,n){let r=t._queryIdentifier,s=[],a=[],o=cP(e);if("default"===r)for(let[t,r]of e.views.entries())a=a.concat(cb(r,i,n)),cw(r)&&(e.views.delete(t),r.query._queryParams.loadsAllData()||s.push(r.query));else{let t=e.views.get(r);t&&(a=a.concat(cb(t,i,n)),cw(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!cP(e)&&s.push(new(eF(p,"Reference.ts has not been loaded"),p)(t._repo,t._path)),{removed:s,events:a}}(a,t,i,n);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));let c=l.removed;if(o=l.events,!r){let i=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),r=e.syncPointTree_.findOnPath(s,(e,t)=>cP(t));if(i&&!r){let t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){let i=t.fold((e,t,i)=>{if(t&&cP(t)){let e=cR(t);return[e]}{let e=[];return t&&(e=cS(t)),oc(i,(t,i)=>{e=e.concat(i)}),e}});for(let t=0;t<i.length;++t){let n=i[t],r=n.query,s=cj(e,n);e.listenProvider_.startListening(cX(r),cq(e,r),s.hashFn,s.onComplete)}}}r||!(c.length>0)||n||(i?e.listenProvider_.stopListening(cX(t),null):c.forEach(t=>{let i=e.queryToTagMap.get(cH(t));e.listenProvider_.stopListening(cX(t),i)}))}!function(e,t){for(let i=0;i<t.length;++i){let n=t[i];if(!n._queryParams.loadsAllData()){let t=cH(n),i=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(i)}}}(e,c)}return o}function cz(e,t,i,n){let r=cV(e,n);if(null==r)return[];{let n=cG(r),s=n.path,a=n.queryId,o=oK(s,t),l=new lj(lW(a),o,i);return c$(e,s,l)}}function cW(e,t,i,n=!1){var r;let s;let a=t._path,o=null,l=!1;e.syncPointTree_.foreachOnPath(a,(e,t)=>{let i=oK(e,a);o=o||cE(t,i),l=l||cP(t)});let c=e.syncPointTree_.get(a);if(c?(l=l||cP(c),o=o||cE(c,oU())):(c=new cC,e.syncPointTree_=e.syncPointTree_.set(a,c)),null!=o)s=!0;else{s=!1,o=lh.EMPTY_NODE;let t=e.syncPointTree_.subtree(a);t.foreachChild((e,t)=>{let i=cE(t,oU());i&&(o=o.updateImmediateChild(e,i))})}let d=null!=cN(c,t);if(!d&&!t._queryParams.loadsAllData()){let i=cH(t);eF(!e.queryToTagMap.has(i),"View does not exist, but we have a tag");let n=cA++;e.queryToTagMap.set(i,n),e.tagToQueryMap.set(n,i)}let u=(r=e.pendingWriteTree_,cc(a,r)),h=function(e,t,i,n,r,s){let a=cI(e,t,n,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),!function(e,t){e.eventRegistrations_.push(t)}(a,i),function(e,t){let i=e.viewCache_.eventCache,n=[];if(!i.getNode().isLeafNode()){let e=i.getNode();e.forEachChild(la,(e,t)=>{n.push(ly(e,t))})}return i.isFullyInitialized()&&n.push(lv(i.getNode())),ck(e,n,i.getNode(),t)}(a,i)}(c,t,i,u,o,s);if(!d&&!l&&!n){let i=cN(c,t);h=h.concat(function(e,t,i){let n=t._path,r=cq(e,t),s=cj(e,i),a=e.listenProvider_.startListening(cX(t),r,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(n);if(r)eF(!cP(o.value),"If we're adding a query, it shouldn't be shadowed");else{let t=o.fold((e,t,i)=>{if(!oX(e)&&t&&cP(t))return[cR(t).query];{let e=[];return t&&(e=e.concat(cS(t).map(e=>e.query))),oc(i,(t,i)=>{e=e.concat(i)}),e}});for(let i=0;i<t.length;++i){let n=t[i];e.listenProvider_.stopListening(cX(n),cq(e,n))}}return a}(e,t,i))}return h}function cU(e,t,i){let n=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(e,i)=>{let n=oK(e,t),r=cE(i,n);if(r)return r});return ci(n,t,r,i,!0)}function cB(e,t){var i;return function e(t,i,n,r){if(oX(t.path))return function e(t,i,n,r){let s=i.get(oU());null==n&&null!=s&&(n=cE(s,oU()));let a=[];return i.children.inorderTraversal((i,s)=>{let o=n?n.getImmediateChild(i):null,l=cl(r,i),c=t.operationForChild(i);c&&(a=a.concat(e(c,s,o,l)))}),s&&(a=a.concat(cT(s,t,r,n))),a}(t,i,n,r);{let s=i.get(oU());null==n&&null!=s&&(n=cE(s,oU()));let a=[],o=oB(t.path),l=t.operationForChild(o),c=i.children.get(o);if(c&&l){let t=n?n.getImmediateChild(o):null,i=cl(r,o);a=a.concat(e(l,c,t,i))}return s&&(a=a.concat(cT(s,t,r,n))),a}}(t,e.syncPointTree_,null,(i=e.pendingWriteTree_,cc(oU(),i)))}function cj(e,t){let i=t.query,n=cq(e,i);return{hashFn:()=>{let e=t.viewCache_.serverCache.getNode()||lh.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t){var r;return n?function(e,t,i){let n=cV(e,i);if(!n)return[];{let i=cG(n),r=i.path,s=i.queryId,a=oK(r,t),o=new lB(lW(s),a);return c$(e,r,o)}}(e,i._path,n):(r=i._path,cB(e,new lB(lz(),r)))}{let n=function(e,t){let i="Unknown Error";"too_big"===e?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?i="Client doesn't have permission to access the desired data.":"unavailable"===e&&(i="The service is unavailable");let n=Error(e+" at "+t._path.toString()+": "+i);return n.code=e.toUpperCase(),n}(t,i);return cF(e,i,null,n)}}}}function cq(e,t){let i=cH(t);return e.queryToTagMap.get(i)}function cH(e){return e._path.toString()+"$"+e._queryIdentifier}function cV(e,t){return e.tagToQueryMap.get(t)}function cG(e){let t=e.indexOf("$");return eF(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new oW(e.substr(0,t))}}function c$(e,t,i){let n=e.syncPointTree_.get(t);eF(n,"Missing sync point for query tag that we're tracking");let r=cc(t,e.pendingWriteTree_);return cT(n,i,r,null)}function cX(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(eF(f,"Reference.ts has not been loaded"),f)(e._repo,e._path):e}class cK{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new cK(t)}node(){return this.node_}}class cY{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=o$(this.path_,e);return new cY(this.syncTree_,t)}node(){return cU(this.syncTree_,this.path_)}}const cQ=function(e,t,i){return e&&"object"==typeof e?(eF(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?cJ(e[".sv"],t,i):"object"==typeof e[".sv"]?cZ(e[".sv"],t):void eF(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},cJ=function(e,t,i){if("timestamp"===e)return i.timestamp;eF(!1,"Unexpected server value: "+e)},cZ=function(e,t,i){e.hasOwnProperty("increment")||eF(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let n=e.increment;"number"!=typeof n&&eF(!1,"Unexpected increment value: "+n);let r=t.node();if(eF(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;let s=r.getValue();return"number"!=typeof s?n:s+n},c0=function(e,t,i,n){return c2(t,new cY(i,e),n)},c1=function(e,t,i){return c2(e,new cK(t),i)};function c2(e,t,i){let n;let r=e.getPriority().val(),s=cQ(r,t.getImmediateChild(".priority"),i);if(!e.isLeafNode())return n=e,s!==e.getPriority().val()&&(n=n.updatePriority(new ls(s))),e.forEachChild(la,(e,r)=>{let s=c2(r,t.getImmediateChild(e),i);s!==r&&(n=n.updateImmediateChild(e,s))}),n;{let n=cQ(e.getValue(),t,i);return n!==e.getValue()||s!==e.getPriority().val()?new ls(n,lf(s)):e}}class c6{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function c5(e,t){let i=t instanceof oW?t:new oW(t),n=e,r=oB(i);for(;null!==r;){let e=ta(n.node.children,r)||{children:{},childCount:0};n=new c6(r,n,e),r=oB(i=oq(i))}return n}function c3(e){return e.node.value}function c4(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,i,n){let r=void 0===c3(n)&&!c8(n),s=ts(t.node.children,i);r&&s?(delete t.node.children[i],t.node.childCount--,e(t)):r||s||(t.node.children[i]=n.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function c8(e){return e.node.childCount>0}function c9(e,t){oc(e.node.children,(i,n)=>{t(new c6(i,e,n))})}function c7(e){return new oW(null===e.parent?e.name:c7(e.parent)+"/"+e.name)}const de=/[\[\].#$\/\u0000-\u001F\u007F]/,dt=/[\[\].#$\u0000-\u001F\u007F]/,di=function(e){return"string"==typeof e&&0!==e.length&&!de.test(e)},dn=function(e){return"string"==typeof e&&0!==e.length&&!dt.test(e)},dr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!oe(e)||e&&"object"==typeof e&&ts(e,".sv")},ds=function(e,t,i,n){n&&void 0===t||da(t_(e,"value"),t,i)},da=function(e,t,i){let n=i instanceof oW?new oZ(i,e):i;if(void 0===t)throw Error(e+"contains undefined "+o1(n));if("function"==typeof t)throw Error(e+"contains a function "+o1(n)+" with contents = "+t.toString());if(oe(t))throw Error(e+"contains "+t.toString()+" "+o1(n));if("string"==typeof t&&t.length>10485760/3&&tk(t)>10485760)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+o1(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,r=!1;if(oc(t,(t,s)=>{if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!di(t)))throw Error(e+" contains an invalid key ("+t+") "+o1(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=tk(t),o0(n),da(e,s,n),function(e){let t=e.parts_.pop();e.byteLength_-=tk(t),e.parts_.length>0&&(e.byteLength_-=1)}(n)}),i&&r)throw Error(e+' contains ".value" child '+o1(n)+" in addition to actual children.")}},dl=function(e,t){let i,n;for(i=0;i<t.length;i++){n=t[i];let r=oV(n);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!di(r[t]))throw Error(e+"contains an invalid key ("+r[t]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(oY);let r=null;for(i=0;i<t.length;i++){if(n=t[i],null!==r&&oJ(r,n))throw Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}},dc=function(e,t,i,n){if(n&&void 0===t)return;let r=t_(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(r+" must be an object containing the children to replace.");let s=[];oc(t,(e,t)=>{let n=new oW(e);if(da(r,t,o$(i,n)),".priority"===oH(n)&&!dr(t))throw Error(r+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),dl(r,s)},dd=function(e,t,i){if(!i||void 0!==t){if(oe(t))throw Error(t_(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!dr(t))throw Error(t_(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},du=function(e,t,i,n){if((!n||void 0!==i)&&!di(i))throw Error(t_(e,t)+'was an invalid key = "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dh=function(e,t,i,n){if((!n||void 0!==i)&&!dn(i))throw Error(t_(e,t)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},dp=function(e,t,i,n){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),dh(e,t,i,n)},df=function(e,t){if(".info"===oB(t))throw Error(e+" failed = Can't modify data under /.info/")},dm=function(e,t){var i;let n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!di(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&((i=n)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),!dn(i)))throw Error(t_(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class dg{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dv(e,t){let i=null;for(let n=0;n<t.length;n++){let r=t[n],s=r.getPath();null===i||oQ(s,i.path)||(e.eventLists_.push(i),i=null),null===i&&(i={events:[],path:s}),i.events.push(r)}i&&e.eventLists_.push(i)}function dy(e,t,i){dv(e,i),dw(e,e=>oQ(e,t))}function d_(e,t,i){dv(e,i),dw(e,e=>oJ(e,t)||oJ(t,e))}function dw(e,t){e.recursionDepth_++;let i=!0;for(let n=0;n<e.eventLists_.length;n++){let r=e.eventLists_[n];if(r){let s=r.path;t(s)?(function(e){for(let t=0;t<e.events.length;t++){let i=e.events[t];if(null!==i){e.events[t]=null;let n=i.getEventRunner();a1&&a5("event: "+i.toString()),op(n)}}}(e.eventLists_[n]),e.eventLists_[n]=null):i=!1}}i&&(e.eventLists_=[]),e.recursionDepth_--}const db="repo_interrupt";class dx{constructor(e,t,i,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lA(),this.transactionQueueTree_=new c6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dk(e){let t=e.infoData_.getNode(new oW(".info/serverTimeOffset")),i=t.val()||0;return new Date().getTime()+i}function dC(e){var t;return(t=t={timestamp:dk(e)}).timestamp=t.timestamp||new Date().getTime(),t}function dT(e,t,i,n,r){e.dataUpdateCount++;let s=new oW(t);i=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,i):i;let a=[];if(r){if(n){let t=tl(i,e=>lf(e));a=function(e,t,i,n){let r=cV(e,n);if(!r)return[];{let n=cG(r),s=n.path,a=n.queryId,o=oK(s,t),l=lZ.fromObject(i),c=new lq(lW(a),o,l);return c$(e,s,c)}}(e.serverSyncTree_,s,t,r)}else{let t=lf(i);a=cz(e.serverSyncTree_,s,t,r)}}else if(n){let t=tl(i,e=>lf(e));a=function(e,t,i){let n=lZ.fromObject(i);return cB(e,new lq(lz(),t,n))}(e.serverSyncTree_,s,t)}else{let t=lf(i);a=cD(e.serverSyncTree_,s,t)}let o=s;a.length>0&&(o=dF(e,s)),d_(e.eventQueue_,o,a)}function dI(e,t){dS(e,"connected",t),!1===t&&function(e){dO(e,"onDisconnectEvents");let t=dC(e),i=lA();lL(e.onDisconnect_,oU(),(n,r)=>{let s=c0(n,r,e.serverSyncTree_,t);lO(i,n,s)});let n=[];lL(i,oU(),(t,i)=>{n=n.concat(cD(e.serverSyncTree_,t,i));let r=dB(e,t);dF(e,r)}),e.onDisconnect_=lA(),d_(e.eventQueue_,oU(),n)}(e)}function dS(e,t,i){let n=new oW("/.info/"+t),r=lf(i);e.infoData_.updateSnapshot(n,r);let s=cD(e.infoSyncTree_,n,r);d_(e.eventQueue_,n,s)}function dE(e){return e.nextWriteId_++}function dN(e,t,i,n,r){dO(e,"set",{path:t.toString(),value:i,priority:n});let s=dC(e),a=lf(i,n),o=cU(e.serverSyncTree_,t),l=c1(a,o,s),c=dE(e),d=cL(e.serverSyncTree_,t,l,c,!0);dv(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),(i,n)=>{let s="ok"===i;s||a9("set at "+t+" failed: "+i);let a=cM(e.serverSyncTree_,c,!s);d_(e.eventQueue_,t,a),dL(e,r,i,n)});let u=dB(e,t);dF(e,u),d_(e.eventQueue_,u,[])}function dP(e,t,i,n){let r=lf(i);e.server_.onDisconnectPut(t.toString(),r.val(!0),(i,s)=>{"ok"===i&&lO(e.onDisconnect_,t,r),dL(e,n,i,s)})}function dR(e,t,i){let n;n=".info"===oB(t._path)?cF(e.infoSyncTree_,t,i):cF(e.serverSyncTree_,t,i),dy(e.eventQueue_,t._path,n)}function dA(e){e.persistentConnection_&&e.persistentConnection_.interrupt(db)}function dO(e,...t){let i="";e.persistentConnection_&&(i=e.persistentConnection_.id+":"),a5(i,...t)}function dL(e,t,i,n){t&&op(()=>{if("ok"===i)t(null);else{let e=(i||"error").toUpperCase(),r=e;n&&(r+=": "+n);let s=Error(r);s.code=e,t(s)}})}function dM(e,t,i){return cU(e.serverSyncTree_,t,i)||lh.EMPTY_NODE}function dD(e,t=e.transactionQueueTree_){if(t||dU(e,t),c3(t)){let i=dW(e,t);eF(i.length>0,"Sending zero length transaction queue");let n=i.every(e=>0===e.status);n&&function(e,t,i){let n=i.map(e=>e.currentWriteId),r=dM(e,t,n),s=r,a=r.hash();for(let e=0;e<i.length;e++){let n=i[e];eF(0===n.status,"tryToSendTransactionQueue_: items in queue should all be run."),n.status=1,n.retryCount++;let r=oK(t,n.path);s=s.updateChild(r,n.currentOutputSnapshotRaw)}let o=s.val(!0);e.server_.put(t.toString(),o,n=>{dO(e,"transaction put response",{path:t.toString(),status:n});let r=[];if("ok"===n){let n=[];for(let t=0;t<i.length;t++)i[t].status=2,r=r.concat(cM(e.serverSyncTree_,i[t].currentWriteId)),i[t].onComplete&&n.push(()=>i[t].onComplete(null,!0,i[t].currentOutputSnapshotResolved)),i[t].unwatcher();dU(e,c5(e.transactionQueueTree_,t)),dD(e,e.transactionQueueTree_),d_(e.eventQueue_,t,r);for(let e=0;e<n.length;e++)op(n[e])}else{if("datastale"===n)for(let e=0;e<i.length;e++)3===i[e].status?i[e].status=4:i[e].status=0;else{a9("transaction at "+t.toString()+" failed: "+n);for(let e=0;e<i.length;e++)i[e].status=4,i[e].abortReason=n}dF(e,t)}},a)}(e,c7(t),i)}else c8(t)&&c9(t,t=>{dD(e,t)})}function dF(e,t){let i=dz(e,t),n=c7(i),r=dW(e,i);return function(e,t,i){if(0===t.length)return;let n=[],r=[],s=t.filter(e=>0===e.status),a=s.map(e=>e.currentWriteId);for(let s=0;s<t.length;s++){let o=t[s],l=oK(i,o.path),c=!1,d;if(eF(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)c=!0,d=o.abortReason,r=r.concat(cM(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status){if(o.retryCount>=25)c=!0,d="maxretry",r=r.concat(cM(e.serverSyncTree_,o.currentWriteId,!0));else{let i=dM(e,o.path,a);o.currentInputSnapshot=i;let n=t[s].update(i.val());if(void 0!==n){da("transaction failed: Data returned ",n,o.path);let t=lf(n),s="object"==typeof n&&null!=n&&ts(n,".priority");s||(t=t.updatePriority(i.getPriority()));let l=o.currentWriteId,c=dC(e),d=c1(t,i,c);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=d,o.currentWriteId=dE(e),a.splice(a.indexOf(l),1),r=(r=r.concat(cL(e.serverSyncTree_,o.path,d,o.currentWriteId,o.applyLocally))).concat(cM(e.serverSyncTree_,l,!0))}else c=!0,d="nodata",r=r.concat(cM(e.serverSyncTree_,o.currentWriteId,!0))}}d_(e.eventQueue_,i,r),r=[],c&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&("nodata"===d?n.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):n.push(()=>t[s].onComplete(Error(d),!1,null))))}dU(e,e.transactionQueueTree_);for(let e=0;e<n.length;e++)op(n[e]);dD(e,e.transactionQueueTree_)}(e,r,n),n}function dz(e,t){let i;let n=e.transactionQueueTree_;for(i=oB(t);null!==i&&void 0===c3(n);)n=c5(n,i),i=oB(t=oq(t));return n}function dW(e,t){let i=[];return function e(t,i,n){let r=c3(i);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);c9(i,i=>{e(t,i,n)})}(e,t,i),i.sort((e,t)=>e.order-t.order),i}function dU(e,t){let i=c3(t);if(i){let e=0;for(let t=0;t<i.length;t++)2!==i[t].status&&(i[e]=i[t],e++);i.length=e,c4(t,i.length>0?i:void 0)}c9(t,t=>{dU(e,t)})}function dB(e,t){let i=c7(dz(e,t)),n=c5(e.transactionQueueTree_,t);return!function(e,t,i){let n=e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,t=>{dj(e,t)}),dj(e,n),!function e(t,i,n,r){n&&!r&&i(t),c9(t,t=>{e(t,i,!0,r)}),n&&r&&i(t)}(n,t=>{dj(e,t)}),i}function dj(e,t){let i=c3(t);if(i){let n=[],r=[],s=-1;for(let t=0;t<i.length;t++)3===i[t].status||(1===i[t].status?(eF(s===t-1,"All SENT items should be at beginning of queue."),s=t,i[t].status=3,i[t].abortReason="set"):(eF(0===i[t].status,"Unexpected transaction status in abort"),i[t].unwatcher(),r=r.concat(cM(e.serverSyncTree_,i[t].currentWriteId,!0)),i[t].onComplete&&n.push(i[t].onComplete.bind(null,Error("set"),!1,null))));-1===s?c4(t,void 0):i.length=s+1,d_(e.eventQueue_,c7(t),r);for(let e=0;e<n.length;e++)op(n[e])}}const dq=function(e,t){let i=dH(e),n=i.namespace;"firebase.com"===i.domain&&a8(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===i.domain||a8("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||a7();let r="ws"===i.scheme||"wss"===i.scheme;return{repoInfo:new ox(i.host,i.secure,n,r,t,"",n!==i.subdomain),path:new oW(i.pathString)}},dH=function(e){let t="",i="",n="",r="",s="",a=!0,o="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(r=function(e){let t="",i=e.split("/");for(let e=0;e<i.length;e++)if(i[e].length>0){let n=i[e];try{n=decodeURIComponent(n.replace(/\+/g," "))}catch(e){}t+="/"+n}return t}(e.substring(d,u)));let h=function(e){let t={};for(let i of("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&"))){if(0===i.length)continue;let n=i.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):a9(`Invalid query segment '${i}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,u)));(c=t.indexOf(":"))>=0?(a="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;let p=t.slice(0,c);if("localhost"===p.toLowerCase())i="localhost";else if(p.split(".").length<=2)i=p;else{let e=t.indexOf(".");n=t.substring(0,e).toLowerCase(),i=t.substring(e+1),s=n}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:i,subdomain:n,secure:a,scheme:o,pathString:r,namespace:s}},dV="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dG=function(){let e=0,t=[];return function(i){let n;let r=i===e;e=i;let s=Array(8);for(n=7;n>=0;n--)s[n]=dV.charAt(i%64),i=Math.floor(i/64);eF(0===i,"Cannot push at time == 0");let a=s.join("");if(r){for(n=11;n>=0&&63===t[n];n--)t[n]=0;t[n]++}else for(n=0;n<12;n++)t[n]=Math.floor(64*Math.random());for(n=0;n<12;n++)a+=dV.charAt(t[n]);return eF(20===a.length,"nextPushId: Length should be 20."),a}}();class d${constructor(e,t,i,n){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=n}getPath(){let e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class dX{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class dK{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return eF(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class dY{constructor(e,t){this._repo=e,this._path=t}cancel(){let e=new eJ;return!function(e,t,i){e.server_.onDisconnectCancel(t.toString(),(n,r)=>{"ok"===n&&function e(t,i){if(oX(i))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(la,(e,i)=>{lO(t,new oW(e),i)}),e(t,i)}}if(!(t.children.size>0))return!0;{let n=oB(i);if(i=oq(i),t.children.has(n)){let r=e(t.children.get(n),i);r&&t.children.delete(n)}return 0===t.children.size}}(e.onDisconnect_,t),dL(e,i,n,r)})}(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){df("OnDisconnect.remove",this._path);let e=new eJ;return dP(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){df("OnDisconnect.set",this._path),ds("OnDisconnect.set",e,this._path,!1);let t=new eJ;return dP(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){df("OnDisconnect.setWithPriority",this._path),ds("OnDisconnect.setWithPriority",e,this._path,!1),dd("OnDisconnect.setWithPriority",t,!1);let i=new eJ;return!function(e,t,i,n,r){let s=lf(i,n);e.server_.onDisconnectPut(t.toString(),s.val(!0),(i,n)=>{"ok"===i&&lO(e.onDisconnect_,t,s),dL(e,r,i,n)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){df("OnDisconnect.update",this._path),dc("OnDisconnect.update",e,this._path,!1);let t=new eJ;return!function(e,t,i,n){if(to(i)){a5("onDisconnect().update() called with empty data.  Don't do anything."),dL(e,n,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),i,(r,s)=>{"ok"===r&&oc(i,(i,n)=>{let r=lf(n);lO(e.onDisconnect_,o$(t,i),r)}),dL(e,n,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class dQ{constructor(e,t,i,n){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=n}get key(){return oX(this._path)?null:oH(this._path)}get ref(){return new d1(this._repo,this._path)}get _queryIdentifier(){let e=lN(this._queryParams),t=oo(e);return"{}"===t?"default":t}get _queryObject(){return lN(this._queryParams)}isEqual(e){if(!((e=tC(e))instanceof dQ))return!1;let t=this._repo===e._repo,i=oQ(this._path,e._path),n=this._queryIdentifier===e._queryIdentifier;return t&&i&&n}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let i=e.pieceNum_;i<e.pieces_.length;i++)""!==e.pieces_[i]&&(t+="/"+encodeURIComponent(String(e.pieces_[i])));return t||"/"}(this._path)}}function dJ(e,t){if(!0===e._orderByCalled)throw Error(t+": You can't combine multiple orderBy calls.")}function dZ(e){let t=null,i=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(i=e.getIndexEndValue()),e.getIndex()===o8){let n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){let i=e.getIndexStartName();if(i!==oi)throw Error(n);if("string"!=typeof t)throw Error(r)}if(e.hasEnd()){let t=e.getIndexEndName();if(t!==on)throw Error(n);if("string"!=typeof i)throw Error(r)}}else if(e.getIndex()===la){if(null!=t&&!dr(t)||null!=i&&!dr(i))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(eF(e.getIndex() instanceof lm||e.getIndex()===lg,"unknown index type."),null!=t&&"object"==typeof t||null!=i&&"object"==typeof i)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function d0(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class d1 extends dQ{constructor(e,t){super(e,t,new lC,!1)}get parent(){let e=oG(this._path);return null===e?null:new d1(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class d2{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new oW(e),i=d3(this.ref,e);return new d2(this._node.getChild(t),i,la)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;let t=this._node;return!!t.forEachChild(this._index,(t,i)=>e(new d2(i,d3(this.ref,t),la)))}hasChild(e){let t=new oW(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function d6(e,t){return(e=tC(e))._checkNotDeleted("ref"),void 0!==t?d3(e._root,t):e._root}function d5(e,t){(e=tC(e))._checkNotDeleted("refFromURL");let i=dq(t,e._repo.repoInfo_.nodeAdmin);dm("refFromURL",i);let n=i.repoInfo;return e._repo.repoInfo_.isCustomHost()||n.host===e._repo.repoInfo_.host||a8("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+e._repo.repoInfo_.host+")"),d6(e,i.path.toString())}function d3(e,t){return null===oB((e=tC(e))._path)?dp("child","path",t,!1):dh("child","path",t,!1),new d1(e._repo,o$(e._path,t))}function d4(e,t){df("set",(e=tC(e))._path),ds("set",t,e._path,!1);let i=new eJ;return dN(e._repo,e._path,t,null,i.wrapCallback(()=>{})),i.promise}class d8{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){let i=t._queryParams.getIndex();return new d$("value",this,new d2(e.snapshotNode,new d1(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new dX(this,e,t):null}matches(e){return e instanceof d8&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class d9{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new dX(this,e,t):null}createEvent(e,t){eF(null!=e.childName,"Child events should have a childName.");let i=d3(new d1(t._repo,t._path),e.childName),n=t._queryParams.getIndex();return new d$(e.type,this,new d2(e.snapshotNode,i,n),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof d9&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function d7(e,t,i,n,r){var s;let a,o;if("object"==typeof n&&(a=void 0,r=n),"function"==typeof n&&(a=n),r&&r.onlyOnce){let t=i,n=(i,n)=>{dR(e._repo,e,c),t(i,n)};n.userCallback=i.userCallback,n.context=i.context,i=n}let l=new dK(i,a||void 0),c="value"===t?new d8(l):new d9(t,l);return s=e._repo,o=".info"===oB(e._path)?cW(s.infoSyncTree_,e,c):cW(s.serverSyncTree_,e,c),dy(s.eventQueue_,e._path,o),()=>dR(e._repo,e,c)}function ue(e,t,i,n){return d7(e,"value",t,i,n)}function ut(e,t,i,n){return d7(e,"child_added",t,i,n)}function ui(e,t,i,n){return d7(e,"child_changed",t,i,n)}function un(e,t,i,n){return d7(e,"child_moved",t,i,n)}function ur(e,t,i,n){return d7(e,"child_removed",t,i,n)}function us(e,t,i){let n=null,r=i?new dK(i):null;"value"===t?n=new d8(r):t&&(n=new d9(t,r)),dR(e._repo,e,n)}class ua{}class uo extends ua{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ds("endAt",this._value,e._path,!0);let t=lI(e._queryParams,this._value,this._key);if(d0(t),dZ(t),e._queryParams.hasEnd())throw Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new dQ(e._repo,e._path,t,e._orderByCalled)}}class ul extends ua{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){var t,i,n;let r;ds("endBefore",this._value,e._path,!1);let s=(t=e._queryParams,i=this._value,n=this._key,(r=t.index_===o8||n?lI(t,i,n):lI(t,i,oi)).endBeforeSet_=!0,r);if(d0(s),dZ(s),e._queryParams.hasEnd())throw Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new dQ(e._repo,e._path,s,e._orderByCalled)}}class uc extends ua{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ds("startAt",this._value,e._path,!0);let t=lT(e._queryParams,this._value,this._key);if(d0(t),dZ(t),e._queryParams.hasStart())throw Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new dQ(e._repo,e._path,t,e._orderByCalled)}}class ud extends ua{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){var t,i,n;let r;ds("startAfter",this._value,e._path,!1);let s=(t=e._queryParams,i=this._value,n=this._key,(r=t.index_===o8||n?lT(t,i,n):lT(t,i,on)).startAfterSet_=!0,r);if(d0(s),dZ(s),e._queryParams.hasStart())throw Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new dQ(e._repo,e._path,s,e._orderByCalled)}}class uu extends ua{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new dQ(e._repo,e._path,function(e,t){let i=e.copy();return i.limitSet_=!0,i.limit_=t,i.viewFrom_="l",i}(e._queryParams,this._limit),e._orderByCalled)}}class uh extends ua{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new dQ(e._repo,e._path,function(e,t){let i=e.copy();return i.limitSet_=!0,i.limit_=t,i.viewFrom_="r",i}(e._queryParams,this._limit),e._orderByCalled)}}class up extends ua{constructor(e){super(),this._path=e}_apply(e){dJ(e,"orderByChild");let t=new oW(this._path);if(oX(t))throw Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new lm(t),n=lS(e._queryParams,i);return dZ(n),new dQ(e._repo,e._path,n,!0)}}class uf extends ua{_apply(e){dJ(e,"orderByKey");let t=lS(e._queryParams,o8);return dZ(t),new dQ(e._repo,e._path,t,!0)}}class um extends ua{_apply(e){dJ(e,"orderByPriority");let t=lS(e._queryParams,la);return dZ(t),new dQ(e._repo,e._path,t,!0)}}class ug extends ua{_apply(e){dJ(e,"orderByValue");let t=lS(e._queryParams,lg);return dZ(t),new dQ(e._repo,e._path,t,!0)}}class uv extends ua{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ds("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uo(this._value,this._key)._apply(new uc(this._value,this._key)._apply(e))}}function uy(e,...t){let i=tC(e);for(let e of t)i=e._apply(i);return i}eF(!p,"__referenceConstructor has already been defined"),p=d1,eF(!f,"__referenceConstructor has already been defined"),f=d1;const u_={};function uw(e,t,i,n,r){var s,a;let o,l,c,d,u=n||e.options.databaseURL;void 0===u&&(e.options.projectId||a8("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),a5("Using default host for project ",e.options.projectId),u=`${e.options.projectId}-default-rtdb.firebaseio.com`);let h=dq(u,r),p=h.repoInfo;void 0!==eC&&eC.env&&(c=eC.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(d=!0,p=(h=dq(u=`http://${c}?ns=${p.namespace}`,r)).repoInfo):d=!h.repoInfo.secure;let f=r&&d?new oy(oy.OWNER):new ov(e.name,e.options,t);dm("Invalid Firebase Database URL",h),oX(h.path)||a8("Database URL must point to the root of a Firebase Database (not including a child path).");let m=(s=p,a=new og(e.name,i),(o=u_[e.name])||(o={},u_[e.name]=o),(l=o[s.toURLString()])&&a8("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new dx(s,!1,f,a),o[s.toURLString()]=l,l);return new ub(m,e)}class ub{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,i){if(e.stats_=oS(e.repoInfo_),e.forceRestClient_||of())e.server_=new lP(e.repoInfo_,(t,i,n,r)=>{dT(e,t,i,n,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>dI(e,!0),0);else{if(null!=i){if("object"!=typeof i)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(i)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new o6(e.repoInfo_,t,(t,i,n,r)=>{dT(e,t,i,n,r)},t=>{dI(e,t)},t=>{oc(t,(t,i)=>{dS(e,t,i)})},e.authTokenProvider_,e.appCheckProvider_,i),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){let i=e.toString();return oI[i]||(oI[i]=t()),oI[i]}(e.repoInfo_,()=>new lD(e.stats_,e.server_)),e.infoData_=new lR,e.infoSyncTree_=new cO({startListening:(t,i,n,r)=>{let s=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(s=cD(e.infoSyncTree_,t._path,a),setTimeout(()=>{r("ok")},0)),s},stopListening:()=>{}}),dS(e,"connected",!1),e.serverSyncTree_=new cO({startListening:(t,i,n,r)=>(e.server_.listen(t,n,i,(i,n)=>{let s=r(i,n);d_(e.eventQueue_,t._path,s)}),[]),stopListening:(t,i)=>{e.server_.unlisten(t,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new d1(this._repo,oU())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){let i=u_[t];i&&i[e.key]===e||a8(`Database ${t}(${e.repoInfo_}) has already been deleted.`),dA(e),delete i[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&a8("Cannot call "+e+" on a deleted database.")}}function ux(){oL.IS_TRANSPORT_INITIALIZED&&a9("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function uk(){ux(),oP.forceDisallow()}function uC(){ux(),oO.forceDisallow(),oP.forceAllow()}function uT(e,t){a6(e,t)}class uI{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}o6.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},o6.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},aV=it,t3(new tT("database",(e,{instanceIdentifier:t})=>{let i=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return uw(i,n,r,t)},"PUBLIC").setMultipleInstances(!0)),io(aq,aH,void 0),io(aq,aH,"esm2017");const uS=new tM("@firebase/database-compat"),uE=function(e){uS.warn("FIREBASE WARNING: "+e)},uN=function(e,t,i,n){if((!n||void 0!==i)&&"boolean"!=typeof i)throw Error(t_(e,t)+"must be a boolean.")},uP=function(e,t,i){if(!i||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(t_(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};class uR{constructor(e){this._delegate=e}cancel(e){ty("OnDisconnect.cancel",0,1,arguments.length),tw("OnDisconnect.cancel","onComplete",e,!0);let t=this._delegate.cancel();return e&&t.then(()=>e(null),t=>e(t)),t}remove(e){ty("OnDisconnect.remove",0,1,arguments.length),tw("OnDisconnect.remove","onComplete",e,!0);let t=this._delegate.remove();return e&&t.then(()=>e(null),t=>e(t)),t}set(e,t){ty("OnDisconnect.set",1,2,arguments.length),tw("OnDisconnect.set","onComplete",t,!0);let i=this._delegate.set(e);return t&&i.then(()=>t(null),e=>t(e)),i}setWithPriority(e,t,i){ty("OnDisconnect.setWithPriority",2,3,arguments.length),tw("OnDisconnect.setWithPriority","onComplete",i,!0);let n=this._delegate.setWithPriority(e,t);return i&&n.then(()=>i(null),e=>i(e)),n}update(e,t){if(ty("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let t={};for(let i=0;i<e.length;++i)t[""+i]=e[i];e=t,uE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tw("OnDisconnect.update","onComplete",t,!0);let i=this._delegate.update(e);return t&&i.then(()=>t(null),e=>t(e)),i}}class uA{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return ty("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class uO{constructor(e,t){this._database=e,this._delegate=t}val(){return ty("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ty("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ty("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ty("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ty("DataSnapshot.child",0,1,arguments.length),dh("DataSnapshot.child","path",e=String(e),!1),new uO(this._database,this._delegate.child(e))}hasChild(e){return ty("DataSnapshot.hasChild",1,1,arguments.length),dh("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return ty("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ty("DataSnapshot.forEach",1,1,arguments.length),tw("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new uO(this._database,t)))}hasChildren(){return ty("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ty("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ty("DataSnapshot.ref",0,0,arguments.length),new uM(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class uL{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,n){var r;ty("Query.on",2,4,arguments.length),tw("Query.on","callback",t,!1);let s=uL.getCancelAndContextArgs_("Query.on",i,n),a=(e,i)=>{t.call(s.context,new uO(this.database,e),i)};a.userCallback=t,a.context=s.context;let o=null===(r=s.cancel)||void 0===r?void 0:r.bind(s.context);switch(e){case"value":return ue(this._delegate,a,o),t;case"child_added":return ut(this._delegate,a,o),t;case"child_removed":return ur(this._delegate,a,o),t;case"child_changed":return ui(this._delegate,a,o),t;case"child_moved":return un(this._delegate,a,o),t;default:throw Error(t_("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if(ty("Query.off",0,3,arguments.length),uP("Query.off",e,!0),tw("Query.off","callback",t,!0),tb("Query.off","context",i,!0),t){let n=()=>{};n.userCallback=t,n.context=i,us(this._delegate,e,n)}else us(this._delegate,e)}get(){return(function(e){e=tC(e);let t=new dK(()=>{}),i=new d8(t);return(function(e,t,i){let n=function(e,t){var i;let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{let i=oK(e,n);r=r||cE(t,i)});let s=e.syncPointTree_.get(n);s?r=r||cE(s,oU()):(s=new cC,e.syncPointTree_=e.syncPointTree_.set(n,s));let a=null!=r,o=a?new lH(r,!0,!1):null,l=(i=e.pendingWriteTree_,cc(t._path,i)),c=cI(s,t,l,a?o.getNode():lh.EMPTY_NODE,a);return lY(c.viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(n=>{let r;let s=lf(n).withIndex(t._queryParams.getIndex());if(cW(e.serverSyncTree_,t,i,!0),t._queryParams.loadsAllData())r=cD(e.serverSyncTree_,t._path,s);else{let i=cq(e.serverSyncTree_,t);r=cz(e.serverSyncTree_,t._path,s,i)}return d_(e.eventQueue_,t._path,r),cF(e.serverSyncTree_,t,i,null,!0),s},i=>(dO(e,"get for query "+tt(t)+" failed: "+i),Promise.reject(Error(i))))})(e._repo,e,i).then(t=>new d2(t,new d1(e._repo,e._path),e._queryParams.getIndex()))})(this._delegate).then(e=>new uO(this.database,e))}once(e,t,i,n){ty("Query.once",1,4,arguments.length),tw("Query.once","callback",t,!0);let r=uL.getCancelAndContextArgs_("Query.once",i,n),s=new eJ,a=(e,i)=>{let n=new uO(this.database,e);t&&t.call(r.context,n,i),s.resolve(n)};a.userCallback=t,a.context=r.context;let o=e=>{r.cancel&&r.cancel.call(r.context,e),s.reject(e)};switch(e){case"value":ue(this._delegate,a,o,{onlyOnce:!0});break;case"child_added":ut(this._delegate,a,o,{onlyOnce:!0});break;case"child_removed":ur(this._delegate,a,o,{onlyOnce:!0});break;case"child_changed":ui(this._delegate,a,o,{onlyOnce:!0});break;case"child_moved":un(this._delegate,a,o,{onlyOnce:!0});break;default:throw Error(t_("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return ty("Query.limitToFirst",1,1,arguments.length),new uL(this.database,uy(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw Error("limitToFirst: First argument must be a positive integer.");return new uu(e)}(e)))}limitToLast(e){return ty("Query.limitToLast",1,1,arguments.length),new uL(this.database,uy(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw Error("limitToLast: First argument must be a positive integer.");return new uh(e)}(e)))}orderByChild(e){return ty("Query.orderByChild",1,1,arguments.length),new uL(this.database,uy(this._delegate,function(e){if("$key"===e)throw Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dh("orderByChild","path",e,!1),new up(e)}(e)))}orderByKey(){return ty("Query.orderByKey",0,0,arguments.length),new uL(this.database,uy(this._delegate,new uf))}orderByPriority(){return ty("Query.orderByPriority",0,0,arguments.length),new uL(this.database,uy(this._delegate,new um))}orderByValue(){return ty("Query.orderByValue",0,0,arguments.length),new uL(this.database,uy(this._delegate,new ug))}startAt(e=null,t){return ty("Query.startAt",0,2,arguments.length),new uL(this.database,uy(this._delegate,function(e=null,t){return du("startAt","key",t,!0),new uc(e,t)}(e,t)))}startAfter(e=null,t){return ty("Query.startAfter",0,2,arguments.length),new uL(this.database,uy(this._delegate,(du("startAfter","key",t,!0),new ud(e,t))))}endAt(e=null,t){return ty("Query.endAt",0,2,arguments.length),new uL(this.database,uy(this._delegate,(du("endAt","key",t,!0),new uo(e,t))))}endBefore(e=null,t){return ty("Query.endBefore",0,2,arguments.length),new uL(this.database,uy(this._delegate,(du("endBefore","key",t,!0),new ul(e,t))))}equalTo(e,t){return ty("Query.equalTo",1,2,arguments.length),new uL(this.database,uy(this._delegate,(du("equalTo","key",t,!0),new uv(e,t))))}toString(){return ty("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ty("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ty("Query.isEqual",1,1,arguments.length),!(e instanceof uL))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){let n={cancel:void 0,context:void 0};if(t&&i)n.cancel=t,tw(e,"cancel",n.cancel,!0),n.context=i,tb(e,"context",n.context,!0);else if(t){if("object"==typeof t&&null!==t)n.context=t;else if("function"==typeof t)n.cancel=t;else throw Error(t_(e,"cancelOrContext")+" must either be a cancel callback or a context object.")}return n}get ref(){return new uM(this.database,new d1(this._delegate._repo,this._delegate._path))}}class uM extends uL{constructor(e,t){super(e,new dQ(t._repo,t._path,new lC,!1)),this.database=e,this._delegate=t}getKey(){return ty("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ty("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new uM(this.database,d3(this._delegate,e))}getParent(){ty("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new uM(this.database,e):null}getRoot(){return ty("Reference.root",0,0,arguments.length),new uM(this.database,this._delegate.root)}set(e,t){ty("Reference.set",1,2,arguments.length),tw("Reference.set","onComplete",t,!0);let i=d4(this._delegate,e);return t&&i.then(()=>t(null),e=>t(e)),i}update(e,t){if(ty("Reference.update",1,2,arguments.length),Array.isArray(e)){let t={};for(let i=0;i<e.length;++i)t[""+i]=e[i];e=t,uE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}df("Reference.update",this._delegate._path),tw("Reference.update","onComplete",t,!0);let i=function(e,t){dc("update",t,e._path,!1);let i=new eJ;return!function(e,t,i,n){dO(e,"update",{path:t.toString(),value:i});let r=!0,s=dC(e),a={};if(oc(i,(i,n)=>{r=!1,a[i]=c0(o$(t,i),lf(n),e.serverSyncTree_,s)}),r)a5("update() called with empty data.  Don't do anything."),dL(e,n,"ok",void 0);else{let r=dE(e),s=function(e,t,i,n){var r;eF(n>(r=e.pendingWriteTree_).lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:i,writeId:n,visible:!0}),r.visibleWrites=l2(r.visibleWrites,t,i),r.lastWriteId=n;let s=lZ.fromObject(i);return cB(e,new lq(lF(),t,s))}(e.serverSyncTree_,t,a,r);dv(e.eventQueue_,s),e.server_.merge(t.toString(),i,(i,s)=>{let a="ok"===i;a||a9("update at "+t+" failed: "+i);let o=cM(e.serverSyncTree_,r,!a),l=o.length>0?dF(e,t):t;d_(e.eventQueue_,l,o),dL(e,n,i,s)}),oc(i,i=>{let n=dB(e,o$(t,i));dF(e,n)}),d_(e.eventQueue_,t,[])}}(e._repo,e._path,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e);return t&&i.then(()=>t(null),e=>t(e)),i}setWithPriority(e,t,i){ty("Reference.setWithPriority",2,3,arguments.length),tw("Reference.setWithPriority","onComplete",i,!0);let n=function(e,t,i){if(df("setWithPriority",e._path),ds("setWithPriority",t,e._path,!1),dd("setWithPriority",i,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";let n=new eJ;return dN(e._repo,e._path,t,i,n.wrapCallback(()=>{})),n.promise}(this._delegate,e,t);return i&&n.then(()=>i(null),e=>i(e)),n}remove(e){var t;ty("Reference.remove",0,1,arguments.length),tw("Reference.remove","onComplete",e,!0);let i=(df("remove",(t=this._delegate)._path),d4(t,null));return e&&i.then(()=>e(null),t=>e(t)),i}transaction(e,t,i){ty("Reference.transaction",1,3,arguments.length),tw("Reference.transaction","transactionUpdate",e,!1),tw("Reference.transaction","onComplete",t,!0),uN("Reference.transaction","applyLocally",i,!0);let n=(function(e,t,i){var n;if(df("Reference.transaction",(e=tC(e))._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=null===(n=null==i?void 0:i.applyLocally)||void 0===n||n,s=new eJ,a=ue(e,()=>{});return!function(e,t,i,n,r,s){dO(e,"transaction on "+t);let a={path:t,update:i,onComplete:n,status:null,order:aJ(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=dM(e,t,void 0);a.currentInputSnapshot=o;let l=a.update(o.val());if(void 0===l)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{let i;da("transaction failed: Data returned ",l,a.path),a.status=0;let n=c5(e.transactionQueueTree_,t),r=c3(n)||[];if(r.push(a),c4(n,r),"object"==typeof l&&null!==l&&ts(l,".priority"))eF(dr(i=ta(l,".priority")),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{let n=cU(e.serverSyncTree_,t)||lh.EMPTY_NODE;i=n.getPriority().val()}let s=dC(e),c=lf(l,i),d=c1(c,o,s);a.currentOutputSnapshotRaw=c,a.currentOutputSnapshotResolved=d,a.currentWriteId=dE(e);let u=cL(e.serverSyncTree_,t,d,a.currentWriteId,a.applyLocally);d_(e.eventQueue_,t,u),dD(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(t,i,n)=>{let r=null;t?s.reject(t):(r=new d2(n,new d1(e._repo,e._path),la),s.resolve(new uI(i,r)))},a,r),s.promise})(this._delegate,e,{applyLocally:i}).then(e=>new uA(e.committed,new uO(this.database,e.snapshot)));return t&&n.then(e=>t(null,e.committed,e.snapshot),e=>t(e,!1,null)),n}setPriority(e,t){ty("Reference.setPriority",1,2,arguments.length),tw("Reference.setPriority","onComplete",t,!0);let i=function(e,t){df("setPriority",(e=tC(e))._path),dd("setPriority",t,!1);let i=new eJ;return dN(e._repo,o$(e._path,".priority"),t,null,i.wrapCallback(()=>{})),i.promise}(this._delegate,e);return t&&i.then(()=>t(null),e=>t(e)),i}push(e,t){ty("Reference.push",0,2,arguments.length),tw("Reference.push","onComplete",t,!0);let i=function(e,t){let i;df("push",(e=tC(e))._path),ds("push",t,e._path,!0);let n=dk(e._repo),r=dG(n),s=d3(e,r),a=d3(e,r);return i=null!=t?d4(a,t).then(()=>a):Promise.resolve(a),s.then=i.then.bind(i),s.catch=i.then.bind(i,void 0),s}(this._delegate,e),n=i.then(e=>new uM(this.database,e));t&&n.then(()=>t(null),e=>t(e));let r=new uM(this.database,i);return r.then=n.then.bind(n),r.catch=n.catch.bind(n,void 0),r}onDisconnect(){return df("Reference.onDisconnect",this._delegate._path),new uR(new dY(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class uD{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:uk,forceLongPolling:uC}}useEmulator(e,t,i={}){!function(e,t,i,n={}){var r;let s;(e=tC(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&a8("Cannot call useEmulator() after instance has already been initialized.");let a=e._repoInternal;if(a.repoInfo_.nodeAdmin)n.mockUserToken&&a8('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new oy(oy.OWNER);else if(n.mockUserToken){let t="string"==typeof n.mockUserToken?n.mockUserToken:function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i=t||"demo-project",n=e.iat||0,r=e.sub||e.user_id;if(!r)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[eH(JSON.stringify({alg:"none",type:"JWT"})),eH(JSON.stringify(s)),""].join(".")}(n.mockUserToken,e.app.options.projectId);s=new oy(t)}r=s,a.repoInfo_=new ox(`${t}:${i}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0),r&&(a.authTokenProvider_=r)}(this._delegate,e,t,i)}ref(e){if(ty("database.ref",0,1,arguments.length),e instanceof uM){let t=d5(this._delegate,e.toString());return new uM(this,t)}{let t=d6(this._delegate,e);return new uM(this,t)}}refFromURL(e){ty("database.refFromURL",1,1,arguments.length);let t=d5(this._delegate,e);return new uM(this,t)}goOffline(){var e;return ty("database.goOffline",0,0,arguments.length),void((e=tC(e=this._delegate))._checkNotDeleted("goOffline"),dA(e._repo))}goOnline(){var e,t;return ty("database.goOnline",0,0,arguments.length),void((e=tC(e=this._delegate))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(db))}}uD.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:e=>({".sv":{increment:e}})};var uF=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:i,customAuthImpl:n,namespace:r,nodeAdmin:s=!1}){aV=i;let a=new tS("auth-internal",new tE("database-standalone"));return a.setComponent(new tT("auth-internal",()=>n,"PRIVATE")),{instance:new uD(uw(e,a,void 0,t,s),e),namespace:r}}});const uz=uD.ServerValue;!function(e){e.INTERNAL.registerComponent(new tT("database-compat",(e,{instanceIdentifier:t})=>{let i=e.getProvider("app-compat").getImmediate(),n=e.getProvider("database").getImmediate({identifier:t});return new uD(n,i)},"PUBLIC").setServiceProps({Reference:uM,Query:uL,Database:uD,DataSnapshot:uO,enableLogging:uT,INTERNAL:uF,ServerValue:uz}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.0")}(ik);var uW={};!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof uW?uW=t(e):e.Notiflix=t(e)}(void 0===x?"undefined"==typeof window?uW:window:x,function(e){"use strict";if(void 0===e&&void 0===e.document)return!1;var t,i,n,r,s,a="\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation",o='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',l={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},c={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},d={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},u={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},h={Show:"Show",Ask:"Ask",Prompt:"Prompt"},p={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},f={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},m={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},g={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},v={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},y=function(e){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+a)},_=function(e){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3","\n"+e+a)},w=function(t){return t||(t="head"),null!==e.document[t]||(y('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},b=function(t,i){if(!w("head"))return!1;if(null!==t()&&!e.document.getElementById(i)){var n=e.document.createElement("style");n.id=i,n.innerHTML=t(),e.document.head.appendChild(n)}},x=function(){var e={},t=!1,i=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);i<arguments.length;i++)!function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=t&&"[object Object]"===Object.prototype.toString.call(i[n])?x(e[n],i[n]):i[n])}(arguments[i]);return e},k=function(t){var i=e.document.createElement("div");return i.innerHTML=t,i.textContent||i.innerText||""},C=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>'},T=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>'},I=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+e+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+e+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+e+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+t+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>'},S=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>'},E=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>'},N=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},P=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},R=0,A=function(i,n,r,s){if(!w("body"))return!1;t||q.Notify.init({});var a=x(!0,t,{});if("object"==typeof r&&!Array.isArray(r)||"object"==typeof s&&!Array.isArray(s)){var d={};"object"==typeof r?d=r:"object"==typeof s&&(d=s),t=x(!0,t,d)}var u=t[i.toLocaleLowerCase("en")];R++,"string"!=typeof n&&(n="Notiflix "+i),t.plainText&&(n=k(n)),!t.plainText&&n.length>t.messageMaxLength&&(t=x(!0,t,{closeButton:!0,messageMaxLength:150}),n='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),n.length>t.messageMaxLength&&(n=n.substring(0,t.messageMaxLength)+"..."),"shadow"===t.fontAwesomeIconStyle&&(u.fontAwesomeIconColor=u.background),t.cssAnimation||(t.cssAnimationDuration=0);var h=e.document.getElementById(c.wrapID)||e.document.createElement("div");if(h.id=c.wrapID,h.style.width=t.width,h.style.zIndex=t.zindex,h.style.opacity=t.opacity,"center-center"===t.position?(h.style.left=t.distance,h.style.top=t.distance,h.style.right=t.distance,h.style.bottom=t.distance,h.style.margin="auto",h.classList.add("nx-flex-center-center"),h.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",h.style.display="flex",h.style.flexWrap="wrap",h.style.flexDirection="column",h.style.justifyContent="center",h.style.alignItems="center",h.style.pointerEvents="none"):"center-top"===t.position?(h.style.left=t.distance,h.style.right=t.distance,h.style.top=t.distance,h.style.bottom="auto",h.style.margin="auto"):"center-bottom"===t.position?(h.style.left=t.distance,h.style.right=t.distance,h.style.bottom=t.distance,h.style.top="auto",h.style.margin="auto"):"right-bottom"===t.position?(h.style.right=t.distance,h.style.bottom=t.distance,h.style.top="auto",h.style.left="auto"):"left-top"===t.position?(h.style.left=t.distance,h.style.top=t.distance,h.style.right="auto",h.style.bottom="auto"):"left-bottom"===t.position?(h.style.left=t.distance,h.style.bottom=t.distance,h.style.top="auto",h.style.right="auto"):(h.style.right=t.distance,h.style.top=t.distance,h.style.left="auto",h.style.bottom="auto"),t.backOverlay){var p=e.document.getElementById(c.overlayID)||e.document.createElement("div");p.id=c.overlayID,p.style.width="100%",p.style.height="100%",p.style.position="fixed",p.style.zIndex=t.zindex-1,p.style.left=0,p.style.top=0,p.style.right=0,p.style.bottom=0,p.style.background=u.backOverlayColor||t.backOverlayColor,p.className=t.cssAnimation?"nx-with-animation":"",p.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(c.overlayID)||e.document.body.appendChild(p)}e.document.getElementById(c.wrapID)||e.document.body.appendChild(h);var f=e.document.createElement("div");f.id=t.ID+"-"+R,f.className=t.className+" "+u.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&"function"!=typeof r?"nx-with-close-button":"")+" "+("function"==typeof r?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),f.style.fontSize=t.fontSize,f.style.color=u.textColor,f.style.background=u.background,f.style.borderRadius=t.borderRadius,f.style.pointerEvents="all",t.rtl&&(f.setAttribute("dir","rtl"),f.classList.add("nx-rtl-on")),f.style.fontFamily='"'+t.fontFamily+'", '+o,t.cssAnimation&&(f.style.animationDuration=t.cssAnimationDuration+"ms");var m="";if(t.closeButton&&"function"!=typeof r&&(m='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+u.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),t.useIcon){if(t.useFontAwesome)f.innerHTML='<i style="color:'+u.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+u.fontAwesomeClassName+" "+("shadow"===t.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+n+"</span>"+(t.closeButton?m:"");else{var g="";i===l.Success?g='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+u.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':i===l.Failure?g='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+u.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':i===l.Warning?g='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+u.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':i===l.Info&&(g='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+u.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),f.innerHTML=g+'<span class="nx-message nx-with-icon">'+n+"</span>"+(t.closeButton?m:"")}}else f.innerHTML='<span class="nx-message">'+n+"</span>"+(t.closeButton?m:"");if("left-bottom"===t.position||"right-bottom"===t.position){var v=e.document.getElementById(c.wrapID);v.insertBefore(f,v.firstChild)}else e.document.getElementById(c.wrapID).appendChild(f);var y=e.document.getElementById(f.id);if(y){var _,b,C=function(){y.classList.add("nx-remove");var t=e.document.getElementById(c.overlayID);t&&0>=h.childElementCount&&t.classList.add("nx-remove"),clearTimeout(_)},T=function(){if(y&&null!==y.parentNode&&y.parentNode.removeChild(y),0>=h.childElementCount&&null!==h.parentNode){h.parentNode.removeChild(h);var t=e.document.getElementById(c.overlayID);t&&null!==t.parentNode&&t.parentNode.removeChild(t)}clearTimeout(b)};if(t.closeButton&&"function"!=typeof r&&e.document.getElementById(f.id).querySelector("span.nx-close-button").addEventListener("click",function(){C();var e=setTimeout(function(){T(),clearTimeout(e)},t.cssAnimationDuration)}),("function"==typeof r||t.clickToClose)&&y.addEventListener("click",function(){"function"==typeof r&&r(),C();var e=setTimeout(function(){T(),clearTimeout(e)},t.cssAnimationDuration)}),!t.closeButton&&"function"!=typeof r){var I=function(){_=setTimeout(function(){C()},t.timeout),b=setTimeout(function(){T()},t.timeout+t.cssAnimationDuration)};I(),t.pauseOnHover&&(y.addEventListener("mouseenter",function(){y.classList.add("nx-paused"),clearTimeout(_),clearTimeout(b)}),y.addEventListener("mouseleave",function(){y.classList.remove("nx-paused"),I()}))}}if(t.showOnlyTheLastOne&&0<R)for(var S,E=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+R+"])"),N=0;N<E.length;N++)null!==(S=E[N]).parentNode&&S.parentNode.removeChild(S);t=x(!0,t,a)},O=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},L=function(t,n,r,s,a,l){if(!w("body"))return!1;i||q.Report.init({});var c,h,p,f,m,g,v,y,_={};if("object"==typeof a&&!Array.isArray(a)||"object"==typeof l&&!Array.isArray(l)){var b={};"object"==typeof a?b=a:"object"==typeof l&&(b=l),_=x(!0,i,{}),i=x(!0,i,b)}var C=i[t.toLocaleLowerCase("en")];"string"!=typeof n&&(n="Notiflix "+t),"string"!=typeof r&&(t===d.Success?r='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':t===d.Failure?r='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':t===d.Warning?r='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':t===d.Info&&(r='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),"string"!=typeof s&&(s="Okay"),i.plainText&&(n=k(n),r=k(r),s=k(s)),i.plainText||(n.length>i.titleMaxLength&&(n="Possible HTML Tags Error",r='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',s="Okay"),r.length>i.messageMaxLength&&(n="Possible HTML Tags Error",r='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',s="Okay"),s.length>i.buttonMaxLength&&(n="Possible HTML Tags Error",r='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',s="Okay")),n.length>i.titleMaxLength&&(n=n.substring(0,i.titleMaxLength)+"..."),r.length>i.messageMaxLength&&(r=r.substring(0,i.messageMaxLength)+"..."),s.length>i.buttonMaxLength&&(s=s.substring(0,i.buttonMaxLength)+"..."),i.cssAnimation||(i.cssAnimationDuration=0);var T=e.document.createElement("div");T.id=u.ID,T.className=i.className,T.style.zIndex=i.zindex,T.style.borderRadius=i.borderRadius,T.style.fontFamily='"'+i.fontFamily+'", '+o,i.rtl&&(T.setAttribute("dir","rtl"),T.classList.add("nx-rtl-on")),T.style.display="flex",T.style.flexWrap="wrap",T.style.flexDirection="column",T.style.alignItems="center",T.style.justifyContent="center";var I="",S=!0===i.backOverlayClickToClose;i.backOverlay&&(I='<div class="'+i.className+"-overlay"+(i.cssAnimation?" nx-with-animation":"")+(S?" nx-report-click-to-close":"")+'" style="background:'+(C.backOverlayColor||i.backOverlayColor)+";animation-duration:"+i.cssAnimationDuration+'ms;"></div>');var E="";if(t===d.Success?(c=i.svgSize,h=C.svgColor,c||(c="110px"),h||(h="#32c682"),E='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+c+'" height="'+c+'" fill="'+h+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'):t===d.Failure?(p=i.svgSize,f=C.svgColor,p||(p="110px"),f||(f="#ff5549"),E='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+p+'" height="'+p+'" fill="'+f+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'):t===d.Warning?(m=i.svgSize,g=C.svgColor,m||(m="110px"),g||(g="#eebf31"),E='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+m+'" height="'+m+'" fill="'+g+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'):t===d.Info&&(v=i.svgSize,y=C.svgColor,v||(v="110px"),y||(y="#26c0d3"),E='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+v+'" height="'+v+'" fill="'+y+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'),T.innerHTML=I+'<div class="'+i.className+"-content"+(i.cssAnimation?" nx-with-animation ":"")+" nx-"+i.cssAnimationStyle+'" style="width:'+i.width+"; background:"+i.backgroundColor+"; animation-duration:"+i.cssAnimationDuration+'ms;"><div style="width:'+i.svgSize+"; height:"+i.svgSize+';" class="'+i.className+'-icon">'+E+'</div><h5 class="'+i.className+'-title" style="font-weight:500; font-size:'+i.titleFontSize+"; color:"+C.titleColor+';">'+n+'</h5><p class="'+i.className+'-message" style="font-size:'+i.messageFontSize+"; color:"+C.messageColor+';">'+r+'</p><a id="NXReportButton" class="'+i.className+'-button" style="font-weight:500; font-size:'+i.buttonFontSize+"; background:"+C.buttonBackground+"; color:"+C.buttonColor+';">'+s+"</a></div>",!e.document.getElementById(T.id)){e.document.body.appendChild(T);var N=function(){var t=e.document.getElementById(T.id);t.classList.add("nx-remove");var n=setTimeout(function(){null!==t.parentNode&&t.parentNode.removeChild(t),clearTimeout(n)},i.cssAnimationDuration)};e.document.getElementById("NXReportButton").addEventListener("click",function(){"function"==typeof a&&a(),N()}),I&&S&&e.document.querySelector(".nx-report-click-to-close").addEventListener("click",function(){N()})}i=x(!0,i,_)},M=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},D=function(t,i,r,s,a,l,c,d,u){if(!w("body"))return!1;n||q.Confirm.init({});var f=x(!0,n,{});"object"!=typeof u||Array.isArray(u)||(n=x(!0,n,u)),"string"!=typeof i&&(i="Notiflix Confirm"),"string"!=typeof r&&(r="Do you agree with me?"),"string"!=typeof a&&(a="Yes"),"string"!=typeof l&&(l="No"),"function"!=typeof c&&(c=void 0),"function"!=typeof d&&(d=void 0),n.plainText&&(i=k(i),r=k(r),a=k(a),l=k(l)),n.plainText||(i.length>n.titleMaxLength&&(i="Possible HTML Tags Error",r='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',a="Okay",l="..."),r.length>n.messageMaxLength&&(i="Possible HTML Tags Error",r='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',a="Okay",l="..."),(a.length||l.length)>n.buttonsMaxLength&&(i="Possible HTML Tags Error",r='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',a="Okay",l="...")),i.length>n.titleMaxLength&&(i=i.substring(0,n.titleMaxLength)+"..."),r.length>n.messageMaxLength&&(r=r.substring(0,n.messageMaxLength)+"..."),a.length>n.buttonsMaxLength&&(a=a.substring(0,n.buttonsMaxLength)+"..."),l.length>n.buttonsMaxLength&&(l=l.substring(0,n.buttonsMaxLength)+"..."),n.cssAnimation||(n.cssAnimationDuration=0);var m=e.document.createElement("div");m.id=p.ID,m.className=n.className+(n.cssAnimation?" nx-with-animation nx-"+n.cssAnimationStyle:""),m.style.zIndex=n.zindex,m.style.padding=n.distance,n.rtl&&(m.setAttribute("dir","rtl"),m.classList.add("nx-rtl-on"));var g="string"==typeof n.position?n.position.trim():"center";m.classList.add("nx-position-"+g),m.style.fontFamily='"'+n.fontFamily+'", '+o;var v="";n.backOverlay&&(v='<div class="'+n.className+"-overlay"+(n.cssAnimation?" nx-with-animation":"")+'" style="background:'+n.backOverlayColor+";animation-duration:"+n.cssAnimationDuration+'ms;"></div>');var y="";"function"==typeof c&&(y='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+n.cancelButtonColor+";background:"+n.cancelButtonBackground+";font-size:"+n.buttonsFontSize+';">'+l+"</a>");var _="",b=null,C=void 0;if(t===h.Ask||t===h.Prompt){b=s||"";var T=t===h.Ask?Math.ceil(1.5*b.length):200<b.length?Math.ceil(1.5*b.length):250;_='<div><input id="NXConfirmValidationInput" type="text" '+(t===h.Prompt?'value="'+b+'"':"")+' maxlength="'+T+'" style="font-size:'+n.messageFontSize+";border-radius: "+n.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(m.innerHTML=v+'<div class="'+n.className+'-content" style="width:'+n.width+"; background:"+n.backgroundColor+"; animation-duration:"+n.cssAnimationDuration+"ms; border-radius: "+n.borderRadius+';"><div class="'+n.className+'-head"><h5 style="color:'+n.titleColor+";font-size:"+n.titleFontSize+';">'+i+'</h5><div style="color:'+n.messageColor+";font-size:"+n.messageFontSize+';">'+r+_+'</div></div><div class="'+n.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+("function"==typeof c?"":" nx-full")+'" style="color:'+n.okButtonColor+";background:"+n.okButtonBackground+";font-size:"+n.buttonsFontSize+';">'+a+"</a>"+y+"</div></div>",!e.document.getElementById(m.id)){e.document.body.appendChild(m);var I=e.document.getElementById(m.id),S=e.document.getElementById("NXConfirmButtonOk"),E=e.document.getElementById("NXConfirmValidationInput");E&&(E.focus(),E.setSelectionRange(0,(E.value||"").length),E.addEventListener("keyup",function(e){var i=e.target.value;t===h.Ask&&i!==b?(e.preventDefault(),E.classList.add("nx-validation-failure"),E.classList.remove("nx-validation-success")):(t===h.Ask&&(E.classList.remove("nx-validation-failure"),E.classList.add("nx-validation-success")),("enter"===(e.key||"").toLocaleLowerCase("en")||13===e.keyCode)&&S.dispatchEvent(new Event("click")))})),S.addEventListener("click",function(e){if(t===h.Ask&&b&&E){if((E.value||"").toString()!==b)return E.focus(),E.classList.add("nx-validation-failure"),e.stopPropagation(),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1;E.classList.remove("nx-validation-failure")}"function"==typeof c&&(t===h.Prompt&&E&&(C=E.value||""),c(C)),I.classList.add("nx-remove");var i=setTimeout(function(){null!==I.parentNode&&(I.parentNode.removeChild(I),clearTimeout(i))},n.cssAnimationDuration)}),"function"==typeof c&&e.document.getElementById("NXConfirmButtonCancel").addEventListener("click",function(){"function"==typeof d&&(t===h.Prompt&&E&&(C=E.value||""),d(C)),I.classList.add("nx-remove");var e=setTimeout(function(){null!==I.parentNode&&(I.parentNode.removeChild(I),clearTimeout(e))},n.cssAnimationDuration)})}n=x(!0,n,f)},F=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},z=function(t,i,n,s,a){if(!w("body"))return!1;r||q.Loading.init({});var l=x(!0,r,{});if("object"==typeof i&&!Array.isArray(i)||"object"==typeof n&&!Array.isArray(n)){var c={};"object"==typeof i?c=i:"object"==typeof n&&(c=n),r=x(!0,r,c)}var d="";if("string"==typeof i&&0<i.length&&(d=i),s){d=d.length>r.messageMaxLength?k(d).toString().substring(0,r.messageMaxLength)+"...":k(d).toString();var u,h,p="";0<d.length&&(p='<p id="'+r.messageID+'" class="nx-loading-message" style="color:'+r.messageColor+";font-size:"+r.messageFontSize+';">'+d+"</p>"),r.cssAnimation||(r.cssAnimationDuration=0);var g="";if(t===f.Standard)g=C(r.svgSize,r.svgColor);else if(t===f.Hourglass)g=T(r.svgSize,r.svgColor);else if(t===f.Circle)g=I(r.svgSize,r.svgColor);else if(t===f.Arrows)g=S(r.svgSize,r.svgColor);else if(t===f.Dots)g=E(r.svgSize,r.svgColor);else if(t===f.Pulse)g=N(r.svgSize,r.svgColor);else if(t===f.Custom&&null!==r.customSvgCode&&null===r.customSvgUrl)g=r.customSvgCode||"";else if(t===f.Custom&&null!==r.customSvgUrl&&null===r.customSvgCode)g='<img class="nx-custom-loading-icon" width="'+r.svgSize+'" height="'+r.svgSize+'" src="'+r.customSvgUrl+'" alt="Notiflix">';else{if(t===f.Custom&&(null===r.customSvgUrl||null===r.customSvgCode))return y('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;(u=r.svgSize)||(u="60px"),g='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+u+'" height="'+u+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:#f8f8f8;stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+(h="#32c682")+'" stroke="'+h+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>'}var v=parseInt((r.svgSize||"").replace(/[^0-9]/g,"")),_=e.innerWidth,b=v>=_?_-40+"px":v+"px",P='<div style="width:'+b+"; height:"+b+';" class="'+r.className+"-icon"+(0<d.length?" nx-with-message":"")+'">'+g+"</div>",R=e.document.createElement("div");R.id=m.ID,R.className=r.className+(r.cssAnimation?" nx-with-animation":"")+(r.clickToClose?" nx-loading-click-to-close":""),R.style.zIndex=r.zindex,R.style.background=r.backgroundColor,R.style.animationDuration=r.cssAnimationDuration+"ms",R.style.fontFamily='"'+r.fontFamily+'", '+o,R.style.display="flex",R.style.flexWrap="wrap",R.style.flexDirection="column",R.style.alignItems="center",R.style.justifyContent="center",r.rtl&&(R.setAttribute("dir","rtl"),R.classList.add("nx-rtl-on")),R.innerHTML=P+p,!e.document.getElementById(R.id)&&(e.document.body.appendChild(R),r.clickToClose)&&e.document.getElementById(R.id).addEventListener("click",function(){R.classList.add("nx-remove");var e=setTimeout(function(){null!==R.parentNode&&(R.parentNode.removeChild(R),clearTimeout(e))},r.cssAnimationDuration)})}else if(e.document.getElementById(m.ID))var A=e.document.getElementById(m.ID),O=setTimeout(function(){A.classList.add("nx-remove");var e=setTimeout(function(){null!==A.parentNode&&(A.parentNode.removeChild(A),clearTimeout(e))},r.cssAnimationDuration);clearTimeout(O)},a);r=x(!0,r,l)},W=function(t){"string"!=typeof t&&(t="");var i=e.document.getElementById(m.ID);if(i){if(0<t.length){t=t.length>r.messageMaxLength?k(t).substring(0,r.messageMaxLength)+"...":k(t);var n=i.getElementsByTagName("p")[0];if(n)n.innerHTML=t;else{var s=e.document.createElement("p");s.id=r.messageID,s.className="nx-loading-message nx-loading-message-new",s.style.color=r.messageColor,s.style.fontSize=r.messageFontSize,s.innerHTML=t,i.appendChild(s)}}else y("Where is the new message?")}},U=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},B=0,j=function(t,i,n,r,a,l){if(Array.isArray(n)){if(1>n.length)return y("Array of HTMLElements should contains at least one HTMLElement."),!1;P=n}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,n)){if(1>n.length)return y("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;P=Array.prototype.slice.call(n)}else{if("string"!=typeof n||1>(n||"").length||1===(n||"").length&&("#"===(n||"")[0]||"."===(n||"")[0]))return y("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var c=e.document.querySelectorAll(n);if(1>c.length)return y('You called the "Notiflix.Block..." function with "'+n+'" selector, but there is no such element(s) in the document.'),!1;P=c}s||q.Block.init({});var d=x(!0,s,{});if("object"==typeof r&&!Array.isArray(r)||"object"==typeof a&&!Array.isArray(a)){var u={};"object"==typeof r?u=r:"object"==typeof a&&(u=a),s=x(!0,s,u)}var h="";"string"==typeof r&&0<r.length&&(h=r),s.cssAnimation||(s.cssAnimationDuration=0);var p=v.className;"string"==typeof s.className&&(p=s.className.trim());var f="number"==typeof s.querySelectorLimit?s.querySelectorLimit:200,m=(P||[]).length>=f?f:P.length,b="nx-block-temporary-position";if(t){for(var P,R,A=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],O=0;O<m;O++)if(R=P[O]){if(-1<A.indexOf(R.tagName.toLocaleLowerCase("en")))break;var L=R.querySelectorAll("[id^="+v.ID+"]");if(1>L.length){var M="";i&&(M=i===g.Hourglass?T(s.svgSize,s.svgColor):i===g.Circle?I(s.svgSize,s.svgColor):i===g.Arrows?S(s.svgSize,s.svgColor):i===g.Dots?E(s.svgSize,s.svgColor):i===g.Pulse?N(s.svgSize,s.svgColor):C(s.svgSize,s.svgColor));var D='<span class="'+p+'-icon" style="width:'+s.svgSize+";height:"+s.svgSize+';">'+M+"</span>",F="";0<h.length&&(h=h.length>s.messageMaxLength?k(h).substring(0,s.messageMaxLength)+"...":k(h),F='<span style="font-size:'+s.messageFontSize+";color:"+s.messageColor+';" class="'+p+'-message">'+h+"</span>"),B++;var z=e.document.createElement("div");z.id=v.ID+"-"+B,z.className=p+(s.cssAnimation?" nx-with-animation":""),z.style.position=s.position,z.style.zIndex=s.zindex,z.style.background=s.backgroundColor,z.style.animationDuration=s.cssAnimationDuration+"ms",z.style.fontFamily='"'+s.fontFamily+'", '+o,z.style.display="flex",z.style.flexWrap="wrap",z.style.flexDirection="column",z.style.alignItems="center",z.style.justifyContent="center",s.rtl&&(z.setAttribute("dir","rtl"),z.classList.add("nx-rtl-on")),z.innerHTML=D+F;var W=e.getComputedStyle(R).getPropertyValue("position"),U="string"==typeof W?W.toLocaleLowerCase("en"):"relative",j=Math.round(1.25*parseInt(s.svgSize))+40,H=R.offsetHeight||0,V="";j>H&&(V="min-height:"+j+"px;");var G="";G=R.getAttribute("id")?"#"+R.getAttribute("id"):R.classList[0]?"."+R.classList[0]:(R.tagName||"").toLocaleLowerCase("en");var $="",X=-1>=["absolute","relative","fixed","sticky"].indexOf(U);if(X||0<V.length){if(!w("head"))return!1;X&&($="position:relative!important;");var K='<style id="Style-'+v.ID+"-"+B+'">'+G+"."+b+"{"+$+V+"}</style>",Y=e.document.createRange();Y.selectNode(e.document.head);var Q=Y.createContextualFragment(K);e.document.head.appendChild(Q),R.classList.add(b)}R.appendChild(z)}}}else var J=function(t){var i=setTimeout(function(){null!==t.parentNode&&t.parentNode.removeChild(t);var n=t.getAttribute("id"),r=e.document.getElementById("Style-"+n);r&&null!==r.parentNode&&r.parentNode.removeChild(r),clearTimeout(i)},s.cssAnimationDuration)},Z=function(e){if(e&&0<e.length)for(var t,i=0;i<e.length;i++)(t=e[i])&&(t.classList.add("nx-remove"),J(t));else"string"==typeof n?_('"Notiflix.Block.remove();" function called with "'+n+'" selector, but this selector does not have a "Block" element to remove.'):_('"Notiflix.Block.remove();" function called with "'+n+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},ee=function(e){var t=setTimeout(function(){e.classList.remove(b),clearTimeout(t)},s.cssAnimationDuration+300)},et=setTimeout(function(){for(var e,t=0;t<m;t++)(e=P[t])&&(ee(e),Z(L=e.querySelectorAll("[id^="+v.ID+"]")));clearTimeout(et)},l);s=x(!0,s,d)},q={Notify:{init:function(e){t=x(!0,c,e),b(P,"NotiflixNotifyInternalCSS")},merge:function(e){return t?void(t=x(!0,t,e)):(y("You have to initialize the Notify module before call Merge function."),!1)},success:function(e,t,i){A(l.Success,e,t,i)},failure:function(e,t,i){A(l.Failure,e,t,i)},warning:function(e,t,i){A(l.Warning,e,t,i)},info:function(e,t,i){A(l.Info,e,t,i)}},Report:{init:function(e){i=x(!0,u,e),b(O,"NotiflixReportInternalCSS")},merge:function(e){return i?void(i=x(!0,i,e)):(y("You have to initialize the Report module before call Merge function."),!1)},success:function(e,t,i,n,r){L(d.Success,e,t,i,n,r)},failure:function(e,t,i,n,r){L(d.Failure,e,t,i,n,r)},warning:function(e,t,i,n,r){L(d.Warning,e,t,i,n,r)},info:function(e,t,i,n,r){L(d.Info,e,t,i,n,r)}},Confirm:{init:function(e){n=x(!0,p,e),b(M,"NotiflixConfirmInternalCSS")},merge:function(e){return n?void(n=x(!0,n,e)):(y("You have to initialize the Confirm module before call Merge function."),!1)},show:function(e,t,i,n,r,s,a){D(h.Show,e,t,null,i,n,r,s,a)},ask:function(e,t,i,n,r,s,a,o){D(h.Ask,e,t,i,n,r,s,a,o)},prompt:function(e,t,i,n,r,s,a,o){D(h.Prompt,e,t,i,n,r,s,a,o)}},Loading:{init:function(e){r=x(!0,m,e),b(F,"NotiflixLoadingInternalCSS")},merge:function(e){return r?void(r=x(!0,r,e)):(y("You have to initialize the Loading module before call Merge function."),!1)},standard:function(e,t){z(f.Standard,e,t,!0,0)},hourglass:function(e,t){z(f.Hourglass,e,t,!0,0)},circle:function(e,t){z(f.Circle,e,t,!0,0)},arrows:function(e,t){z(f.Arrows,e,t,!0,0)},dots:function(e,t){z(f.Dots,e,t,!0,0)},pulse:function(e,t){z(f.Pulse,e,t,!0,0)},custom:function(e,t){z(f.Custom,e,t,!0,0)},notiflix:function(e,t){z(f.Notiflix,e,t,!0,0)},remove:function(e){"number"!=typeof e&&(e=0),z(null,null,null,!1,e)},change:function(e){W(e)}},Block:{init:function(e){s=x(!0,v,e),b(U,"NotiflixBlockInternalCSS")},merge:function(e){return s?void(s=x(!0,s,e)):(y('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(e,t,i){j(!0,g.Standard,e,t,i)},hourglass:function(e,t,i){j(!0,g.Hourglass,e,t,i)},circle:function(e,t,i){j(!0,g.Circle,e,t,i)},arrows:function(e,t,i){j(!0,g.Arrows,e,t,i)},dots:function(e,t,i){j(!0,g.Dots,e,t,i)},pulse:function(e,t,i){j(!0,g.Pulse,e,t,i)},remove:function(e,t){"number"!=typeof t&&(t=0),j(!1,null,e,null,null,t)}}};return"object"==typeof e.Notiflix?x(!0,e.Notiflix,{Notify:q.Notify,Report:q.Report,Confirm:q.Confirm,Loading:q.Loading,Block:q.Block}):{Notify:q.Notify,Report:q.Report,Confirm:q.Confirm,Loading:q.Loading,Block:q.Block}});var uU=class{constructor(){ik.initializeApp({apiKey:"AIzaSyCo7Hm3k-gsUsQ5NwATa_fhUGPi8TrU9Lo",authDomain:"localhost",projectId:"bookshelf-2f203",databaseURL:"https://bookshelf-2f203-default-rtdb.firebaseio.com"})}firebaseSignUp(e,t,i){ik.auth().createUserWithEmailAndPassword(e,t).then(e=>{let t=e.user.uid;ik.database().ref("users/"+t).set({name:i}),m(uW).Notify.success("Sign Up Success")}).catch(e=>{"auth/email-already-in-use"===e.code?m(uW).Notify.failure("Email already in use"):m(uW).Notify.failure("Registration failed: "+e.message)})}firebaseSignIn(e,t){return ik.auth().signInWithEmailAndPassword(e,t).then(e=>{let t=e.user.uid;return this.getUserData(t).then(e=>{let i=e&&e.name?e.name:"NONAME";return{userId:t,name:i}})}).catch(e=>{let t=e.code,i=e.message;return"auth/wrong-password"===t?m(uW).Notify.failure("Password is incorrect"):m(uW).Notify.failure("Sign In Error:",i),{userId:null,name:"NONAME"}})}getUserData(e){return ik.database().ref("users/"+e).once("value").then(e=>{if(e.exists())return e.val();throw Error("User data not found")})}firebaseLogOut(){ik.auth().signOut().then(()=>{m(uW).Notify.success("SignOut is Success")}).catch(e=>{m(uW).Notify.failure("SignOut Error",e)})}onAuthStateChanged(e){return ik.auth().onAuthStateChanged(e)}firebaseAddBookToList(e,t){ik.database().ref("users/"+e+"/shoppingList").push({bookID:t}).then(()=>{m(uW).Notify.success("Book was successfully added")}).catch(e=>{m(uW).Notify.failure("Error. Book was not added.",e)})}firebaseRemoveBookFromList(e,t){let i=ik.database().ref("users/"+e+"/shoppingList");i.orderByChild("bookID").equalTo(t).once("value").then(e=>{if(e.exists()){let t=Object.keys(e.val());t.forEach(e=>{i.child(e).remove()}),m(uW).Notify.success("Book was removed.")}else m(uW).Notify.failure("Book was not found.")}).catch(e=>{m(uW).Notify.failure("Error during removing Book:",e)})}firebaseClearShoppingList(e){let t=ik.database().ref("users/"+e+"/shoppingList");t.remove().then(()=>{m(uW).Notify.success("Shopping List was cleaned.")}).catch(e=>{m(uW).Notify.failure("Error during cleaning Shopping List:",e)})}firebaseSelectBooksFromList(e){return ik.database().ref("users/"+e+"/shoppingList").once("value").then(function(e){var t=e.val();return!!t&&Object.values(t).map(function(e){return e.bookID})}).catch(function(e){return console.error("Error getting the list :",e),!1})}};const uB=new uU;uB.firebaseSignIn("taras_678@ukr.net","Taras_123432atdgbdd"),uB.onAuthStateChanged(function(e){if(!e)return console.log("User is not authenticated"),!1;{let t=e.uid;return console.log("User is authenticated",t),uB.firebaseSelectBooksFromList(t).then(function(e){!1!==e?console.log("   :",e):console.log(" ")}).catch(function(e){console.error("      :",e)}),t}});
//# sourceMappingURL=index.15e696ab.js.map
